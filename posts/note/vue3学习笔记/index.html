<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Vue3å­¦ä¹ ç¬”è®° | Binb&#39;s Blog</title>
<meta name="keywords" content="Vue">
<meta name="description" content="å‚è€ƒé“¾æ¥ï¼š ä¸€ä¸ª Java çŒ¿çœ¼ä¸­ Vue3 å’Œ Vue2 çš„å·®å¼‚ ï¼ˆå»ºè®®æ”¶è—ï¼‰Vue3 å¯¹æ¯” Vue2.x å·®å¼‚æ€§ã€æ³¨æ„ç‚¹ã€æ•´ä½“æ¢³ç†ï¼Œä¸React hookæ¯”åˆå¦‚ä½•ï¼Ÿï¼ˆé¢è¯•çƒ­ç‚¹ï¼‰ Vue2å‡çº§">
<meta name="author" content="chance7bin">
<link rel="canonical" href="https://chance7bin.github.io/posts/note/vue3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.be81eec981a615a87a88f121642d7eebde74d033438693944db2fd6b827284ff.css" integrity="" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity=""
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="apple-touch-icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="mask-icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Vue3å­¦ä¹ ç¬”è®°" />
<meta property="og:description" content="å‚è€ƒé“¾æ¥ï¼š ä¸€ä¸ª Java çŒ¿çœ¼ä¸­ Vue3 å’Œ Vue2 çš„å·®å¼‚ ï¼ˆå»ºè®®æ”¶è—ï¼‰Vue3 å¯¹æ¯” Vue2.x å·®å¼‚æ€§ã€æ³¨æ„ç‚¹ã€æ•´ä½“æ¢³ç†ï¼Œä¸React hookæ¯”åˆå¦‚ä½•ï¼Ÿï¼ˆé¢è¯•çƒ­ç‚¹ï¼‰ Vue2å‡çº§" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chance7bin.github.io/posts/note/vue3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-09-14T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vue3å­¦ä¹ ç¬”è®°"/>
<meta name="twitter:description" content="å‚è€ƒé“¾æ¥ï¼š ä¸€ä¸ª Java çŒ¿çœ¼ä¸­ Vue3 å’Œ Vue2 çš„å·®å¼‚ ï¼ˆå»ºè®®æ”¶è—ï¼‰Vue3 å¯¹æ¯” Vue2.x å·®å¼‚æ€§ã€æ³¨æ„ç‚¹ã€æ•´ä½“æ¢³ç†ï¼Œä¸React hookæ¯”åˆå¦‚ä½•ï¼Ÿï¼ˆé¢è¯•çƒ­ç‚¹ï¼‰ Vue2å‡çº§"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“š æ–‡ç« ",
      "item": "https://chance7bin.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ‘¨ğŸ»â€ğŸ’» æˆ‘çš„ç¬”è®°",
      "item": "https://chance7bin.github.io/posts/note/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Vue3å­¦ä¹ ç¬”è®°",
      "item": "https://chance7bin.github.io/posts/note/vue3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Vue3å­¦ä¹ ç¬”è®°",
  "name": "Vue3å­¦ä¹ ç¬”è®°",
  "description": "å‚è€ƒé“¾æ¥ï¼š ä¸€ä¸ª Java çŒ¿çœ¼ä¸­ Vue3 å’Œ Vue2 çš„å·®å¼‚ ï¼ˆå»ºè®®æ”¶è—ï¼‰Vue3 å¯¹æ¯” Vue2.x å·®å¼‚æ€§ã€æ³¨æ„ç‚¹ã€æ•´ä½“æ¢³ç†ï¼Œä¸React hookæ¯”åˆå¦‚ä½•ï¼Ÿï¼ˆé¢è¯•çƒ­ç‚¹ï¼‰ Vue2å‡çº§",
  "keywords": [
    "Vue"
  ],
  "articleBody": " å‚è€ƒé“¾æ¥ï¼š\nä¸€ä¸ª Java çŒ¿çœ¼ä¸­ Vue3 å’Œ Vue2 çš„å·®å¼‚\nï¼ˆå»ºè®®æ”¶è—ï¼‰Vue3 å¯¹æ¯” Vue2.x å·®å¼‚æ€§ã€æ³¨æ„ç‚¹ã€æ•´ä½“æ¢³ç†ï¼Œä¸React hookæ¯”åˆå¦‚ä½•ï¼Ÿï¼ˆé¢è¯•çƒ­ç‚¹ï¼‰\nVue2å‡çº§åˆ°Vue3åˆ°åº•æ˜¯ä¸æ˜¯ä¸€ä¸ªæ­£ç¡®çš„é€‰æ‹©ï¼Ÿ(å°¤é›¨æºªäº²è‡ªå›å¤è§£è¯»)\né€‰é¡¹å¼APIå’Œç»„åˆå¼API é€‰é¡¹å¼ API (Options API) ä½¿ç”¨é€‰é¡¹å¼ APIï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŒ…å«å¤šä¸ªé€‰é¡¹çš„å¯¹è±¡æ¥æè¿°ç»„ä»¶çš„é€»è¾‘ï¼Œä¾‹å¦‚ dataã€methods å’Œ mountedã€‚é€‰é¡¹æ‰€å®šä¹‰çš„å±æ€§éƒ½ä¼šæš´éœ²åœ¨å‡½æ•°å†…éƒ¨çš„ this ä¸Šï¼Œå®ƒä¼šæŒ‡å‘å½“å‰çš„ç»„ä»¶å®ä¾‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 \u003cscript\u003e export default { // data() è¿”å›çš„å±æ€§å°†ä¼šæˆä¸ºå“åº”å¼çš„çŠ¶æ€ // å¹¶ä¸”æš´éœ²åœ¨ `this` ä¸Š data() { return { count: 0 } }, // methods æ˜¯ä¸€äº›ç”¨æ¥æ›´æ”¹çŠ¶æ€ä¸è§¦å‘æ›´æ–°çš„å‡½æ•° // å®ƒä»¬å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½œä¸ºäº‹ä»¶ç›‘å¬å™¨ç»‘å®š methods: { increment() { this.count++ } }, // ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªä¸åŒé˜¶æ®µè¢«è°ƒç”¨ // ä¾‹å¦‚è¿™ä¸ªå‡½æ•°å°±ä¼šåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåè¢«è°ƒç”¨ mounted() { console.log(`The initial count is ${this.count}.`) } } \u003c/script\u003e \u003ctemplate\u003e \u003cbutton @click=\"increment\"\u003eCount is: {{ count }}\u003c/button\u003e \u003c/template\u003e ç»„åˆå¼ API (Composition API) é€šè¿‡ç»„åˆå¼ APIï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¼å…¥çš„ API å‡½æ•°æ¥æè¿°ç»„ä»¶é€»è¾‘ã€‚åœ¨å•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œç»„åˆå¼ API é€šå¸¸ä¼šä¸ ",
  "wordCount" : "11336",
  "inLanguage": "zh",
  "datePublished": "2022-09-14T00:00:00Z",
  "dateModified": "2022-09-14T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "chance7bin"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chance7bin.github.io/posts/note/vue3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Binb's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chance7bin.github.io/" accesskey="h" title="Binb&#39;s Blog (Alt + H)">
                <img src="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg" alt="" aria-label="logo"
                    height="35">Binb&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chance7bin.github.io/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/" title="ğŸ  ä¸»é¡µ">
                    <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/archives/" title="â±ï¸ æ—¶é—´è½´">
                    <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/posts" title="ğŸ“š æ–‡ç« ">
                    <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/tags" title="ğŸ”– æ ‡ç­¾">
                    <span>ğŸ”– æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/chance7bin" title="GitHub">
                    <span>GitHub</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://chance7bin.github.io/">ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/">ğŸ“š æ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/note/">ğŸ‘¨ğŸ»â€ğŸ’» æˆ‘çš„ç¬”è®°</a></div>
    <h1 class="post-title">
      Vue3å­¦ä¹ ç¬”è®°
    </h1>
    <div class="post-meta">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">


<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2022-09-14
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>11336å­—
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>23åˆ†é’Ÿ
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>chance7bin
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
                <a href="https://chance7bin.github.io/tags/vue/" style="color: var(--secondary)!important;">Vue</a>
            </span>
        </span>
    </span>

    
</span>


      
      
      
      
      
      
      
          
          
          
              
              
              
              
          
      
    </div>
  </header>
   <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e9%80%89%e9%a1%b9%e5%bc%8fapi%e5%92%8c%e7%bb%84%e5%90%88%e5%bc%8fapi" aria-label="é€‰é¡¹å¼APIå’Œç»„åˆå¼API">é€‰é¡¹å¼APIå’Œç»„åˆå¼API</a><ul>
                            
                    <li>
                        <a href="#%e9%80%89%e9%a1%b9%e5%bc%8f-api-options-api" aria-label="é€‰é¡¹å¼ API (Options API)">é€‰é¡¹å¼ API (Options API)</a></li>
                    <li>
                        <a href="#%e7%bb%84%e5%90%88%e5%bc%8f-api-composition-api" aria-label="ç»„åˆå¼ API (Composition API)">ç»„åˆå¼ API (Composition API)</a></li>
                    <li>
                        <a href="#%e5%8c%ba%e5%88%ab" aria-label="åŒºåˆ«">åŒºåˆ«</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%93%8d%e5%ba%94%e5%bc%8f" aria-label="å“åº”å¼">å“åº”å¼</a><ul>
                            
                    <li>
                        <a href="#setup" aria-label="setup()">setup()</a></li>
                    <li>
                        <a href="#reactive" aria-label="reactive">reactive</a></li>
                    <li>
                        <a href="#torefs" aria-label="toRefs">toRefs</a></li>
                    <li>
                        <a href="#ref" aria-label="ref">ref</a></li>
                    <li>
                        <a href="#reactive-vs-ref" aria-label="reactive vs ref">reactive vs ref</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7" aria-label="è®¡ç®—å±æ€§">è®¡ç®—å±æ€§</a><ul>
                            
                    <li>
                        <a href="#%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7%e7%bc%93%e5%ad%98-vs-%e6%96%b9%e6%b3%95" aria-label="è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•">è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•</a></li>
                    <li>
                        <a href="#%e5%8f%af%e5%86%99%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7" aria-label="å¯å†™è®¡ç®—å±æ€§">å¯å†™è®¡ç®—å±æ€§</a></li>
                    <li>
                        <a href="#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</a><ul>
                            
                    <li>
                        <a href="#%e8%ae%a1%e7%ae%97%e5%87%bd%e6%95%b0%e4%b8%8d%e5%ba%94%e6%9c%89%e5%89%af%e4%bd%9c%e7%94%a8" aria-label="è®¡ç®—å‡½æ•°ä¸åº”æœ‰å‰¯ä½œç”¨">è®¡ç®—å‡½æ•°ä¸åº”æœ‰å‰¯ä½œç”¨</a></li>
                    <li>
                        <a href="#%e9%81%bf%e5%85%8d%e7%9b%b4%e6%8e%a5%e4%bf%ae%e6%94%b9%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7%e5%80%bc" aria-label="é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼">é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e6%9d%a1%e4%bb%b6%e6%b8%b2%e6%9f%93" aria-label="æ¡ä»¶æ¸²æŸ“">æ¡ä»¶æ¸²æŸ“</a><ul>
                            
                    <li>
                        <a href="#v-if-%e5%92%8c-v-for" aria-label="v-if å’Œ v-for"><code>v-if</code> å’Œ <code>v-for</code></a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%88%97%e8%a1%a8%e6%b8%b2%e6%9f%93" aria-label="åˆ—è¡¨æ¸²æŸ“">åˆ—è¡¨æ¸²æŸ“</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%84%e4%bb%b6%e4%b8%8a%e4%bd%bf%e7%94%a8-v-for" aria-label="ç»„ä»¶ä¸Šä½¿ç”¨ v-for">ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-for</code></a></li>
                    <li>
                        <a href="#%e5%b1%95%e7%a4%ba%e8%bf%87%e6%bb%a4%e6%88%96%e6%8e%92%e5%ba%8f%e5%90%8e%e7%9a%84%e7%bb%93%e6%9e%9c" aria-label="å±•ç¤ºè¿‡æ»¤æˆ–æ’åºåçš„ç»“æœ">å±•ç¤ºè¿‡æ»¤æˆ–æ’åºåçš„ç»“æœ</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86" aria-label="äº‹ä»¶å¤„ç†">äº‹ä»¶å¤„ç†</a><ul>
                            
                    <li>
                        <a href="#%e5%9c%a8%e5%86%85%e8%81%94%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86%e5%99%a8%e4%b8%ad%e8%ae%bf%e9%97%ae%e4%ba%8b%e4%bb%b6%e5%8f%82%e6%95%b0" aria-label="åœ¨å†…è”äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®äº‹ä»¶å‚æ•°">åœ¨å†…è”äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®äº‹ä»¶å‚æ•°</a></li>
                    <li>
                        <a href="#%e4%ba%8b%e4%bb%b6%e4%bf%ae%e9%a5%b0%e7%ac%a6" aria-label="äº‹ä»¶ä¿®é¥°ç¬¦">äº‹ä»¶ä¿®é¥°ç¬¦</a></li>
                    <li>
                        <a href="#%e6%8c%89%e9%94%ae%e4%bf%ae%e9%a5%b0%e7%ac%a6" aria-label="æŒ‰é”®ä¿®é¥°ç¬¦">æŒ‰é”®ä¿®é¥°ç¬¦</a><ul>
                            
                    <li>
                        <a href="#%e6%8c%89%e9%94%ae%e5%88%ab%e5%90%8d" aria-label="æŒ‰é”®åˆ«å">æŒ‰é”®åˆ«å</a></li>
                    <li>
                        <a href="#%e7%b3%bb%e7%bb%9f%e6%8c%89%e9%94%ae%e4%bf%ae%e9%a5%b0%e7%ac%a6" aria-label="ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦">ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦</a></li>
                    <li>
                        <a href="#exact-%e4%bf%ae%e9%a5%b0%e7%ac%a6" aria-label=".exact ä¿®é¥°ç¬¦"><code>.exact</code> ä¿®é¥°ç¬¦</a></li>
                    <li>
                        <a href="#%e9%bc%a0%e6%a0%87%e6%8c%89%e9%94%ae%e4%bf%ae%e9%a5%b0%e7%ac%a6" aria-label="é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦">é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</a></li>
                    <li>
                        <a href="#%e4%be%a6%e5%90%ac%e5%99%a8" aria-label="ä¾¦å¬å™¨">ä¾¦å¬å™¨</a><ul>
                            
                    <li>
                        <a href="#%e6%b7%b1%e5%b1%82%e4%be%a6%e5%90%ac%e5%99%a8" aria-label="æ·±å±‚ä¾¦å¬å™¨">æ·±å±‚ä¾¦å¬å™¨</a></li>
                    <li>
                        <a href="#%e5%8d%b3%e6%97%b6%e5%9b%9e%e8%b0%83%e7%9a%84%e4%be%a6%e5%90%ac%e5%99%a8" aria-label="å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨">å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%a8%a1%e6%9d%bf%e5%bc%95%e7%94%a8" aria-label="æ¨¡æ¿å¼•ç”¨">æ¨¡æ¿å¼•ç”¨</a></li>
                    <li>
                        <a href="#%e7%bb%84%e4%bb%b6%e5%9f%ba%e7%a1%80" aria-label="ç»„ä»¶åŸºç¡€">ç»„ä»¶åŸºç¡€</a><ul>
                            
                    <li>
                        <a href="#%e5%a4%a7%e5%b0%8f%e5%86%99%e5%8c%ba%e5%88%86" aria-label="å¤§å°å†™åŒºåˆ†">å¤§å°å†™åŒºåˆ†</a></li></ul>
                    </li>
                    <li>
                        <a href="#props" aria-label="Props">Props</a><ul>
                            
                    <li>
                        <a href="#boolean-%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="Boolean ç±»å‹è½¬æ¢"><strong>Boolean ç±»å‹è½¬æ¢</strong></a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%ba%8b%e4%bb%b6" aria-label="äº‹ä»¶">äº‹ä»¶</a><ul>
                            
                    <li>
                        <a href="#%e4%ba%8b%e4%bb%b6%e6%a0%a1%e9%aa%8c" aria-label="äº‹ä»¶æ ¡éªŒ">äº‹ä»¶æ ¡éªŒ</a></li>
                    <li>
                        <a href="#%e9%85%8d%e5%90%88-v-model-%e4%bd%bf%e7%94%a8" aria-label="é…åˆ v-model ä½¿ç”¨">é…åˆ <code>v-model</code> ä½¿ç”¨</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%8f%92%e6%a7%bd" aria-label="æ’æ§½">æ’æ§½</a><ul>
                            
                    <li>
                        <a href="#%e6%8f%92%e6%a7%bd%e5%86%85%e5%ae%b9%e4%b8%8e%e5%87%ba%e5%8f%a3" aria-label="æ’æ§½å†…å®¹ä¸å‡ºå£">æ’æ§½å†…å®¹ä¸å‡ºå£</a></li>
                    <li>
                        <a href="#%e5%85%b7%e5%90%8d%e6%8f%92%e6%a7%bd" aria-label="å…·åæ’æ§½">å…·åæ’æ§½</a></li>
                    <li>
                        <a href="#%e4%bd%9c%e7%94%a8%e5%9f%9f%e6%8f%92%e6%a7%bd" aria-label="ä½œç”¨åŸŸæ’æ§½">ä½œç”¨åŸŸæ’æ§½</a><ul>
                            
                    <li>
                        <a href="#%e9%ab%98%e7%ba%a7%e5%88%97%e8%a1%a8%e7%bb%84%e4%bb%b6%e7%a4%ba%e4%be%8b" aria-label="é«˜çº§åˆ—è¡¨ç»„ä»¶ç¤ºä¾‹">é«˜çº§åˆ—è¡¨ç»„ä»¶ç¤ºä¾‹</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e4%be%9d%e8%b5%96%e6%b3%a8%e5%85%a5" aria-label="ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥</a></li>
                    <li>
                        <a href="#%e7%bb%84%e5%90%88%e5%bc%8f%e5%87%bd%e6%95%b0" aria-label="ç»„åˆå¼å‡½æ•°">ç»„åˆå¼å‡½æ•°</a><ul>
                            
                    <li>
                        <a href="#%e9%bc%a0%e6%a0%87%e8%b7%9f%e8%b8%aa%e5%99%a8%e7%a4%ba%e4%be%8b" aria-label="é¼ æ ‡è·Ÿè¸ªå™¨ç¤ºä¾‹">é¼ æ ‡è·Ÿè¸ªå™¨ç¤ºä¾‹</a></li>
                    <li>
                        <a href="#%e7%ba%a6%e5%ae%9a%e5%92%8c%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="çº¦å®šå’Œæœ€ä½³å®è·µ">çº¦å®šå’Œæœ€ä½³å®è·µ</a><ul>
                            
                    <li>
                        <a href="#%e5%91%bd%e5%90%8d" aria-label="å‘½å">å‘½å</a></li>
                    <li>
                        <a href="#%e8%be%93%e5%85%a5%e5%8f%82%e6%95%b0" aria-label="è¾“å…¥å‚æ•°">è¾“å…¥å‚æ•°</a></li>
                    <li>
                        <a href="#%e8%bf%94%e5%9b%9e%e5%80%bc" aria-label="è¿”å›å€¼">è¿”å›å€¼</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%8c%87%e4%bb%a4" aria-label="è‡ªå®šä¹‰æŒ‡ä»¤">è‡ªå®šä¹‰æŒ‡ä»¤</a></li>
                    <li>
                        <a href="#%e8%b7%af%e7%94%b1" aria-label="è·¯ç”±">è·¯ç”±</a><ul>
                            
                    <li>
                        <a href="#%e6%8d%95%e8%8e%b7%e6%89%80%e6%9c%89%e8%b7%af%e7%94%b1%e6%88%96-404-not-found-%e8%b7%af%e7%94%b1" aria-label="æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±">æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±</a></li>
                    <li>
                        <a href="#%e8%b7%af%e7%94%b1%e7%9a%84%e5%8c%b9%e9%85%8d%e8%af%ad%e6%b3%95" aria-label="è·¯ç”±çš„åŒ¹é…è¯­æ³•">è·¯ç”±çš„åŒ¹é…è¯­æ³•</a><ul>
                            
                    <li>
                        <a href="#%e5%9c%a8%e5%8f%82%e6%95%b0%e4%b8%ad%e8%87%aa%e5%ae%9a%e4%b9%89%e6%ad%a3%e5%88%99" aria-label="åœ¨å‚æ•°ä¸­è‡ªå®šä¹‰æ­£åˆ™">åœ¨å‚æ•°ä¸­è‡ªå®šä¹‰æ­£åˆ™</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%bc%96%e7%a8%8b%e5%bc%8f%e5%af%bc%e8%88%aa" aria-label="ç¼–ç¨‹å¼å¯¼èˆª">ç¼–ç¨‹å¼å¯¼èˆª</a></li>
                    <li>
                        <a href="#%e5%91%bd%e5%90%8d%e8%a7%86%e5%9b%be" aria-label="å‘½åè§†å›¾">å‘½åè§†å›¾</a><ul>
                            
                    <li>
                        <a href="#%e5%b5%8c%e5%a5%97%e5%91%bd%e5%90%8d%e8%a7%86%e5%9b%be" aria-label="åµŒå¥—å‘½åè§†å›¾">åµŒå¥—å‘½åè§†å›¾</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%af%bc%e8%88%aa%e5%ae%88%e5%8d%ab" aria-label="å¯¼èˆªå®ˆå«">å¯¼èˆªå®ˆå«</a></li>
                    <li>
                        <a href="#%e8%b7%af%e7%94%b1%e6%87%92%e5%8a%a0%e8%bd%bd" aria-label="è·¯ç”±æ‡’åŠ è½½">è·¯ç”±æ‡’åŠ è½½</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86" aria-label="çŠ¶æ€ç®¡ç†">çŠ¶æ€ç®¡ç†</a><ul>
                            
                    <li>
                        <a href="#pinia" aria-label="Pinia">Pinia</a><ul>
                            
                    <li>
                        <a href="#%e5%ae%89%e8%a3%85" aria-label="å®‰è£…">å®‰è£…</a></li>
                    <li>
                        <a href="#store" aria-label="Store">Store</a></li>
                    <li>
                        <a href="#state" aria-label="State">State</a></li>
                    <li>
                        <a href="#getters" aria-label="Getters">Getters</a></li>
                    <li>
                        <a href="#actions" aria-label="Actions">Actions</a></li></ul>
                    </li>
                    <li>
                        <a href="#vuex" aria-label="Vuex">Vuex</a></li></ul>
                    </li>
                    <li>
                        <a href="#typescript-%e4%b8%8e%e7%bb%84%e5%90%88%e5%bc%8f-api" aria-label="TypeScript ä¸ç»„åˆå¼ API">TypeScript ä¸ç»„åˆå¼ API</a><ul>
                            
                    <li>
                        <a href="#%e4%b8%ba%e7%bb%84%e4%bb%b6%e7%9a%84-props-%e6%a0%87%e6%b3%a8%e7%b1%bb%e5%9e%8b" aria-label="ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹">ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹</a></li></ul>
                    </li>
                    <li>
                        <a href="#typescript-%e4%b8%8e%e9%80%89%e9%a1%b9%e5%bc%8f-api" aria-label="TypeScript ä¸é€‰é¡¹å¼ API">TypeScript ä¸é€‰é¡¹å¼ API</a><ul>
                            
                    <li>
                        <a href="#%e4%b8%ba%e7%bb%84%e4%bb%b6%e7%9a%84-props-%e6%a0%87%e6%b3%a8%e7%b1%bb%e5%9e%8b-1" aria-label="ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹">ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://juejin.cn/post/7121596766893867016">ä¸€ä¸ª Java çŒ¿çœ¼ä¸­ Vue3 å’Œ Vue2 çš„å·®å¼‚</a></p>
<p><a href="https://juejin.cn/post/6892295955844956167">ï¼ˆå»ºè®®æ”¶è—ï¼‰Vue3 å¯¹æ¯” Vue2.x å·®å¼‚æ€§ã€æ³¨æ„ç‚¹ã€æ•´ä½“æ¢³ç†ï¼Œä¸React hookæ¯”åˆå¦‚ä½•ï¼Ÿï¼ˆé¢è¯•çƒ­ç‚¹ï¼‰</a></p>
<p><a href="https://juejin.cn/post/7117525259212816414">Vue2å‡çº§åˆ°Vue3åˆ°åº•æ˜¯ä¸æ˜¯ä¸€ä¸ªæ­£ç¡®çš„é€‰æ‹©ï¼Ÿ(å°¤é›¨æºªäº²è‡ªå›å¤è§£è¯»)</a></p>
</blockquote>
<h2 id="é€‰é¡¹å¼apiå’Œç»„åˆå¼api">é€‰é¡¹å¼APIå’Œç»„åˆå¼API<a hidden class="anchor" aria-hidden="true" href="#é€‰é¡¹å¼apiå’Œç»„åˆå¼api">#</a></h2>
<h3 id="é€‰é¡¹å¼-api-options-api">é€‰é¡¹å¼ API (Options API)<a hidden class="anchor" aria-hidden="true" href="#é€‰é¡¹å¼-api-options-api">#</a></h3>
<p>ä½¿ç”¨é€‰é¡¹å¼ APIï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŒ…å«å¤šä¸ªé€‰é¡¹çš„å¯¹è±¡æ¥æè¿°ç»„ä»¶çš„é€»è¾‘ï¼Œä¾‹å¦‚ <code>data</code>ã€<code>methods</code> å’Œ <code>mounted</code>ã€‚é€‰é¡¹æ‰€å®šä¹‰çš„å±æ€§éƒ½ä¼šæš´éœ²åœ¨å‡½æ•°å†…éƒ¨çš„ <code>this</code> ä¸Šï¼Œå®ƒä¼šæŒ‡å‘å½“å‰çš„ç»„ä»¶å®ä¾‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// data() è¿”å›çš„å±æ€§å°†ä¼šæˆä¸ºå“åº”å¼çš„çŠ¶æ€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// å¹¶ä¸”æš´éœ²åœ¨ `this` ä¸Š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">count</span><span class="o">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// methods æ˜¯ä¸€äº›ç”¨æ¥æ›´æ”¹çŠ¶æ€ä¸è§¦å‘æ›´æ–°çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// å®ƒä»¬å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½œä¸ºäº‹ä»¶ç›‘å¬å™¨ç»‘å®š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªä¸åŒé˜¶æ®µè¢«è°ƒç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// ä¾‹å¦‚è¿™ä¸ªå‡½æ•°å°±ä¼šåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåè¢«è°ƒç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`The initial count is </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="si">}</span><span class="sb">.`</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;increment&#34;</span><span class="p">&gt;</span><span class="na">Count</span> <span class="na">is</span><span class="o">:</span> <span class="p">{{</span> <span class="na">count</span> <span class="p">}}&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç»„åˆå¼-api-composition-api">ç»„åˆå¼ API (Composition API)<a hidden class="anchor" aria-hidden="true" href="#ç»„åˆå¼-api-composition-api">#</a></h3>
<p>é€šè¿‡ç»„åˆå¼ APIï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¼å…¥çš„ API å‡½æ•°æ¥æè¿°ç»„ä»¶é€»è¾‘ã€‚åœ¨å•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œç»„åˆå¼ API é€šå¸¸ä¼šä¸ <code>&lt;script setup&gt;</code> æ­é…ä½¿ç”¨ã€‚è¿™ä¸ª <code>setup</code> attribute æ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œå‘Šè¯‰ Vue éœ€è¦åœ¨ç¼–è¯‘æ—¶è¿›è¡Œä¸€äº›å¤„ç†ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´ç®€æ´åœ°ä½¿ç”¨ç»„åˆå¼ APIã€‚æ¯”å¦‚ï¼Œ<code>&lt;script setup&gt;</code> ä¸­çš„å¯¼å…¥å’Œé¡¶å±‚å˜é‡/å‡½æ•°éƒ½èƒ½å¤Ÿåœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨äº†ç»„åˆå¼ API ä¸ <code>&lt;script setup&gt;</code> æ”¹é€ åå’Œä¸Šé¢çš„æ¨¡æ¿å®Œå…¨ä¸€æ ·çš„ç»„ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">onMounted</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å“åº”å¼çŠ¶æ€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç”¨æ¥ä¿®æ”¹çŠ¶æ€ã€è§¦å‘æ›´æ–°çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç”Ÿå‘½å‘¨æœŸé’©å­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">onMounted</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`The initial count is </span><span class="si">${</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">.`</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;increment&#34;</span><span class="p">&gt;</span><span class="na">Count</span> <span class="na">is</span><span class="o">:</span> <span class="p">{{</span> <span class="na">count</span> <span class="p">}}&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åŒºåˆ«">åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#åŒºåˆ«">#</a></h3>
<blockquote>
<p>å‚è€ƒé“¾æ¥</p>
<p><a href="https://juejin.cn/post/6966606592024576013">vue3å­¦ä¹ ï¼ˆ2ï¼‰é€‰é¡¹å¼APIå’Œç»„åˆå¼APIçš„åŒºåˆ«</a></p>
</blockquote>
<h2 id="å“åº”å¼">å“åº”å¼<a hidden class="anchor" aria-hidden="true" href="#å“åº”å¼">#</a></h2>
<h3 id="setup">setup()<a hidden class="anchor" aria-hidden="true" href="#setup">#</a></h3>
<h3 id="reactive">reactive<a hidden class="anchor" aria-hidden="true" href="#reactive">#</a></h3>
<p><a href="https://blog.csdn.net/weixin_47886687/article/details/112918795">https://blog.csdn.net/weixin_47886687/article/details/112918795</a></p>
<h3 id="torefs">toRefs<a hidden class="anchor" aria-hidden="true" href="#torefs">#</a></h3>
<h3 id="ref">ref<a hidden class="anchor" aria-hidden="true" href="#ref">#</a></h3>
<p>åœ¨setupå‡½æ•°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨refå‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒVueä¼šè‡ªåŠ¨æ›´æ–°UI</p>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://blog.csdn.net/qq_37968920/article/details/115544694">Vue3.0 reactive()ã€ref()ã€unref()ã€isref()ã€toRefs()ã€computed()</a></p>
</blockquote>
<h3 id="reactive-vs-ref">reactive vs ref<a hidden class="anchor" aria-hidden="true" href="#reactive-vs-ref">#</a></h3>
<ul>
<li>reactiveå‚æ•°ä¸€èˆ¬æ¥å—<strong>å¯¹è±¡æˆ–æ•°ç»„</strong>ï¼Œæ˜¯æ·±å±‚æ¬¡çš„å“åº”å¼ã€‚refå‚æ•°ä¸€èˆ¬æ¥æ”¶<strong>ç®€å•æ•°æ®ç±»å‹</strong>ï¼Œè‹¥refæ¥æ”¶å¯¹è±¡ä¸ºå‚æ•°ï¼Œæœ¬è´¨ä¸Šä¼šè½¬å˜ä¸ºreactiveæ–¹æ³•</li>
<li>åœ¨JSä¸­è®¿é—®refçš„å€¼éœ€è¦æ‰‹åŠ¨æ·»åŠ <code>.value</code>ï¼Œè®¿é—®reactiveä¸éœ€è¦</li>
<li>å“åº”å¼çš„åº•å±‚åŸç†éƒ½æ˜¯Proxy</li>
</ul>
<h2 id="è®¡ç®—å±æ€§">è®¡ç®—å±æ€§<a hidden class="anchor" aria-hidden="true" href="#è®¡ç®—å±æ€§">#</a></h2>
<h3 id="è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•">è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•">#</a></h3>
<p>ä½ å¯èƒ½æ³¨æ„åˆ°æˆ‘ä»¬åœ¨è¡¨è¾¾å¼ä¸­åƒè¿™æ ·è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¹Ÿä¼šè·å¾—å’Œè®¡ç®—å±æ€§ç›¸åŒçš„ç»“æœï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ calculateBooksMessage() }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// ç»„ä»¶ä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">calculateBooksMessage</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">author</span><span class="p">.</span><span class="nx">books</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s1">&#39;Yes&#39;</span> <span class="o">:</span> <span class="s1">&#39;No&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è‹¥æˆ‘ä»¬å°†åŒæ ·çš„å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯è®¡ç®—å±æ€§ï¼Œä¸¤ç§æ–¹å¼åœ¨ç»“æœä¸Šç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œç„¶è€Œï¼Œä¸åŒä¹‹å¤„åœ¨äº<strong>è®¡ç®—å±æ€§å€¼ä¼šåŸºäºå…¶å“åº”å¼ä¾èµ–è¢«ç¼“å­˜</strong>ã€‚ä¸€ä¸ªè®¡ç®—å±æ€§ä»…ä¼šåœ¨å…¶å“åº”å¼ä¾èµ–æ›´æ–°æ—¶æ‰é‡æ–°è®¡ç®—ã€‚è¿™æ„å‘³ç€åªè¦ <code>author.books</code> ä¸æ”¹å˜ï¼Œæ— è®ºå¤šå°‘æ¬¡è®¿é—® <code>publishedBooksMessage</code> éƒ½ä¼šç«‹å³è¿”å›å…ˆå‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸ç”¨é‡å¤æ‰§è¡Œ getter å‡½æ•°ã€‚</p>
<p>è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆä¸‹é¢çš„è®¡ç®—å±æ€§æ°¸è¿œä¸ä¼šæ›´æ–°ï¼Œå› ä¸º <code>Date.now()</code> å¹¶ä¸æ˜¯ä¸€ä¸ªå“åº”å¼ä¾èµ–ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">now</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ–¹æ³•è°ƒç”¨<strong>æ€»æ˜¯</strong>ä¼šåœ¨é‡æ¸²æŸ“å‘ç”Ÿæ—¶å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜å‘¢ï¼Ÿæƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬æœ‰ä¸€ä¸ªéå¸¸è€—æ€§èƒ½çš„è®¡ç®—å±æ€§ <code>list</code>ï¼Œéœ€è¦å¾ªç¯ä¸€ä¸ªå·¨å¤§çš„æ•°ç»„å¹¶åšè®¸å¤šè®¡ç®—é€»è¾‘ï¼Œå¹¶ä¸”å¯èƒ½ä¹Ÿæœ‰å…¶ä»–è®¡ç®—å±æ€§ä¾èµ–äº <code>list</code>ã€‚æ²¡æœ‰ç¼“å­˜çš„è¯ï¼Œæˆ‘ä»¬ä¼šé‡å¤æ‰§è¡Œéå¸¸å¤šæ¬¡ <code>list</code> çš„è®¡ç®—å‡½æ•°ï¼Œç„¶è€Œè¿™å®é™…ä¸Šæ²¡æœ‰å¿…è¦ï¼å¦‚æœä½ ç¡®å®šä¸éœ€è¦ç¼“å­˜ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ³•è°ƒç”¨ã€‚</p>
<h3 id="å¯å†™è®¡ç®—å±æ€§">å¯å†™è®¡ç®—å±æ€§<a hidden class="anchor" aria-hidden="true" href="#å¯å†™è®¡ç®—å±æ€§">#</a></h3>
<p>è®¡ç®—å±æ€§é»˜è®¤ä»…èƒ½é€šè¿‡è®¡ç®—å‡½æ•°å¾—å‡ºç»“æœã€‚å½“ä½ å°è¯•ä¿®æ”¹ä¸€ä¸ªè®¡ç®—å±æ€§æ—¶ï¼Œä½ ä¼šæ”¶åˆ°ä¸€ä¸ªè¿è¡Œæ—¶è­¦å‘Šã€‚åªåœ¨æŸäº›ç‰¹æ®Šåœºæ™¯ä¸­ä½ å¯èƒ½æ‰éœ€è¦ç”¨åˆ°â€œå¯å†™â€çš„å±æ€§ï¼Œä½ å¯ä»¥é€šè¿‡åŒæ—¶æä¾› getter å’Œ setter æ¥åˆ›å»ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Doe&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// getter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// setter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">set</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ³¨æ„ï¼šæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯è§£æ„èµ‹å€¼è¯­æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">newValue</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨å½“ä½ å†è¿è¡Œ <code>this.fullName = 'John Doe'</code> æ—¶ï¼Œsetter ä¼šè¢«è°ƒç”¨è€Œ <code>this.firstName</code> å’Œ <code>this.lastName</code> ä¼šéšä¹‹æ›´æ–°ã€‚</p>
<h3 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ<a hidden class="anchor" aria-hidden="true" href="#æœ€ä½³å®è·µ">#</a></h3>
<h4 id="è®¡ç®—å‡½æ•°ä¸åº”æœ‰å‰¯ä½œç”¨">è®¡ç®—å‡½æ•°ä¸åº”æœ‰å‰¯ä½œç”¨<a hidden class="anchor" aria-hidden="true" href="#è®¡ç®—å‡½æ•°ä¸åº”æœ‰å‰¯ä½œç”¨">#</a></h4>
<p>è®¡ç®—å±æ€§çš„è®¡ç®—å‡½æ•°åº”åªåšè®¡ç®—è€Œæ²¡æœ‰ä»»ä½•å…¶ä»–çš„å‰¯ä½œç”¨ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œè¯·åŠ¡å¿…ç‰¢è®°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ<strong>ä¸è¦åœ¨è®¡ç®—å‡½æ•°ä¸­åšå¼‚æ­¥è¯·æ±‚æˆ–è€…æ›´æ”¹ DOM</strong>ï¼ä¸€ä¸ªè®¡ç®—å±æ€§çš„å£°æ˜ä¸­æè¿°çš„æ˜¯å¦‚ä½•æ ¹æ®å…¶ä»–å€¼æ´¾ç”Ÿä¸€ä¸ªå€¼ã€‚å› æ­¤è®¡ç®—å‡½æ•°çš„èŒè´£åº”è¯¥ä»…ä¸ºè®¡ç®—å’Œè¿”å›è¯¥å€¼ã€‚åœ¨ä¹‹åçš„æŒ‡å¼•ä¸­æˆ‘ä»¬ä¼šè®¨è®ºå¦‚ä½•ä½¿ç”¨<a href="https://cn.vuejs.org/guide/essentials/watchers.html">ç›‘å¬å™¨</a>æ ¹æ®å…¶ä»–å“åº”å¼çŠ¶æ€çš„å˜æ›´æ¥åˆ›å»ºå‰¯ä½œç”¨ã€‚</p>
<h4 id="é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼">é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼<a hidden class="anchor" aria-hidden="true" href="#é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼">#</a></h4>
<p>ä»è®¡ç®—å±æ€§è¿”å›çš„å€¼æ˜¯æ´¾ç”ŸçŠ¶æ€ã€‚å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªâ€œä¸´æ—¶å¿«ç…§â€ï¼Œæ¯å½“æºçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¿«ç…§ã€‚æ›´æ”¹å¿«ç…§æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤è®¡ç®—å±æ€§çš„è¿”å›å€¼åº”è¯¥è¢«è§†ä¸ºåªè¯»çš„ï¼Œå¹¶ä¸”æ°¸è¿œä¸åº”è¯¥è¢«æ›´æ”¹â€”â€”åº”è¯¥æ›´æ–°å®ƒæ‰€ä¾èµ–çš„æºçŠ¶æ€ä»¥è§¦å‘æ–°çš„è®¡ç®—ã€‚</p>
<h2 id="æ¡ä»¶æ¸²æŸ“">æ¡ä»¶æ¸²æŸ“<a hidden class="anchor" aria-hidden="true" href="#æ¡ä»¶æ¸²æŸ“">#</a></h2>
<h3 id="v-if-å’Œ-v-for"><code>v-if</code> å’Œ <code>v-for</code><a hidden class="anchor" aria-hidden="true" href="#v-if-å’Œ-v-for">#</a></h3>
<blockquote>
<p>è­¦å‘Š</p>
<p>åŒæ—¶ä½¿ç”¨ <code>v-if</code> å’Œ <code>v-for</code> æ˜¯<strong>ä¸æ¨èçš„</strong>ï¼Œå› ä¸ºè¿™æ ·äºŒè€…çš„ä¼˜å…ˆçº§ä¸æ˜æ˜¾ã€‚æŸ¥çœ‹<a href="https://cn.vuejs.org/style-guide/#avoid-v-if-with-v-for-essential">é£æ ¼æŒ‡å—</a>è·å¾—æ›´å¤šä¿¡æ¯ã€‚</p>
</blockquote>
<p>å½“ <code>v-if</code> å’Œ <code>v-for</code> åŒæ—¶å­˜åœ¨äºä¸€ä¸ªå…ƒç´ ä¸Šçš„æ—¶å€™ï¼Œ<code>v-if</code> ä¼šé¦–å…ˆè¢«æ‰§è¡Œã€‚</p>
<p>å½“å®ƒä»¬åŒæ—¶å­˜åœ¨äºä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ—¶ï¼Œ<code>v-if</code> æ¯” <code>v-for</code> çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚è¿™æ„å‘³ç€ <code>v-if</code> çš„æ¡ä»¶å°†æ— æ³•è®¿é—®åˆ° <code>v-for</code> ä½œç”¨åŸŸå†…å®šä¹‰çš„å˜é‡åˆ«åï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c"> è¿™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºå±æ€§ todo æ­¤æ—¶
</span></span></span><span class="line"><span class="cl"><span class="c"> æ²¡æœ‰åœ¨è¯¥å®ä¾‹ä¸Šå®šä¹‰
</span></span></span><span class="line"><span class="cl"><span class="c">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;todo in todos&#34;</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;!todo.isComplete&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  {{ todo.name }}
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨å¤–æ–°åŒ…è£…ä¸€å±‚ <code>&lt;template&gt;</code> å†åœ¨å…¶ä¸Šä½¿ç”¨ <code>v-for</code> å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ (è¿™ä¹Ÿæ›´åŠ æ˜æ˜¾æ˜“è¯»)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;todo in todos&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;!todo.isComplete&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{ todo.name }}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åˆ—è¡¨æ¸²æŸ“">åˆ—è¡¨æ¸²æŸ“<a hidden class="anchor" aria-hidden="true" href="#åˆ—è¡¨æ¸²æŸ“">#</a></h2>
<h3 id="ç»„ä»¶ä¸Šä½¿ç”¨-v-for">ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-for</code><a hidden class="anchor" aria-hidden="true" href="#ç»„ä»¶ä¸Šä½¿ç”¨-v-for">#</a></h3>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-for</code>ï¼Œå’Œåœ¨ä¸€èˆ¬çš„å…ƒç´ ä¸Šä½¿ç”¨æ²¡æœ‰åŒºåˆ« (åˆ«å¿˜è®°æä¾›ä¸€ä¸ª <code>key</code>)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MyComponent</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;item in items&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;item.id&#34;</span> <span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯ï¼Œè¿™ä¸ä¼šè‡ªåŠ¨å°†ä»»ä½•æ•°æ®ä¼ é€’ç»™ç»„ä»¶ï¼Œå› ä¸ºç»„ä»¶æœ‰è‡ªå·±ç‹¬ç«‹çš„ä½œç”¨åŸŸã€‚ä¸ºäº†å°†è¿­ä»£åçš„æ•°æ®ä¼ é€’åˆ°ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¼ é€’ propsï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MyComponent</span>
</span></span><span class="line"><span class="cl">  <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(item, index) in items&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">:item</span><span class="o">=</span><span class="s">&#34;item&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">:index</span><span class="o">=</span><span class="s">&#34;index&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">:key</span><span class="o">=</span><span class="s">&#34;item.id&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸è‡ªåŠ¨å°† <code>item</code> æ³¨å…¥ç»„ä»¶çš„åŸå› æ˜¯ï¼Œè¿™ä¼šä½¿ç»„ä»¶ä¸ <code>v-for</code> çš„å·¥ä½œæ–¹å¼ç´§å¯†è€¦åˆã€‚æ˜ç¡®å…¶æ•°æ®çš„æ¥æºå¯ä»¥ä½¿ç»„ä»¶åœ¨å…¶ä»–æƒ…å†µä¸‹é‡ç”¨ã€‚</p>
<h3 id="å±•ç¤ºè¿‡æ»¤æˆ–æ’åºåçš„ç»“æœ">å±•ç¤ºè¿‡æ»¤æˆ–æ’åºåçš„ç»“æœ<a hidden class="anchor" aria-hidden="true" href="#å±•ç¤ºè¿‡æ»¤æˆ–æ’åºåçš„ç»“æœ">#</a></h3>
<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ˜¾ç¤ºæ•°ç»„ç»è¿‡è¿‡æ»¤æˆ–æ’åºåçš„å†…å®¹ï¼Œè€Œä¸å®é™…å˜æ›´æˆ–é‡ç½®åŸå§‹æ•°æ®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºè¿”å›å·²è¿‡æ»¤æˆ–å·²æ’åºæ•°ç»„çš„è®¡ç®—å±æ€§ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">numbers</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">evenNumbers</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">numbers</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span> <span class="p">=&gt;</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;n in evenNumbers&#34;</span><span class="p">&gt;</span>{{ n }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨è®¡ç®—å±æ€§ä¸å¯è¡Œçš„æƒ…å†µä¸‹ (ä¾‹å¦‚åœ¨å¤šå±‚åµŒå¥—çš„ <code>v-for</code> å¾ªç¯ä¸­)ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sets</span><span class="o">:</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">even</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">number</span> <span class="p">=&gt;</span> <span class="nx">number</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;numbers in sets&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;n in even(numbers)&#34;</span><span class="p">&gt;</span>{{ n }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨è®¡ç®—å±æ€§ä¸­ä½¿ç”¨ <code>reverse()</code> å’Œ <code>sort()</code> çš„æ—¶å€™åŠ¡å¿…å°å¿ƒï¼è¿™ä¸¤ä¸ªæ–¹æ³•å°†å˜æ›´åŸå§‹æ•°ç»„ï¼Œè®¡ç®—å‡½æ•°ä¸­ä¸åº”è¯¥è¿™ä¹ˆåšã€‚è¯·åœ¨è°ƒç”¨è¿™äº›æ–¹æ³•ä¹‹å‰åˆ›å»ºä¸€ä¸ªåŸæ•°ç»„çš„å‰¯æœ¬ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl"><span class="gd">- return numbers.reverse()
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+ return [...numbers].reverse()
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="äº‹ä»¶å¤„ç†">äº‹ä»¶å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#äº‹ä»¶å¤„ç†">#</a></h2>
<h3 id="åœ¨å†…è”äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®äº‹ä»¶å‚æ•°">åœ¨å†…è”äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®äº‹ä»¶å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#åœ¨å†…è”äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®äº‹ä»¶å‚æ•°">#</a></h3>
<p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨å†…è”äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®åŸç”Ÿ DOM äº‹ä»¶ã€‚ä½ å¯ä»¥å‘è¯¥å¤„ç†å™¨æ–¹æ³•ä¼ å…¥ä¸€ä¸ªç‰¹æ®Šçš„ <code>$event</code> å˜é‡ï¼Œæˆ–è€…ä½¿ç”¨å†…è”ç®­å¤´å‡½æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- ä½¿ç”¨ç‰¹æ®Šçš„ $event å˜é‡ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;warn(&#39;Form cannot be submitted yet.&#39;, $event)&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Submit
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä½¿ç”¨å†…è”ç®­å¤´å‡½æ•° --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;(event) =&gt; warn(&#39;Form cannot be submitted yet.&#39;, event)&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Submit
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">warn</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// è¿™é‡Œå¯ä»¥è®¿é—® DOM åŸç”Ÿäº‹ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">alert</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="äº‹ä»¶ä¿®é¥°ç¬¦">äº‹ä»¶ä¿®é¥°ç¬¦<a hidden class="anchor" aria-hidden="true" href="#äº‹ä»¶ä¿®é¥°ç¬¦">#</a></h3>
<p>åœ¨å¤„ç†äº‹ä»¶æ—¶è°ƒç”¨ <code>event.preventDefault()</code> æˆ– <code>event.stopPropagation()</code> æ˜¯å¾ˆå¸¸è§çš„ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ–¹æ³•å†…è°ƒç”¨ï¼Œä½†å¦‚æœæ–¹æ³•èƒ½æ›´ä¸“æ³¨äºæ•°æ®é€»è¾‘è€Œä¸ç”¨å»å¤„ç† DOM äº‹ä»¶çš„ç»†èŠ‚ä¼šæ›´å¥½ã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼ŒVue ä¸º <code>v-on</code> æä¾›äº†<strong>äº‹ä»¶ä¿®é¥°ç¬¦</strong>ã€‚ä¿®é¥°ç¬¦æ˜¯ç”¨ <code>.</code> è¡¨ç¤ºçš„æŒ‡ä»¤åç¼€ï¼ŒåŒ…å«ä»¥ä¸‹è¿™äº›ï¼š</p>
<ul>
<li><code>.stop</code></li>
<li><code>.prevent</code></li>
<li><code>.self</code></li>
<li><code>.capture</code></li>
<li><code>.once</code></li>
<li><code>.passive</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- å•å‡»äº‹ä»¶å°†åœæ­¢ä¼ é€’ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">stop</span><span class="o">=</span><span class="s">&#34;doThis&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- æäº¤äº‹ä»¶å°†ä¸å†é‡æ–°åŠ è½½é¡µé¢ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">form</span> <span class="err">@</span><span class="na">submit</span><span class="err">.</span><span class="na">prevent</span><span class="o">=</span><span class="s">&#34;onSubmit&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä¿®é¥°è¯­å¯ä»¥ä½¿ç”¨é“¾å¼ä¹¦å†™ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">stop</span><span class="err">.</span><span class="na">prevent</span><span class="o">=</span><span class="s">&#34;doThat&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä¹Ÿå¯ä»¥åªæœ‰ä¿®é¥°ç¬¦ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">form</span> <span class="err">@</span><span class="na">submit</span><span class="err">.</span><span class="na">prevent</span><span class="p">&gt;&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä»…å½“ event.target æ˜¯å…ƒç´ æœ¬èº«æ—¶æ‰ä¼šè§¦å‘äº‹ä»¶å¤„ç†å™¨ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä¾‹å¦‚ï¼šäº‹ä»¶å¤„ç†å™¨ä¸æ¥è‡ªå­å…ƒç´  --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">self</span><span class="o">=</span><span class="s">&#34;doThat&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>TIP</strong></p>
<p>ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶éœ€è¦æ³¨æ„è°ƒç”¨é¡ºåºï¼Œå› ä¸ºç›¸å…³ä»£ç æ˜¯ä»¥ç›¸åŒçš„é¡ºåºç”Ÿæˆçš„ã€‚å› æ­¤ä½¿ç”¨ <code>@click.prevent.self</code> ä¼šé˜»æ­¢<strong>å…ƒç´ åŠå…¶å­å…ƒç´ çš„æ‰€æœ‰ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤è¡Œä¸º</strong>è€Œ <code>@click.self.prevent</code> åˆ™åªä¼šé˜»æ­¢å¯¹å…ƒç´ æœ¬èº«çš„ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</p>
</blockquote>
<h3 id="æŒ‰é”®ä¿®é¥°ç¬¦">æŒ‰é”®ä¿®é¥°ç¬¦<a hidden class="anchor" aria-hidden="true" href="#æŒ‰é”®ä¿®é¥°ç¬¦">#</a></h3>
<p>åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥ç‰¹å®šçš„æŒ‰é”®ã€‚Vue å…è®¸åœ¨ <code>v-on</code> æˆ– <code>@</code> ç›‘å¬æŒ‰é”®äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- ä»…åœ¨ `key` ä¸º `Enter` æ—¶è°ƒç”¨ `submit` --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="err">@</span><span class="na">keyup</span><span class="err">.</span><span class="na">enter</span><span class="o">=</span><span class="s">&#34;submit&#34;</span> <span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/key/Key_Values"><code>KeyboardEvent.key</code></a> æš´éœ²çš„æŒ‰é”®åç§°ä½œä¸ºä¿®é¥°ç¬¦ï¼Œä½†éœ€è¦è½¬ä¸º kebab-case å½¢å¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="err">@</span><span class="na">keyup</span><span class="err">.</span><span class="na">page-down</span><span class="o">=</span><span class="s">&#34;onPageDown&#34;</span> <span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä»…ä¼šåœ¨ <code>$event.key</code> ä¸º <code>'PageDown'</code> æ—¶è°ƒç”¨äº‹ä»¶å¤„ç†ã€‚</p>
<h4 id="æŒ‰é”®åˆ«å">æŒ‰é”®åˆ«å<a hidden class="anchor" aria-hidden="true" href="#æŒ‰é”®åˆ«å">#</a></h4>
<p>Vue ä¸ºä¸€äº›å¸¸ç”¨çš„æŒ‰é”®æä¾›äº†åˆ«åï¼š</p>
<ul>
<li><code>.enter</code></li>
<li><code>.tab</code></li>
<li><code>.delete</code> (æ•è·â€œDeleteâ€å’Œâ€œBackspaceâ€ä¸¤ä¸ªæŒ‰é”®)</li>
<li><code>.esc</code></li>
<li><code>.space</code></li>
<li><code>.up</code></li>
<li><code>.down</code></li>
<li><code>.left</code></li>
<li><code>.right</code></li>
</ul>
<h4 id="ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦">ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦<a hidden class="anchor" aria-hidden="true" href="#ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦">#</a></h4>
<p>ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦æ¥è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶ç›‘å¬å™¨ï¼Œåªæœ‰å½“æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶æ‰ä¼šè§¦å‘ã€‚</p>
<ul>
<li><code>.ctrl</code></li>
<li><code>.alt</code></li>
<li><code>.shift</code></li>
<li><code>.meta</code></li>
</ul>
<p>æ³¨æ„</p>
<p>åœ¨ Mac é”®ç›˜ä¸Šï¼Œmeta æ˜¯ Command é”® (âŒ˜)ã€‚åœ¨ Windows é”®ç›˜ä¸Šï¼Œmeta é”®æ˜¯ Windows é”® (âŠ)ã€‚åœ¨ Sun å¾®æœºç³»ç»Ÿé”®ç›˜ä¸Šï¼Œmeta æ˜¯é’»çŸ³é”® (â—†)ã€‚åœ¨æŸäº›é”®ç›˜ä¸Šï¼Œç‰¹åˆ«æ˜¯ MIT å’Œ Lisp æœºå™¨çš„é”®ç›˜åŠå…¶åä»£ç‰ˆæœ¬çš„é”®ç›˜ï¼Œå¦‚ Knight é”®ç›˜ï¼Œspace-cadet é”®ç›˜ï¼Œmeta éƒ½è¢«æ ‡è®°ä¸ºâ€œMETAâ€ã€‚åœ¨ Symbolics é”®ç›˜ä¸Šï¼Œmeta ä¹Ÿè¢«æ ‡è¯†ä¸ºâ€œMETAâ€æˆ–â€œMetaâ€ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- Alt + Enter --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="err">@</span><span class="na">keyup</span><span class="err">.</span><span class="na">alt</span><span class="err">.</span><span class="na">enter</span><span class="o">=</span><span class="s">&#34;clear&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- Ctrl + ç‚¹å‡» --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">ctrl</span><span class="o">=</span><span class="s">&#34;doSomething&#34;</span><span class="p">&gt;</span>Do something<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>TIP</strong></p>
<p>è¯·æ³¨æ„ï¼Œç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦å’Œå¸¸è§„æŒ‰é”®ä¸åŒã€‚ä¸ <code>keyup</code> äº‹ä»¶ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¯¥æŒ‰é”®å¿…é¡»åœ¨äº‹ä»¶å‘å‡ºæ—¶å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œ<code>keyup.ctrl</code> åªä¼šåœ¨ä½ ä»ç„¶æŒ‰ä½ <code>ctrl</code> ä½†æ¾å¼€äº†å¦ä¸€ä¸ªé”®æ—¶è¢«è§¦å‘ã€‚è‹¥ä½ å•ç‹¬æ¾å¼€ <code>ctrl</code> é”®å°†ä¸ä¼šè§¦å‘ã€‚</p>
</blockquote>
<h4 id="exact-ä¿®é¥°ç¬¦"><code>.exact</code> ä¿®é¥°ç¬¦<a hidden class="anchor" aria-hidden="true" href="#exact-ä¿®é¥°ç¬¦">#</a></h4>
<p><code>.exact</code> ä¿®é¥°ç¬¦å…è®¸æ§åˆ¶è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰€éœ€çš„ç¡®å®šç»„åˆçš„ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- å½“æŒ‰ä¸‹ Ctrl æ—¶ï¼Œå³ä½¿åŒæ—¶æŒ‰ä¸‹ Alt æˆ– Shift ä¹Ÿä¼šè§¦å‘ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">ctrl</span><span class="o">=</span><span class="s">&#34;onClick&#34;</span><span class="p">&gt;</span>A<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä»…å½“æŒ‰ä¸‹ Ctrl ä¸”æœªæŒ‰ä»»ä½•å…¶ä»–é”®æ—¶æ‰ä¼šè§¦å‘ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">ctrl</span><span class="err">.</span><span class="na">exact</span><span class="o">=</span><span class="s">&#34;onCtrlClick&#34;</span><span class="p">&gt;</span>A<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- ä»…å½“æ²¡æœ‰æŒ‰ä¸‹ä»»ä½•ç³»ç»ŸæŒ‰é”®æ—¶è§¦å‘ --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="err">.</span><span class="na">exact</span><span class="o">=</span><span class="s">&#34;onClick&#34;</span><span class="p">&gt;</span>A<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦">é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦<a hidden class="anchor" aria-hidden="true" href="#é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦">#</a></h4>
<ul>
<li><code>.left</code></li>
<li><code>.right</code></li>
<li><code>.middle</code></li>
</ul>
<p>è¿™äº›ä¿®é¥°ç¬¦å°†å¤„ç†ç¨‹åºé™å®šä¸ºç”±ç‰¹å®šé¼ æ ‡æŒ‰é”®è§¦å‘çš„äº‹ä»¶ã€‚</p>
<h2 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ<a hidden class="anchor" aria-hidden="true" href="#ç”Ÿå‘½å‘¨æœŸ">#</a></h2>
<p>æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„ <code>this</code> ä¸Šä¸‹æ–‡éƒ½ä¼šè‡ªåŠ¨æŒ‡å‘å½“å‰è°ƒç”¨å®ƒçš„ç»„ä»¶å®ä¾‹ã€‚æ³¨æ„ï¼š<code>é¿å…ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ç”Ÿå‘½å‘¨æœŸé’©å­</code>ï¼Œå› ä¸ºå¦‚æœè¿™æ ·çš„è¯ä½ å°†æ— æ³•åœ¨å‡½æ•°ä¸­é€šè¿‡ <code>this</code> è·å–ç»„ä»¶å®ä¾‹ã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307262325140.png" alt="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå›¾ç¤º" style="zoom: 50%;" /> 
<p>æœ‰å…³æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­åŠå…¶å„è‡ªç”¨ä¾‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ<a href="https://cn.vuejs.org/api/options-lifecycle.html">ç”Ÿå‘½å‘¨æœŸé’©å­ API ç´¢å¼•</a>ã€‚</p>
<h2 id="ä¾¦å¬å™¨">ä¾¦å¬å™¨<a hidden class="anchor" aria-hidden="true" href="#ä¾¦å¬å™¨">#</a></h2>
<h3 id="æ·±å±‚ä¾¦å¬å™¨">æ·±å±‚ä¾¦å¬å™¨<a hidden class="anchor" aria-hidden="true" href="#æ·±å±‚ä¾¦å¬å™¨">#</a></h3>
<p><code>watch</code> é»˜è®¤æ˜¯æµ…å±‚çš„ï¼šè¢«ä¾¦å¬çš„å±æ€§ï¼Œä»…åœ¨è¢«èµ‹æ–°å€¼æ—¶ï¼Œæ‰ä¼šè§¦å‘å›è°ƒå‡½æ•°â€”â€”è€ŒåµŒå¥—å±æ€§çš„å˜åŒ–ä¸ä¼šè§¦å‘ã€‚å¦‚æœæƒ³ä¾¦å¬æ‰€æœ‰åµŒå¥—çš„å˜æ›´ï¼Œä½ éœ€è¦æ·±å±‚ä¾¦å¬å™¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">watch</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">someObject</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ³¨æ„ï¼šåœ¨åµŒå¥—çš„å˜æ›´ä¸­ï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// åªè¦æ²¡æœ‰æ›¿æ¢å¯¹è±¡æœ¬èº«ï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// é‚£ä¹ˆè¿™é‡Œçš„ `newValue` å’Œ `oldValue` ç›¸åŒ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">deep</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>è°¨æ…ä½¿ç”¨</strong></p>
<p>æ·±åº¦ä¾¦å¬éœ€è¦éå†è¢«ä¾¦å¬å¯¹è±¡ä¸­çš„æ‰€æœ‰åµŒå¥—çš„å±æ€§ï¼Œå½“ç”¨äºå¤§å‹æ•°æ®ç»“æ„æ—¶ï¼Œå¼€é”€å¾ˆå¤§ã€‚å› æ­¤è¯·åªåœ¨å¿…è¦æ—¶æ‰ä½¿ç”¨å®ƒï¼Œå¹¶ä¸”è¦ç•™æ„æ€§èƒ½ã€‚</p>
</blockquote>
<h3 id="å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨">å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨<a hidden class="anchor" aria-hidden="true" href="#å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨">#</a></h3>
<p><code>watch</code> é»˜è®¤æ˜¯æ‡’æ‰§è¡Œçš„ï¼šä»…å½“æ•°æ®æºå˜åŒ–æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå›è°ƒã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨åˆ›å»ºä¾¦å¬å™¨æ—¶ï¼Œç«‹å³æ‰§è¡Œä¸€éå›è°ƒã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æƒ³è¯·æ±‚ä¸€äº›åˆå§‹æ•°æ®ï¼Œç„¶ååœ¨ç›¸å…³çŠ¶æ€æ›´æ”¹æ—¶é‡æ–°è¯·æ±‚æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå¯¹è±¡æ¥å£°æ˜ä¾¦å¬å™¨ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ <code>handler</code> æ–¹æ³•å’Œ <code>immediate: true</code> é€‰é¡¹ï¼Œè¿™æ ·ä¾¿èƒ½å¼ºåˆ¶å›è°ƒå‡½æ•°ç«‹å³æ‰§è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">watch</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">question</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">handler</span><span class="p">(</span><span class="nx">newQuestion</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// åœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ä¼šç«‹å³è°ƒç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// å¼ºåˆ¶ç«‹å³æ‰§è¡Œå›è°ƒ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">immediate</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ¨¡æ¿å¼•ç”¨">æ¨¡æ¿å¼•ç”¨<a hidden class="anchor" aria-hidden="true" href="#æ¨¡æ¿å¼•ç”¨">#</a></h2>
<p>æŒ‚è½½ç»“æŸåå¼•ç”¨éƒ½ä¼šè¢«æš´éœ²åœ¨ <code>this.$refs</code> ä¹‹ä¸Šï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;input&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼Œä½ åªå¯ä»¥<strong>åœ¨ç»„ä»¶æŒ‚è½½å</strong>æ‰èƒ½è®¿é—®æ¨¡æ¿å¼•ç”¨ã€‚å¦‚æœä½ æƒ³åœ¨æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼ä¸Šè®¿é—® <code>$refs.input</code>ï¼Œåœ¨åˆæ¬¡æ¸²æŸ“æ—¶ä¼šæ˜¯ <code>null</code>ã€‚è¿™æ˜¯å› ä¸ºåœ¨åˆæ¬¡æ¸²æŸ“å‰è¿™ä¸ªå…ƒç´ è¿˜ä¸å­˜åœ¨å‘¢ï¼</p>
<h2 id="ç»„ä»¶åŸºç¡€">ç»„ä»¶åŸºç¡€<a hidden class="anchor" aria-hidden="true" href="#ç»„ä»¶åŸºç¡€">#</a></h2>
<h3 id="å¤§å°å†™åŒºåˆ†">å¤§å°å†™åŒºåˆ†<a hidden class="anchor" aria-hidden="true" href="#å¤§å°å†™åŒºåˆ†">#</a></h3>
<p>HTML æ ‡ç­¾å’Œå±æ€§åç§°æ˜¯ä¸åˆ†å¤§å°å†™çš„ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¼šæŠŠä»»ä½•å¤§å†™çš„å­—ç¬¦è§£é‡Šä¸ºå°å†™ã€‚è¿™æ„å‘³ç€å½“ä½ ä½¿ç”¨ DOM å†…çš„æ¨¡æ¿æ—¶ï¼Œæ— è®ºæ˜¯ PascalCase å½¢å¼çš„ç»„ä»¶åç§°ã€camelCase å½¢å¼çš„ prop åç§°è¿˜æ˜¯ v-on çš„äº‹ä»¶åç§°ï¼Œéƒ½éœ€è¦è½¬æ¢ä¸ºç›¸åº”ç­‰ä»·çš„ kebab-case (çŸ­æ¨ªçº¿è¿å­—ç¬¦) å½¢å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// JavaScript ä¸­çš„ camelCase
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">BlogPost</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;postTitle&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">emits</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;updatePost&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">    &lt;h3&gt;{{ postTitle }}&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">  `</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">HTML</span> <span class="nx">ä¸­çš„</span> <span class="nx">kebab</span><span class="o">-</span><span class="k">case</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">blog-post</span> <span class="na">post</span><span class="nt">-title</span><span class="err">=&#34;</span><span class="na">hello</span><span class="err">!&#34;</span> <span class="nt">@update-post</span><span class="s">=&#34;onUpdatePost&#34;</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/blog-post&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://cn.vuejs.org/guide/essentials/component-basics.html#dom-template-parsing-caveats">DOM æ¨¡æ¿è§£ææ³¨æ„äº‹é¡¹</a></p>
</blockquote>
<h2 id="props">Props<a hidden class="anchor" aria-hidden="true" href="#props">#</a></h2>
<h3 id="boolean-ç±»å‹è½¬æ¢"><strong>Boolean ç±»å‹è½¬æ¢</strong><a hidden class="anchor" aria-hidden="true" href="#boolean-ç±»å‹è½¬æ¢">#</a></h3>
<p>ä¸ºäº†æ›´è´´è¿‘åŸç”Ÿ boolean attributes çš„è¡Œä¸ºï¼Œå£°æ˜ä¸º <code>Boolean</code> ç±»å‹çš„ props æœ‰ç‰¹åˆ«çš„ç±»å‹è½¬æ¢è§„åˆ™ã€‚ä»¥å¸¦æœ‰å¦‚ä¸‹å£°æ˜çš„ <code>&lt;MyComponent&gt;</code> ç»„ä»¶ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">disabled</span><span class="o">:</span> <span class="nb">Boolean</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯¥ç»„ä»¶å¯ä»¥è¢«è¿™æ ·ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">ç­‰åŒäºä¼ å…¥</span> <span class="o">:</span><span class="nx">disabled</span><span class="o">=</span><span class="s2">&#34;true&#34;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MyComponent</span> <span class="na">disabled</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">ç­‰åŒäºä¼ å…¥</span> <span class="o">:</span><span class="nx">disabled</span><span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MyComponent</span> <span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="äº‹ä»¶">äº‹ä»¶<a hidden class="anchor" aria-hidden="true" href="#äº‹ä»¶">#</a></h2>
<h3 id="äº‹ä»¶æ ¡éªŒ">äº‹ä»¶æ ¡éªŒ<a hidden class="anchor" aria-hidden="true" href="#äº‹ä»¶æ ¡éªŒ">#</a></h3>
<p>å’Œå¯¹ props æ·»åŠ ç±»å‹æ ¡éªŒçš„æ–¹å¼ç±»ä¼¼ï¼Œæ‰€æœ‰è§¦å‘çš„äº‹ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡å½¢å¼æ¥æè¿°ã€‚</p>
<p>è¦ä¸ºäº‹ä»¶æ·»åŠ æ ¡éªŒï¼Œé‚£ä¹ˆäº‹ä»¶å¯ä»¥è¢«èµ‹å€¼ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—çš„å‚æ•°å°±æ˜¯æŠ›å‡ºäº‹ä»¶æ—¶ä¼ å…¥ <code>this.$emit</code> çš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥è¡¨æ˜äº‹ä»¶æ˜¯å¦åˆæ³•ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">emits</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// æ²¡æœ‰æ ¡éªŒ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">click</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// æ ¡éªŒ submit äº‹ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">submit</span><span class="o">:</span> <span class="p">({</span> <span class="nx">email</span><span class="p">,</span> <span class="nx">password</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">email</span> <span class="o">&amp;&amp;</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">&#39;Invalid submit event payload!&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">submitForm</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">email</span><span class="p">,</span> <span class="nx">password</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="é…åˆ-v-model-ä½¿ç”¨">é…åˆ <code>v-model</code> ä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#é…åˆ-v-model-ä½¿ç”¨">#</a></h3>
<p><a href="https://cn.vuejs.org/guide/components/events.html#usage-with-v-model">https://cn.vuejs.org/guide/components/events.html#usage-with-v-model</a></p>
<h2 id="æ’æ§½">æ’æ§½<a hidden class="anchor" aria-hidden="true" href="#æ’æ§½">#</a></h2>
<h3 id="æ’æ§½å†…å®¹ä¸å‡ºå£">æ’æ§½å†…å®¹ä¸å‡ºå£<a hidden class="anchor" aria-hidden="true" href="#æ’æ§½å†…å®¹ä¸å‡ºå£">#</a></h3>
<p>åœ¨ä¹‹å‰çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»äº†è§£åˆ°ç»„ä»¶èƒ½å¤Ÿæ¥æ”¶ä»»æ„ç±»å‹çš„ JavaScript å€¼ä½œä¸º propsï¼Œä½†ç»„ä»¶è¦å¦‚ä½•æ¥æ”¶æ¨¡æ¿å†…å®¹å‘¢ï¼Ÿåœ¨æŸäº›åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦ä¸ºå­ç»„ä»¶ä¼ é€’ä¸€äº›æ¨¡æ¿ç‰‡æ®µï¼Œè®©å­ç»„ä»¶åœ¨å®ƒä»¬çš„ç»„ä»¶ä¸­æ¸²æŸ“è¿™äº›ç‰‡æ®µã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª <code>&lt;FancyButton&gt;</code> ç»„ä»¶ï¼Œå¯ä»¥åƒè¿™æ ·ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">FancyButton</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Click</span> <span class="nx">me</span><span class="o">!</span> <span class="c">&lt;!--</span> <span class="nx">æ’æ§½å†…å®¹</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">FancyButton</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œ <code>&lt;FancyButton&gt;</code> çš„æ¨¡æ¿æ˜¯è¿™æ ·çš„ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;fancy-btn&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">slot</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span> <span class="c">&lt;!--</span> <span class="nx">æ’æ§½å‡ºå£</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>&lt;slot&gt;</code> å…ƒç´ æ˜¯ä¸€ä¸ª<strong>æ’æ§½å‡ºå£</strong> (slot outlet)ï¼Œæ ‡ç¤ºäº†çˆ¶å…ƒç´ æä¾›çš„<strong>æ’æ§½å†…å®¹</strong> (slot content) å°†åœ¨å“ªé‡Œè¢«æ¸²æŸ“ã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307262325148.png" alt="æ’æ§½å›¾ç¤º" style="zoom: 67%;" /> 
<p>æœ€ç»ˆæ¸²æŸ“å‡ºçš„ DOM æ˜¯è¿™æ ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;fancy-btn&#34;</span><span class="p">&gt;</span>Click me!<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å…·åæ’æ§½">å…·åæ’æ§½<a hidden class="anchor" aria-hidden="true" href="#å…·åæ’æ§½">#</a></h3>
<p>æœ‰æ—¶åœ¨ä¸€ä¸ªç»„ä»¶ä¸­åŒ…å«å¤šä¸ªæ’æ§½å‡ºå£æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä¸€ä¸ª <code>&lt;BaseLayout&gt;</code> ç»„ä»¶ä¸­ï¼Œæœ‰å¦‚ä¸‹æ¨¡æ¿ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">æ ‡é¢˜å†…å®¹æ”¾è¿™é‡Œ</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">ä¸»è¦å†…å®¹æ”¾è¿™é‡Œ</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">åº•éƒ¨å†…å®¹æ”¾è¿™é‡Œ</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºè¿™ç§åœºæ™¯ï¼Œ<code>&lt;slot&gt;</code> å…ƒç´ å¯ä»¥æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ attribute <code>name</code>ï¼Œç”¨æ¥ç»™å„ä¸ªæ’æ§½åˆ†é…å”¯ä¸€çš„ IDï¼Œä»¥ç¡®å®šæ¯ä¸€å¤„è¦æ¸²æŸ“çš„å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;header&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">slot</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;footer&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ç±»å¸¦ <code>name</code> çš„æ’æ§½è¢«ç§°ä¸ºå…·åæ’æ§½ (named slots)ã€‚æ²¡æœ‰æä¾› <code>name</code> çš„ <code>&lt;slot&gt;</code> å‡ºå£ä¼šéšå¼åœ°å‘½åä¸ºâ€œdefaultâ€ã€‚</p>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨ <code>&lt;BaseLayout&gt;</code> æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼å°†å¤šä¸ªæ’æ§½å†…å®¹ä¼ å…¥åˆ°å„è‡ªç›®æ ‡æ’æ§½çš„å‡ºå£ã€‚æ­¤æ—¶å°±éœ€è¦ç”¨åˆ°<strong>å…·åæ’æ§½</strong>äº†ï¼š</p>
<p>è¦ä¸ºå…·åæ’æ§½ä¼ å…¥å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªå« <code>v-slot</code> æŒ‡ä»¤çš„ <code>&lt;template&gt;</code> å…ƒç´ ï¼Œå¹¶å°†ç›®æ ‡æ’æ§½çš„åå­—ä¼ ç»™è¯¥æŒ‡ä»¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">BaseLayout</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="na">v</span><span class="nt">-slot</span><span class="o">:</span><span class="na">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">header</span> <span class="nx">æ’æ§½çš„å†…å®¹æ”¾è¿™é‡Œ</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">BaseLayout</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>v-slot</code> æœ‰å¯¹åº”çš„ç®€å†™ <code>#</code>ï¼Œå› æ­¤ <code>&lt;template v-slot:header&gt;</code> å¯ä»¥ç®€å†™ä¸º <code>&lt;template #header&gt;</code>ã€‚å…¶æ„æ€å°±æ˜¯â€œå°†è¿™éƒ¨åˆ†æ¨¡æ¿ç‰‡æ®µä¼ å…¥å­ç»„ä»¶çš„ header æ’æ§½ä¸­â€ã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307262325149.png" alt="å…·åæ’æ§½å›¾ç¤º" style="zoom: 67%;" />
<p>ä¸‹é¢æˆ‘ä»¬ç»™å‡ºå®Œæ•´çš„ã€å‘ <code>&lt;BaseLayout&gt;</code> ä¼ é€’æ’æ§½å†…å®¹çš„ä»£ç ï¼ŒæŒ‡ä»¤å‡ä½¿ç”¨çš„æ˜¯ç¼©å†™å½¢å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">BaseLayout</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="err">#</span><span class="na">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Here</span> <span class="nx">might</span> <span class="nx">be</span> <span class="nx">a</span> <span class="nx">page</span> <span class="nx">title</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="err">#</span><span class="na">default</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">A</span> <span class="nx">paragraph</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">main</span> <span class="nx">content</span><span class="p">.&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">And</span> <span class="nx">another</span> <span class="nx">one</span><span class="p">.&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="err">#</span><span class="na">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Here</span><span class="err">&#39;</span><span class="nx">s</span> <span class="nx">some</span> <span class="nx">contact</span> <span class="nx">info</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">BaseLayout</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“ä¸€ä¸ªç»„ä»¶åŒæ—¶æ¥æ”¶é»˜è®¤æ’æ§½å’Œå…·åæ’æ§½æ—¶ï¼Œæ‰€æœ‰ä½äºé¡¶çº§çš„é <code>&lt;template&gt;</code> èŠ‚ç‚¹éƒ½è¢«éšå¼åœ°è§†ä¸ºé»˜è®¤æ’æ§½çš„å†…å®¹ã€‚æ‰€ä»¥ä¸Šé¢ä¹Ÿå¯ä»¥å†™æˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">BaseLayout</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="err">#</span><span class="na">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Here</span> <span class="nx">might</span> <span class="nx">be</span> <span class="nx">a</span> <span class="nx">page</span> <span class="nx">title</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!--</span> <span class="nx">éšå¼çš„é»˜è®¤æ’æ§½</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">A</span> <span class="nx">paragraph</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">main</span> <span class="nx">content</span><span class="p">.&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">And</span> <span class="nx">another</span> <span class="nx">one</span><span class="p">.&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="err">#</span><span class="na">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Here</span><span class="err">&#39;</span><span class="nx">s</span> <span class="nx">some</span> <span class="nx">contact</span> <span class="nx">info</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">BaseLayout</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨ <code>&lt;template&gt;</code> å…ƒç´ ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å°†è¢«ä¼ é€’åˆ°ç›¸åº”çš„æ’æ§½ã€‚æœ€ç»ˆæ¸²æŸ“å‡ºçš„ HTML å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Here might be a page title<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A paragraph for the main content.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>And another one.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Here&#39;s some contact info<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä½œç”¨åŸŸæ’æ§½">ä½œç”¨åŸŸæ’æ§½<a hidden class="anchor" aria-hidden="true" href="#ä½œç”¨åŸŸæ’æ§½">#</a></h3>
<p>åœ¨ä¸Šé¢çš„<a href="https://cn.vuejs.org/guide/components/slots.html#render-scope">æ¸²æŸ“ä½œç”¨åŸŸ</a>ä¸­æˆ‘ä»¬è®¨è®ºåˆ°ï¼Œæ’æ§½çš„å†…å®¹æ— æ³•è®¿é—®åˆ°å­ç»„ä»¶çš„çŠ¶æ€ã€‚</p>
<p>ç„¶è€Œåœ¨æŸäº›åœºæ™¯ä¸‹æ’æ§½çš„å†…å®¹å¯èƒ½æƒ³è¦åŒæ—¶ä½¿ç”¨çˆ¶ç»„ä»¶åŸŸå†…å’Œå­ç»„ä»¶åŸŸå†…çš„æ•°æ®ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥è®©å­ç»„ä»¶åœ¨æ¸²æŸ“æ—¶å°†ä¸€éƒ¨åˆ†æ•°æ®æä¾›ç»™æ’æ§½ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿç¡®å®æœ‰åŠæ³•è¿™ä¹ˆåšï¼å¯ä»¥åƒå¯¹ç»„ä»¶ä¼ é€’ props é‚£æ ·ï¼Œå‘ä¸€ä¸ªæ’æ§½çš„å‡ºå£ä¸Šä¼ é€’ attributesï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="p">&lt;</span><span class="nt">MyComponent</span><span class="p">&gt;</span> <span class="nx">çš„æ¨¡æ¿</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">slot</span> <span class="nt">:text</span><span class="s">=&#34;greetingMessage&#34;</span> <span class="nt">:count</span><span class="s">=&#34;1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“éœ€è¦æ¥æ”¶æ’æ§½ props æ—¶ï¼Œé»˜è®¤æ’æ§½å’Œå…·åæ’æ§½çš„ä½¿ç”¨æ–¹å¼æœ‰ä¸€äº›å°åŒºåˆ«ã€‚ä¸‹é¢æˆ‘ä»¬å°†å…ˆå±•ç¤ºé»˜è®¤æ’æ§½å¦‚ä½•æ¥å— propsï¼Œé€šè¿‡å­ç»„ä»¶æ ‡ç­¾ä¸Šçš„ <code>v-slot</code> æŒ‡ä»¤ï¼Œç›´æ¥æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ’æ§½ props å¯¹è±¡ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MyComponent</span> <span class="nt">v-slot</span><span class="s">=&#34;slotProps&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">{{</span> <span class="na">slotProps.text</span> <span class="p">}}</span> <span class="p">{{</span> <span class="na">slotProps.count</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">MyComponent</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ç±»èƒ½å¤Ÿæ¥å—å‚æ•°çš„æ’æ§½è¢«ç§°ä¸ºä½œç”¨åŸŸæ’æ§½ (scoped slots)ï¼Œå› ä¸ºå®ƒä»¬æ¥å—çš„å‚æ•°åªåœ¨è¯¥æ’æ§½ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307262325153.png" alt="image-20220904142036637"  />
<h4 id="é«˜çº§åˆ—è¡¨ç»„ä»¶ç¤ºä¾‹">é«˜çº§åˆ—è¡¨ç»„ä»¶ç¤ºä¾‹<a hidden class="anchor" aria-hidden="true" href="#é«˜çº§åˆ—è¡¨ç»„ä»¶ç¤ºä¾‹">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">FancyList</span> <span class="nt">:api-url</span><span class="s">=&#34;url&#34;</span> <span class="nt">:per-page</span><span class="s">=&#34;10&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="err">#</span><span class="na">item</span><span class="o">=</span><span class="s">&#34;{ body, username, likes }&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;item&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{{</span> <span class="nx">body</span> <span class="p">}}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">by</span> <span class="p">{{</span> <span class="nx">username</span> <span class="p">}}</span> <span class="o">|</span> <span class="p">{{</span> <span class="nx">likes</span> <span class="p">}}</span> <span class="nx">likes</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">FancyList</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨ <code>&lt;FancyList&gt;</code> ä¹‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¤šæ¬¡æ¸²æŸ“ <code>&lt;slot&gt;</code> å¹¶æ¯æ¬¡éƒ½æä¾›ä¸åŒçš„æ•°æ® (æ³¨æ„æˆ‘ä»¬è¿™é‡Œä½¿ç”¨äº† <code>v-bind</code> æ¥ä¼ é€’æ’æ§½çš„ props)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="s">=&#34;item in items&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">    &lt;slot name=&#34;item&#34; v-bind=&#34;item&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å°æç¤ºï¼š<a href="https://cn.vuejs.org/guide/essentials/template-syntax.html#dynamically-binding-multiple-attributes">æ²¡æœ‰å‚æ•°çš„ <code>v-bind</code></a> ä¼šå°†ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä½œä¸º attribute åº”ç”¨åˆ°ç›®æ ‡å…ƒç´ ä¸Šã€‚</p>
</blockquote>
<h2 id="ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥<a hidden class="anchor" aria-hidden="true" href="#ä¾èµ–æ³¨å…¥">#</a></h2>
<p>ä¸€ä¸ªçˆ¶ç»„ä»¶ç›¸å¯¹äºå…¶æ‰€æœ‰çš„åä»£ç»„ä»¶ï¼Œä¼šä½œä¸º<strong>ä¾èµ–æä¾›è€…</strong>ã€‚ä»»ä½•åä»£çš„ç»„ä»¶æ ‘ï¼Œæ— è®ºå±‚çº§æœ‰å¤šæ·±ï¼Œéƒ½å¯ä»¥<strong>æ³¨å…¥</strong>ç”±çˆ¶ç»„ä»¶æä¾›ç»™æ•´æ¡é“¾è·¯çš„ä¾èµ–ã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307262325156.png" alt="Provide/inject æ¨¡å¼" style="zoom:67%;" /> 
<h2 id="ç»„åˆå¼å‡½æ•°">ç»„åˆå¼å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#ç»„åˆå¼å‡½æ•°">#</a></h2>
<h3 id="é¼ æ ‡è·Ÿè¸ªå™¨ç¤ºä¾‹">é¼ æ ‡è·Ÿè¸ªå™¨ç¤ºä¾‹<a hidden class="anchor" aria-hidden="true" href="#é¼ æ ‡è·Ÿè¸ªå™¨ç¤ºä¾‹">#</a></h3>
<p>å¦‚æœæˆ‘ä»¬è¦ç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç»„åˆå¼ API å®ç°é¼ æ ‡è·Ÿè¸ªåŠŸèƒ½ï¼Œå®ƒä¼šæ˜¯è¿™æ ·çš„ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">onMounted</span><span class="p">,</span> <span class="nx">onUnmounted</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">update</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">x</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">pageX</span>
</span></span><span class="line"><span class="cl">  <span class="nx">y</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">pageY</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">onMounted</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="nx">update</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nx">onUnmounted</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="nx">update</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span><span class="nx">Mouse</span> <span class="nx">position</span> <span class="nx">is</span> <span class="nx">at</span><span class="o">:</span> <span class="p">{{</span> <span class="nx">x</span> <span class="p">}},</span> <span class="p">{{</span> <span class="nx">y</span> <span class="p">}}&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨å¤šä¸ªç»„ä»¶ä¸­å¤ç”¨è¿™ä¸ªç›¸åŒçš„é€»è¾‘å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé€»è¾‘ä»¥ä¸€ä¸ªç»„åˆå¼å‡½æ•°çš„å½¢å¼æå–åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// mouse.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">onMounted</span><span class="p">,</span> <span class="nx">onUnmounted</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æŒ‰ç…§æƒ¯ä¾‹ï¼Œç»„åˆå¼å‡½æ•°åä»¥â€œuseâ€å¼€å¤´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kd">function</span> <span class="nx">useMouse</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// è¢«ç»„åˆå¼å‡½æ•°å°è£…å’Œç®¡ç†çš„çŠ¶æ€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// ç»„åˆå¼å‡½æ•°å¯ä»¥éšæ—¶æ›´æ”¹å…¶çŠ¶æ€ã€‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">function</span> <span class="nx">update</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">x</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">pageX</span>
</span></span><span class="line"><span class="cl">    <span class="nx">y</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">pageY</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// ä¸€ä¸ªç»„åˆå¼å‡½æ•°ä¹Ÿå¯ä»¥æŒ‚é åœ¨æ‰€å±ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸Š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// æ¥å¯åŠ¨å’Œå¸è½½å‰¯ä½œç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">onMounted</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="nx">update</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="nx">onUnmounted</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="nx">update</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// é€šè¿‡è¿”å›å€¼æš´éœ²æ‰€ç®¡ç†çš„çŠ¶æ€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸‹é¢æ˜¯å®ƒåœ¨ç»„ä»¶ä¸­ä½¿ç”¨çš„æ–¹å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useMouse</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./mouse.js&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useMouse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span><span class="nx">Mouse</span> <span class="nx">position</span> <span class="nx">is</span> <span class="nx">at</span><span class="o">:</span> <span class="p">{{</span> <span class="nx">x</span> <span class="p">}},</span> <span class="p">{{</span> <span class="nx">y</span> <span class="p">}}&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="çº¦å®šå’Œæœ€ä½³å®è·µ">çº¦å®šå’Œæœ€ä½³å®è·µ<a hidden class="anchor" aria-hidden="true" href="#çº¦å®šå’Œæœ€ä½³å®è·µ">#</a></h3>
<h4 id="å‘½å">å‘½å<a hidden class="anchor" aria-hidden="true" href="#å‘½å">#</a></h4>
<p>ç»„åˆå¼å‡½æ•°çº¦å®šç”¨é©¼å³°å‘½åæ³•å‘½åï¼Œå¹¶ä»¥â€œuseâ€ä½œä¸ºå¼€å¤´ã€‚</p>
<h4 id="è¾“å…¥å‚æ•°">è¾“å…¥å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#è¾“å…¥å‚æ•°">#</a></h4>
<p>å°½ç®¡å…¶å“åº”æ€§ä¸ä¾èµ– refï¼Œç»„åˆå¼å‡½æ•°ä»å¯æ¥æ”¶ ref å‚æ•°ã€‚å¦‚æœç¼–å†™çš„ç»„åˆå¼å‡½æ•°ä¼šè¢«å…¶ä»–å¼€å‘è€…ä½¿ç”¨ï¼Œä½ æœ€å¥½åœ¨å¤„ç†è¾“å…¥å‚æ•°æ—¶å…¼å®¹ ref è€Œä¸åªæ˜¯åŸå§‹çš„å€¼ã€‚<a href="https://cn.vuejs.org/api/reactivity-utilities.html#unref"><code>unref()</code></a> å·¥å…·å‡½æ•°ä¼šå¯¹æ­¤éå¸¸æœ‰å¸®åŠ©ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">unref</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">useFeature</span><span class="p">(</span><span class="nx">maybeRef</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// è‹¥ maybeRef ç¡®å®æ˜¯ä¸€ä¸ª refï¼Œå®ƒçš„ .value ä¼šè¢«è¿”å›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// å¦åˆ™ï¼ŒmaybeRef ä¼šè¢«åŸæ ·è¿”å›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">unref</span><span class="p">(</span><span class="nx">maybeRef</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœä½ çš„ç»„åˆå¼å‡½æ•°åœ¨æ¥æ”¶ ref ä¸ºå‚æ•°æ—¶ä¼šäº§ç”Ÿå“åº”å¼ effectï¼Œè¯·ç¡®ä¿ä½¿ç”¨ <code>watch()</code> æ˜¾å¼åœ°ç›‘å¬æ­¤ refï¼Œæˆ–è€…åœ¨ <code>watchEffect()</code> ä¸­è°ƒç”¨ <code>unref()</code> æ¥è¿›è¡Œæ­£ç¡®çš„è¿½è¸ªã€‚</p>
<h4 id="è¿”å›å€¼">è¿”å›å€¼<a hidden class="anchor" aria-hidden="true" href="#è¿”å›å€¼">#</a></h4>
<p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨ç»„åˆå¼å‡½æ•°ä¸­ä½¿ç”¨ <code>ref()</code> è€Œä¸æ˜¯ <code>reactive()</code>ã€‚æˆ‘ä»¬æ¨èçš„çº¦å®šæ˜¯==ç»„åˆå¼å‡½æ•°å§‹ç»ˆè¿”å›ä¸€ä¸ªåŒ…å«å¤šä¸ª ref çš„æ™®é€šçš„éå“åº”å¼å¯¹è±¡==ï¼Œè¿™æ ·è¯¥å¯¹è±¡åœ¨ç»„ä»¶ä¸­è¢«è§£æ„ä¸º ref ä¹‹åä»å¯ä»¥ä¿æŒå“åº”æ€§ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// x å’Œ y æ˜¯ä¸¤ä¸ª ref
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useMouse</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»ç»„åˆå¼å‡½æ•°è¿”å›ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¼šå¯¼è‡´åœ¨å¯¹è±¡è§£æ„è¿‡ç¨‹ä¸­ä¸¢å¤±ä¸ç»„åˆå¼å‡½æ•°å†…çŠ¶æ€çš„å“åº”æ€§è¿æ¥ã€‚ä¸ä¹‹ç›¸åï¼Œref åˆ™å¯ä»¥ç»´æŒè¿™ä¸€å“åº”æ€§è¿æ¥ã€‚</p>
<p>å¦‚æœä½ æ›´å¸Œæœ›ä»¥å¯¹è±¡å±æ€§çš„å½¢å¼æ¥ä½¿ç”¨ç»„åˆå¼å‡½æ•°ä¸­è¿”å›çš„çŠ¶æ€ï¼Œä½ å¯ä»¥å°†è¿”å›çš„å¯¹è±¡ç”¨ <code>reactive()</code> åŒ…è£…ä¸€æ¬¡ï¼Œè¿™æ ·å…¶ä¸­çš„ ref ä¼šè¢«è‡ªåŠ¨è§£åŒ…ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">mouse</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">(</span><span class="nx">useMouse</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="c1">// mouse.x é“¾æ¥åˆ°äº†åŸæ¥çš„ x ref
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mouse</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="nx">Mouse</span> <span class="nx">position</span> <span class="nx">is</span> <span class="nx">at</span><span class="o">:</span> <span class="p">{{</span> <span class="nx">mouse</span><span class="p">.</span><span class="nx">x</span> <span class="p">}},</span> <span class="p">{{</span> <span class="nx">mouse</span><span class="p">.</span><span class="nx">y</span> <span class="p">}}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è‡ªå®šä¹‰æŒ‡ä»¤">è‡ªå®šä¹‰æŒ‡ä»¤<a hidden class="anchor" aria-hidden="true" href="#è‡ªå®šä¹‰æŒ‡ä»¤">#</a></h2>
<p><code>directive</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-color</span><span class="s">=&#34;color&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">app</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">binding</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// è¿™ä¼šåœ¨ `mounted` å’Œ `updated` æ—¶éƒ½è°ƒç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">value</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è·¯ç”±">è·¯ç”±<a hidden class="anchor" aria-hidden="true" href="#è·¯ç”±">#</a></h2>
<h3 id="æ•è·æ‰€æœ‰è·¯ç”±æˆ–-404-not-found-è·¯ç”±">æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±<a hidden class="anchor" aria-hidden="true" href="#æ•è·æ‰€æœ‰è·¯ç”±æˆ–-404-not-found-è·¯ç”±">#</a></h3>
<p>å¸¸è§„å‚æ•°åªåŒ¹é… url ç‰‡æ®µä¹‹é—´çš„å­—ç¬¦ï¼Œç”¨ <code>/</code> åˆ†éš”ã€‚å¦‚æœæˆ‘ä»¬æƒ³åŒ¹é…<strong>ä»»æ„è·¯å¾„</strong>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ <em>è·¯å¾„å‚æ•°</em> æ­£åˆ™è¡¨è¾¾å¼ï¼Œåœ¨ <em>è·¯å¾„å‚æ•°</em> åé¢çš„æ‹¬å·ä¸­åŠ å…¥ æ­£åˆ™è¡¨è¾¾å¼ :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">routes</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// å°†åŒ¹é…æ‰€æœ‰å†…å®¹å¹¶å°†å…¶æ”¾åœ¨ `$route.params.pathMatch` ä¸‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/:pathMatch(.*)*&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;NotFound&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">NotFound</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// å°†åŒ¹é…ä»¥ `/user-` å¼€å¤´çš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶å°†å…¶æ”¾åœ¨ `$route.params.afterUser` ä¸‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/user-:afterUser(.*)&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">UserGeneric</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è·¯ç”±çš„åŒ¹é…è¯­æ³•">è·¯ç”±çš„åŒ¹é…è¯­æ³•<a hidden class="anchor" aria-hidden="true" href="#è·¯ç”±çš„åŒ¹é…è¯­æ³•">#</a></h3>
<h4 id="åœ¨å‚æ•°ä¸­è‡ªå®šä¹‰æ­£åˆ™">åœ¨å‚æ•°ä¸­è‡ªå®šä¹‰æ­£åˆ™<a hidden class="anchor" aria-hidden="true" href="#åœ¨å‚æ•°ä¸­è‡ªå®šä¹‰æ­£åˆ™">#</a></h4>
<p>å½“å®šä¹‰åƒ <code>:userId</code> è¿™æ ·çš„å‚æ•°æ—¶ï¼Œæˆ‘ä»¬å†…éƒ¨ä½¿ç”¨ä»¥ä¸‹çš„æ­£åˆ™ <code>([^/]+)</code> (è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯æ–œæ  <code>/</code> )æ¥ä» URL ä¸­æå–å‚æ•°ã€‚è¿™å¾ˆå¥½ç”¨ï¼Œé™¤éä½ éœ€è¦æ ¹æ®å‚æ•°çš„å†…å®¹æ¥åŒºåˆ†ä¸¤ä¸ªè·¯ç”±ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä¸¤ä¸ªè·¯ç”± <code>/:orderId</code> å’Œ <code>/:productName</code>ï¼Œä¸¤è€…ä¼šåŒ¹é…å®Œå…¨ç›¸åŒçš„ URLï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥åŒºåˆ†å®ƒä»¬ã€‚æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨è·¯å¾„ä¸­æ·»åŠ ä¸€ä¸ªé™æ€éƒ¨åˆ†æ¥åŒºåˆ†å®ƒä»¬ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">routes</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// åŒ¹é… /o/3549
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/o/:orderId&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// åŒ¹é… /p/books
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/p/:productName&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³æ·»åŠ é™æ€çš„ <code>/o</code> <code>/p</code> éƒ¨åˆ†ã€‚ç”±äºï¼Œ<code>orderId</code> æ€»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè€Œ <code>productName</code> å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æ‹¬å·ä¸­ä¸ºå‚æ•°æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„æ­£åˆ™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">routes</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// /:orderId -&gt; ä»…åŒ¹é…æ•°å­—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/:orderId(\\d+)&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// /:productName -&gt; åŒ¹é…å…¶ä»–ä»»ä½•å†…å®¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/:productName&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨ï¼Œè½¬åˆ° <code>/25</code> å°†åŒ¹é… <code>/:orderId</code>ï¼Œå…¶ä»–æƒ…å†µå°†ä¼šåŒ¹é… <code>/:productName</code>ã€‚<code>routes</code> æ•°ç»„çš„é¡ºåºå¹¶ä¸é‡è¦!</p>
<blockquote>
<p>TIP</p>
<p>ç¡®ä¿<strong>è½¬ä¹‰åæ–œæ ( <code>\</code> )</strong>ï¼Œå°±åƒæˆ‘ä»¬å¯¹ <code>\d</code> (å˜æˆ<code>\\d</code>)æ‰€åšçš„é‚£æ ·ï¼Œåœ¨ JavaScript ä¸­å®é™…ä¼ é€’å­—ç¬¦ä¸²ä¸­çš„åæ–œæ å­—ç¬¦ã€‚</p>
</blockquote>
<h3 id="ç¼–ç¨‹å¼å¯¼èˆª">ç¼–ç¨‹å¼å¯¼èˆª<a hidden class="anchor" aria-hidden="true" href="#ç¼–ç¨‹å¼å¯¼èˆª">#</a></h3>
<p>æƒ³è¦å¯¼èˆªåˆ°ä¸åŒçš„ URLï¼Œå¯ä»¥ä½¿ç”¨ <code>router.push</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œä¼šå›åˆ°ä¹‹å‰çš„ URLã€‚</p>
<p>å½“ä½ ç‚¹å‡» <code>&lt;router-link&gt;</code> æ—¶ï¼Œå†…éƒ¨ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ç‚¹å‡» <code>&lt;router-link :to=&quot;...&quot;&gt;</code> ç›¸å½“äºè°ƒç”¨ <code>router.push(...)</code> ï¼š</p>
<table>
<thead>
<tr>
<th>å£°æ˜å¼</th>
<th>ç¼–ç¨‹å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td>
<td><code>router.push(...)</code></td>
</tr>
</tbody>
</table>
<p>è¯¥æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œæˆ–è€…ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// å­—ç¬¦ä¸²è·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/users/eduardo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¸¦æœ‰è·¯å¾„çš„å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/users/eduardo&#39;</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å‘½åçš„è·¯ç”±ï¼Œå¹¶åŠ ä¸Šå‚æ•°ï¼Œè®©è·¯ç”±å»ºç«‹ url
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nx">params</span><span class="o">:</span> <span class="p">{</span> <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;eduardo&#39;</span> <span class="p">}</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œç»“æœæ˜¯ /register?plan=private
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/register&#39;</span><span class="p">,</span> <span class="nx">query</span><span class="o">:</span> <span class="p">{</span> <span class="nx">plan</span><span class="o">:</span> <span class="s1">&#39;private&#39;</span> <span class="p">}</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å¸¦ hashï¼Œç»“æœæ˜¯ /about#team
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/about&#39;</span><span class="p">,</span> <span class="nx">hash</span><span class="o">:</span> <span class="s1">&#39;#team&#39;</span> <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæä¾›äº† <code>path</code>ï¼Œ<code>params</code> ä¼šè¢«å¿½ç•¥ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„ <code>query</code> å¹¶ä¸å±äºè¿™ç§æƒ…å†µã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä¸‹é¢ä¾‹å­çš„åšæ³•ï¼Œä½ éœ€è¦æä¾›è·¯ç”±çš„ <code>name</code> æˆ–æ‰‹å†™å®Œæ•´çš„å¸¦æœ‰å‚æ•°çš„ <code>path</code> ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">username</span> <span class="o">=</span> <span class="s1">&#39;eduardo&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å»ºç«‹ urlï¼Œä½†æˆ‘ä»¬å¿…é¡»è‡ªå·±å¤„ç†ç¼–ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`/user/</span><span class="si">${</span><span class="nx">username</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span> <span class="c1">// -&gt; /user/eduardo
</span></span></span><span class="line"><span class="cl"><span class="c1">// åŒæ ·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">path</span><span class="o">:</span> <span class="sb">`/user/</span><span class="si">${</span><span class="nx">username</span><span class="si">}</span><span class="sb">`</span> <span class="p">})</span> <span class="c1">// -&gt; /user/eduardo
</span></span></span><span class="line"><span class="cl"><span class="c1">// å¦‚æœå¯èƒ½çš„è¯ï¼Œä½¿ç”¨ `name` å’Œ `params` ä»è‡ªåŠ¨ URL ç¼–ç ä¸­è·ç›Š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nx">params</span><span class="o">:</span> <span class="p">{</span> <span class="nx">username</span> <span class="p">}</span> <span class="p">})</span> <span class="c1">// -&gt; /user/eduardo
</span></span></span><span class="line"><span class="cl"><span class="c1">// `params` ä¸èƒ½ä¸ `path` ä¸€èµ·ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="nx">params</span><span class="o">:</span> <span class="p">{</span> <span class="nx">username</span> <span class="p">}</span> <span class="p">})</span> <span class="c1">// -&gt; /user
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å½“æŒ‡å®š <code>params</code> æ—¶ï¼Œå¯æä¾› <code>string</code> æˆ– <code>number</code> å‚æ•°ï¼ˆæˆ–è€…å¯¹äº<a href="https://router.vuejs.org/zh/guide/essentials/route-matching-syntax.html#repeatable-params">å¯é‡å¤çš„å‚æ•°</a>å¯æä¾›ä¸€ä¸ªæ•°ç»„ï¼‰ã€‚<strong>ä»»ä½•å…¶ä»–ç±»å‹ï¼ˆå¦‚ <code>undefined</code>ã€<code>false</code> ç­‰ï¼‰éƒ½å°†è¢«è‡ªåŠ¨å­—ç¬¦ä¸²åŒ–</strong>ã€‚å¯¹äº<a href="https://router.vuejs.org/zh/guide/essentials/route-matching-syntax.html#repeatable-params">å¯é€‰å‚æ•°</a>ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼ˆ<code>&quot;&quot;</code>ï¼‰æ¥è·³è¿‡å®ƒã€‚</p>
<p>ç”±äºå±æ€§ <code>to</code> ä¸ <code>router.push</code> æ¥å—çš„å¯¹è±¡ç§ç±»ç›¸åŒï¼Œæ‰€ä»¥ä¸¤è€…çš„è§„åˆ™å®Œå…¨ç›¸åŒã€‚</p>
<p><code>router.push</code> å’Œæ‰€æœ‰å…¶ä»–å¯¼èˆªæ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ª <em>Promise</em>ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç­‰åˆ°å¯¼èˆªå®Œæˆåæ‰çŸ¥é“æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚æˆ‘ä»¬å°†åœ¨ <a href="https://router.vuejs.org/zh/guide/advanced/navigation-failures.html">Navigation Handling</a> ä¸­è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 id="å‘½åè§†å›¾">å‘½åè§†å›¾<a hidden class="anchor" aria-hidden="true" href="#å‘½åè§†å›¾">#</a></h3>
<p>æœ‰æ—¶å€™æƒ³åŒæ—¶ (åŒçº§) å±•ç¤ºå¤šä¸ªè§†å›¾ï¼Œè€Œä¸æ˜¯åµŒå¥—å±•ç¤ºï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œæœ‰ <code>sidebar</code> (ä¾§å¯¼èˆª) å’Œ <code>main</code> (ä¸»å†…å®¹) ä¸¤ä¸ªè§†å›¾ï¼Œè¿™ä¸ªæ—¶å€™å‘½åè§†å›¾å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ä½ å¯ä»¥åœ¨ç•Œé¢ä¸­æ‹¥æœ‰å¤šä¸ªå•ç‹¬å‘½åçš„è§†å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‡ºå£ã€‚å¦‚æœ <code>router-view</code> æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º <code>default</code>ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;view left-sidebar&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;LeftSidebar&#34;</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/router-view&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;view main-content&#34;</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/router-view&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;view right-sidebar&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;RightSidebar&#34;</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/router-view&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸€ä¸ªè§†å›¾ä½¿ç”¨ä¸€ä¸ªç»„ä»¶æ¸²æŸ“ï¼Œå› æ­¤å¯¹äºåŒä¸ªè·¯ç”±ï¼Œå¤šä¸ªè§†å›¾å°±éœ€è¦å¤šä¸ªç»„ä»¶ã€‚ç¡®ä¿æ­£ç¡®ä½¿ç”¨ <code>components</code> é…ç½® (å¸¦ä¸Š <strong>s</strong>)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createRouter</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">history</span><span class="o">:</span> <span class="nx">createWebHashHistory</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">default</span><span class="o">:</span> <span class="nx">Home</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// LeftSidebar: LeftSidebar çš„ç¼©å†™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">LeftSidebar</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// å®ƒä»¬ä¸ `&lt;router-view&gt;` ä¸Šçš„ `name` å±æ€§åŒ¹é…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">RightSidebar</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="åµŒå¥—å‘½åè§†å›¾">åµŒå¥—å‘½åè§†å›¾<a hidden class="anchor" aria-hidden="true" href="#åµŒå¥—å‘½åè§†å›¾">#</a></h4>
<p>æˆ‘ä»¬ä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨å‘½åè§†å›¾åˆ›å»ºåµŒå¥—è§†å›¾çš„å¤æ‚å¸ƒå±€ã€‚è¿™æ—¶ä½ ä¹Ÿéœ€è¦å‘½åç”¨åˆ°çš„åµŒå¥— <code>router-view</code> ç»„ä»¶ã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªè®¾ç½®é¢æ¿ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">/settings/emails                                       /settings/profile
</span></span><span class="line"><span class="cl">+-----------------------------------+                  +------------------------------+
</span></span><span class="line"><span class="cl">| UserSettings                      |                  | UserSettings                 |
</span></span><span class="line"><span class="cl">| +-----+-------------------------+ |                  | +-----+--------------------+ |
</span></span><span class="line"><span class="cl">| | Nav | UserEmailsSubscriptions | |  +------------&gt;  | | Nav | UserProfile        | |
</span></span><span class="line"><span class="cl">| |     +-------------------------+ |                  | |     +--------------------+ |
</span></span><span class="line"><span class="cl">| |     |                         | |                  | |     | UserProfilePreview | |
</span></span><span class="line"><span class="cl">| +-----+-------------------------+ |                  | +-----+--------------------+ |
</span></span><span class="line"><span class="cl">+-----------------------------------+                  +------------------------------+
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>Nav</code> åªæ˜¯ä¸€ä¸ªå¸¸è§„ç»„ä»¶ã€‚</li>
<li><code>UserSettings</code> æ˜¯ä¸€ä¸ªè§†å›¾ç»„ä»¶ã€‚</li>
<li><code>UserEmailsSubscriptions</code>ã€<code>UserProfile</code>ã€<code>UserProfilePreview</code> æ˜¯åµŒå¥—çš„è§†å›¾ç»„ä»¶ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š<em>æˆ‘ä»¬å…ˆå¿˜è®° HTML/CSS å…·ä½“çš„å¸ƒå±€çš„æ ·å­ï¼Œåªä¸“æ³¨åœ¨ç”¨åˆ°çš„ç»„ä»¶ä¸Šã€‚</em></p>
<p><code>UserSettings</code> ç»„ä»¶çš„ <code>&lt;template&gt;</code> éƒ¨åˆ†åº”è¯¥æ˜¯ç±»ä¼¼ä¸‹é¢çš„è¿™æ®µä»£ç :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">UserSettings</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">User</span> <span class="nx">Settings</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">NavBar</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">router-view</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">router-view</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;helper&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‚£ä¹ˆä½ å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè·¯ç”±é…ç½®æ¥å®ç°ä¸Šé¢çš„å¸ƒå±€ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/settings&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ä½ ä¹Ÿå¯ä»¥åœ¨é¡¶çº§è·¯ç”±å°±é…ç½®å‘½åè§†å›¾
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">component</span><span class="o">:</span> <span class="nx">UserSettings</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">children</span><span class="o">:</span> <span class="p">[{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;emails&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">component</span><span class="o">:</span> <span class="nx">UserEmailsSubscriptions</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;profile&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">default</span><span class="o">:</span> <span class="nx">UserProfile</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">helper</span><span class="o">:</span> <span class="nx">UserProfilePreview</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å¯¼èˆªå®ˆå«">å¯¼èˆªå®ˆå«<a hidden class="anchor" aria-hidden="true" href="#å¯¼èˆªå®ˆå«">#</a></h3>
<h3 id="è·¯ç”±æ‡’åŠ è½½">è·¯ç”±æ‡’åŠ è½½<a hidden class="anchor" aria-hidden="true" href="#è·¯ç”±æ‡’åŠ è½½">#</a></h3>
<p>å½“æ‰“åŒ…æ„å»ºåº”ç”¨æ—¶ï¼ŒJavaScript åŒ…ä¼šå˜å¾—éå¸¸å¤§ï¼Œå½±å“é¡µé¢åŠ è½½ã€‚å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶ï¼Œè¿™æ ·å°±ä¼šæ›´åŠ é«˜æ•ˆã€‚</p>
<p>Vue Router æ”¯æŒå¼€ç®±å³ç”¨çš„<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Dynamic_Imports">åŠ¨æ€å¯¼å…¥</a>ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ç”¨åŠ¨æ€å¯¼å…¥ä»£æ›¿é™æ€å¯¼å…¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å°†
</span></span></span><span class="line"><span class="cl"><span class="c1">// import UserDetails from &#39;./views/UserDetails&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1">// æ›¿æ¢æˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">UserDetails</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="kr">import</span><span class="p">(</span><span class="s1">&#39;./views/UserDetails&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createRouter</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">routes</span><span class="o">:</span> <span class="p">[{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/users/:id&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">UserDetails</span> <span class="p">}],</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>component</code> (å’Œ <code>components</code>) é…ç½®æ¥æ”¶ä¸€ä¸ªè¿”å› Promise ç»„ä»¶çš„å‡½æ•°ï¼ŒVue Router <strong>åªä¼šåœ¨ç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢æ—¶æ‰ä¼šè·å–è¿™ä¸ªå‡½æ•°</strong>ï¼Œç„¶åä½¿ç”¨ç¼“å­˜æ•°æ®ã€‚è¿™æ„å‘³ç€ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„å‡½æ•°ï¼Œåªè¦å®ƒä»¬è¿”å›ä¸€ä¸ª Promise ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">UserDetails</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/* ç»„ä»¶å®šä¹‰ */</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹æ‰€æœ‰çš„è·¯ç”±<strong>éƒ½ä½¿ç”¨åŠ¨æ€å¯¼å…¥</strong>æ˜¯ä¸ªå¥½ä¸»æ„ã€‚</p>
<h2 id="çŠ¶æ€ç®¡ç†">çŠ¶æ€ç®¡ç†<a hidden class="anchor" aria-hidden="true" href="#çŠ¶æ€ç®¡ç†">#</a></h2>
<h3 id="pinia">Pinia<a hidden class="anchor" aria-hidden="true" href="#pinia">#</a></h3>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://pinia.web3doc.top/getting-started.html">https://pinia.web3doc.top/getting-started.html</a></p>
<p><a href="https://juejin.cn/post/6986847203885056036">Pinia å¿«é€Ÿå…¥é—¨</a></p>
<p><a href="https://juejin.cn/post/7082905688313167903">pinia çš„ä½¿ç”¨ï¼ˆäºŒï¼‰â€”â€” state</a></p>
</blockquote>
<h4 id="å®‰è£…">å®‰è£…<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">npm install pinia
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ›å»ºä¸€ä¸ª piniaï¼ˆæ ¹å­˜å‚¨ï¼‰å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ç¨‹åºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createApp</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">App</span> <span class="kr">from</span> <span class="s1">&#39;./App.vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;pinia&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">createPinia</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">app</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="store">Store<a hidden class="anchor" aria-hidden="true" href="#store">#</a></h4>
<p>Store æ˜¯ä½¿ç”¨ <code>defineStore()</code> å®šä¹‰çš„ï¼Œå¹¶ä¸”å®ƒéœ€è¦ä¸€ä¸ª<strong>å”¯ä¸€</strong>åç§°ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;pinia&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// useStore å¯ä»¥æ˜¯ useUserã€useCart ä¹‹ç±»çš„ä»»ä½•ä¸œè¥¿
</span></span></span><span class="line"><span class="cl"><span class="c1">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åº”ç”¨ç¨‹åºä¸­ store çš„å”¯ä¸€ id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">useStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// other options...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ª <em>name</em>ï¼Œä¹Ÿç§°ä¸º <em>id</em>ï¼Œæ˜¯å¿…è¦çš„ï¼ŒPinia ä½¿ç”¨å®ƒæ¥å°† store è¿æ¥åˆ° devtoolsã€‚ å°†è¿”å›çš„å‡½æ•°å‘½åä¸º <em>use&hellip;</em> æ˜¯è·¨å¯ç»„åˆé¡¹çš„çº¦å®šï¼Œä»¥ä½¿å…¶ç¬¦åˆä½ çš„ä½¿ç”¨ä¹ æƒ¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useStore</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@/store/demo&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">useStore</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;store.counter:&#34;</span><span class="p">,</span> <span class="nx">store</span><span class="p">.</span><span class="nx">counter</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯·æ³¨æ„ï¼Œ<code>store</code> æ˜¯ä¸€ä¸ªç”¨<code>reactive</code> åŒ…è£¹çš„å¯¹è±¡ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦åœ¨getter ä¹‹åå†™<code>.value</code>ï¼Œä½†æ˜¯ï¼Œå°±åƒ<code>setup</code> ä¸­çš„<code>props</code> ä¸€æ ·ï¼Œ<strong>æˆ‘ä»¬ä¸èƒ½å¯¹å…¶è¿›è¡Œè§£æ„</strong>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineComponent</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup() {</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">useStore</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// âŒ è¿™ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºå®ƒä¼šç ´åå“åº”å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// è¿™å’Œä» props è§£æ„æ˜¯ä¸€æ ·çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="p">{</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">doubleCount</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">store</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="c1">// &#34;eduardo&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">doubleCount</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// ä¸€ç›´ä¼šæ˜¯ &#34;eduardo&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// ä¸€ç›´ä¼šæ˜¯ 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">doubleCount</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// è¿™å°†æ˜¯å“åº”å¼çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">doubleValue</span>: <span class="kt">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">store</span><span class="p">.</span><span class="nx">doubleCount</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸ºäº†ä» Store ä¸­æå–å±æ€§åŒæ—¶ä¿æŒå…¶å“åº”å¼ï¼Œæ‚¨éœ€è¦ä½¿ç”¨<code>storeToRefs()</code>ã€‚ å®ƒå°†ä¸ºä»»ä½•å“åº”å¼å±æ€§åˆ›å»º refsã€‚ å½“æ‚¨ä»…ä½¿ç”¨ store ä¸­çš„çŠ¶æ€ä½†ä¸è°ƒç”¨ä»»ä½•æ“ä½œæ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">storeToRefs</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;pinia&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineComponent</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup() {</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">useStore</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// `name` å’Œ `doubleCount` æ˜¯å“åº”å¼å¼•ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// è¿™ä¹Ÿä¼šä¸ºæ’ä»¶æ·»åŠ çš„å±æ€§åˆ›å»ºå¼•ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ä½†è·³è¿‡ä»»ä½• action æˆ– éå“åº”å¼ï¼ˆä¸æ˜¯ ref/reactiveï¼‰çš„å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="p">{</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">doubleCount</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">storeToRefs</span><span class="p">(</span><span class="nx">store</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">doubleCount</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="state">State<a hidden class="anchor" aria-hidden="true" href="#state">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;pinia&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">useStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="s1">&#39;storeId&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æ¨èä½¿ç”¨ å®Œæ•´ç±»å‹æ¨æ–­çš„ç®­å¤´å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">state</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// æ‰€æœ‰è¿™äº›å±æ€§éƒ½å°†è‡ªåŠ¨æ¨æ–­å…¶ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">counter</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Eduardo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">isAdmin</span>: <span class="kt">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="getters">Getters<a hidden class="anchor" aria-hidden="true" href="#getters">#</a></h4>
<p>Getter å®Œå…¨ç­‰åŒäº Store çŠ¶æ€çš„ <a href="https://v3.vuejs.org/guide/reactivity-computed-watchers.html#computed-values">è®¡ç®—å€¼</a>ã€‚ å®ƒä»¬å¯ä»¥ç”¨ <code>defineStore()</code> ä¸­çš„ <code>getters</code> å±æ€§å®šä¹‰ã€‚ ä»–ä»¬æ¥æ”¶â€œçŠ¶æ€â€ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°<strong>ä»¥é¼“åŠ±</strong>ç®­å¤´å‡½æ•°çš„ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">useStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">state</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">counter</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getters</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">doubleCount</span><span class="o">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">counter</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¤§å¤šæ•°æ—¶å€™ï¼Œgetter åªä¼šä¾èµ–çŠ¶æ€ï¼Œä½†æ˜¯ï¼Œä»–ä»¬å¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»– getterã€‚ æ­£å› ä¸ºå¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰å¸¸è§„å‡½æ•°æ—¶é€šè¿‡ <code>this</code> è®¿é—®åˆ° <em>æ•´ä¸ª store çš„å®ä¾‹</em>ï¼Œ <strong>ä½†æ˜¯éœ€è¦å®šä¹‰è¿”å›ç±»å‹ï¼ˆåœ¨ TypeScript ä¸­ï¼‰</strong>ã€‚ è¿™æ˜¯ç”±äº TypeScript ä¸­çš„ä¸€ä¸ªå·²çŸ¥é™åˆ¶ï¼Œå¹¶ä¸”<strong>ä¸ä¼šå½±å“ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰çš„ getterï¼Œä¹Ÿä¸ä¼šå½±å“ä¸ä½¿ç”¨ <code>this</code> çš„ getter</strong>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">useStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">state</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">counter</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getters</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// è‡ªåŠ¨å°†è¿”å›ç±»å‹æ¨æ–­ä¸ºæ•°å­—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">doubleCount</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nx">counter</span> <span class="o">*</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// è¿”å›ç±»å‹å¿…é¡»æ˜ç¡®è®¾ç½®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">doublePlusOne</span><span class="p">()</span><span class="o">:</span> <span class="kt">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">counter</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åä½ å¯ä»¥ç›´æ¥åœ¨ store å®ä¾‹ä¸Šè®¿é—® getterï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Double</span> <span class="nx">count</span> <span class="nx">is</span> <span class="p">{{</span> <span class="nx">store</span><span class="p">.</span><span class="nx">doubleCount</span> <span class="p">}}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">useStore</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span> <span class="nx">store</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="actions">Actions<a hidden class="anchor" aria-hidden="true" href="#actions">#</a></h4>
<p>Actions ç›¸å½“äºç»„ä»¶ä¸­çš„ <a href="https://v3.vuejs.org/guide/data-methods.html#methods">methods</a>ã€‚ å®ƒä»¬å¯ä»¥ä½¿ç”¨ <code>defineStore()</code> ä¸­çš„ <code>actions</code> å±æ€§å®šä¹‰ï¼Œå¹¶ä¸”<strong>å®ƒä»¬éå¸¸é€‚åˆå®šä¹‰ä¸šåŠ¡é€»è¾‘</strong>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">useStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">state</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">counter</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">actions</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">increment() {</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">counter</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">randomizeCounter() {</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">counter</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸ <a href="https://pinia.web3doc.top/core-concepts/getters.html">getters</a> ä¸€æ ·ï¼Œæ“ä½œå¯ä»¥é€šè¿‡ <code>this</code> è®¿é—® <em>whole store instance</em> å¹¶æä¾›<strong>å®Œæ•´ç±»å‹ï¼ˆå’Œè‡ªåŠ¨å®Œæˆâœ¨ï¼‰æ”¯æŒ</strong>ã€‚ <strong>ä¸å®ƒä»¬ä¸åŒï¼Œ<code>actions</code> å¯ä»¥æ˜¯å¼‚æ­¥çš„</strong>ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­<code>await</code> ä»»ä½• API è°ƒç”¨ç”šè‡³å…¶ä»–æ“ä½œï¼ è¿™æ˜¯ä½¿ç”¨ <a href="https://github.com/posva/mande">Mande</a> çš„ç¤ºä¾‹ã€‚ è¯·æ³¨æ„ï¼Œåªè¦æ‚¨è·å¾—â€œPromiseâ€ï¼Œæ‚¨ä½¿ç”¨çš„åº“å¹¶ä¸é‡è¦ï¼Œæ‚¨ç”šè‡³å¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„â€œfetchâ€å‡½æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">mande</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;mande&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">mande</span><span class="p">(</span><span class="s1">&#39;/api/users&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">useUsers</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">state</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">userData</span>: <span class="kt">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">actions</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">async</span> <span class="nx">registerUser</span><span class="p">(</span><span class="nx">login</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">userData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span> <span class="nx">login</span><span class="p">,</span> <span class="nx">password</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="nx">showTooltip</span><span class="p">(</span><span class="sb">`Welcome back </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">userData</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">showTooltip</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è®©è¡¨å•ç»„ä»¶æ˜¾ç¤ºé”™è¯¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="nx">error</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½ ä¹Ÿå¯ä»¥å®Œå…¨è‡ªç”±åœ°è®¾ç½®ä½ æƒ³è¦çš„ä»»ä½•å‚æ•°å¹¶è¿”å›ä»»ä½•ä¸œè¥¿ã€‚ è°ƒç”¨ Action æ—¶ï¼Œä¸€åˆ‡éƒ½ä¼šè‡ªåŠ¨æ¨æ–­ï¼</p>
<p>Actions åƒ methods ä¸€æ ·è¢«è°ƒç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineComponent</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup() {</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">main</span> <span class="o">=</span> <span class="nx">useMainStore</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Actions åƒ methods ä¸€æ ·è¢«è°ƒç”¨ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">main</span><span class="p">.</span><span class="nx">randomizeCounter</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vuex">Vuex<a hidden class="anchor" aria-hidden="true" href="#vuex">#</a></h3>
<h2 id="typescript-ä¸ç»„åˆå¼-api">TypeScript ä¸ç»„åˆå¼ API<a hidden class="anchor" aria-hidden="true" href="#typescript-ä¸ç»„åˆå¼-api">#</a></h2>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://cn.vuejs.org/guide/typescript/composition-api.html">https://cn.vuejs.org/guide/typescript/composition-api.html</a></p>
</blockquote>
<h3 id="ä¸ºç»„ä»¶çš„-props-æ ‡æ³¨ç±»å‹">ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#ä¸ºç»„ä»¶çš„-props-æ ‡æ³¨ç±»å‹">#</a></h3>
<p>å½“ä½¿ç”¨ <code>&lt;script setup&gt;</code> æ—¶ï¼Œ<code>defineProps()</code> å®å‡½æ•°æ”¯æŒä»å®ƒçš„å‚æ•°ä¸­æ¨å¯¼ç±»å‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">props</span> <span class="o">=</span> <span class="nx">defineProps</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bar</span><span class="o">:</span> <span class="nb">Number</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">props</span><span class="p">.</span><span class="nx">foo</span> <span class="c1">// string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="p">.</span><span class="nx">bar</span> <span class="c1">// number | undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™è¢«ç§°ä¹‹ä¸ºâ€œè¿è¡Œæ—¶å£°æ˜â€ï¼Œå› ä¸ºä¼ é€’ç»™ <code>defineProps()</code> çš„å‚æ•°ä¼šä½œä¸ºè¿è¡Œæ—¶çš„ <code>props</code> é€‰é¡¹ä½¿ç”¨ã€‚</p>
<p>ç„¶è€Œï¼Œé€šè¿‡æ³›å‹å‚æ•°æ¥å®šä¹‰ props çš„ç±»å‹é€šå¸¸æ›´ç›´æ¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">props</span> <span class="o">=</span> <span class="nx">defineProps</span><span class="o">&lt;</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">foo</span><span class="o">:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bar</span><span class="o">?:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™è¢«ç§°ä¹‹ä¸ºâ€œåŸºäºç±»å‹çš„å£°æ˜â€ã€‚ç¼–è¯‘å™¨ä¼šå°½å¯èƒ½åœ°å°è¯•æ ¹æ®ç±»å‹å‚æ•°æ¨å¯¼å‡ºç­‰ä»·çš„è¿è¡Œæ—¶é€‰é¡¹ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ç¬¬äºŒä¸ªä¾‹å­ä¸­ç¼–è¯‘å‡ºçš„è¿è¡Œæ—¶é€‰é¡¹å’Œç¬¬ä¸€ä¸ªæ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚</p>
<p>åŸºäºç±»å‹çš„å£°æ˜æˆ–è€…è¿è¡Œæ—¶å£°æ˜å¯ä»¥æ‹©ä¸€ä½¿ç”¨ï¼Œä½†æ˜¯ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† props çš„ç±»å‹ç§»å…¥ä¸€ä¸ªå•ç‹¬çš„æ¥å£ä¸­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">setup</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">Props</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">foo</span><span class="o">:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bar</span><span class="o">?:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">props</span> <span class="o">=</span> <span class="nx">defineProps</span><span class="p">&lt;</span><span class="nt">Props</span><span class="p">&gt;()</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="typescript-ä¸é€‰é¡¹å¼-api">TypeScript ä¸é€‰é¡¹å¼ API<a hidden class="anchor" aria-hidden="true" href="#typescript-ä¸é€‰é¡¹å¼-api">#</a></h2>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://cn.vuejs.org/guide/typescript/options-api.html">https://cn.vuejs.org/guide/typescript/options-api.html</a></p>
</blockquote>
<h3 id="ä¸ºç»„ä»¶çš„-props-æ ‡æ³¨ç±»å‹-1">ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#ä¸ºç»„ä»¶çš„-props-æ ‡æ³¨ç±»å‹-1">#</a></h3>
<p>é€‰é¡¹å¼ API ä¸­å¯¹ props çš„ç±»å‹æ¨å¯¼éœ€è¦ç”¨ <code>defineComponent()</code> æ¥åŒ…è£…ç»„ä»¶ã€‚æœ‰äº†å®ƒï¼ŒVue æ‰å¯ä»¥é€šè¿‡ <code>props</code> ä»¥åŠä¸€äº›é¢å¤–çš„é€‰é¡¹ï¼Œæ¯”å¦‚ <code>required: true</code> å’Œ <code>default</code> æ¥æ¨å¯¼å‡º props çš„ç±»å‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineComponent</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// å¯ç”¨äº†ç±»å‹æ¨å¯¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span>: <span class="kt">String</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">id</span><span class="o">:</span> <span class="p">[</span><span class="nb">Number</span><span class="p">,</span> <span class="nb">String</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">msg</span><span class="o">:</span> <span class="p">{</span> <span class="kr">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span>: <span class="kt">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">metadata</span>: <span class="kt">null</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">mounted() {</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="c1">// ç±»å‹ï¼šstring | undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="c1">// ç±»å‹ï¼šnumber | string | undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">msg</span> <span class="c1">// ç±»å‹ï¼šstring
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">metadata</span> <span class="c1">// ç±»å‹ï¼šany
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶è€Œï¼Œè¿™ç§è¿è¡Œæ—¶ <code>props</code> é€‰é¡¹ä»…æ”¯æŒä½¿ç”¨æ„é€ å‡½æ•°æ¥ä½œä¸ºä¸€ä¸ª prop çš„ç±»å‹â€”â€”æ²¡æœ‰åŠæ³•æŒ‡å®šå¤šå±‚çº§å¯¹è±¡æˆ–å‡½æ•°ç­¾åä¹‹ç±»çš„å¤æ‚ç±»å‹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>PropType</code> è¿™ä¸ªå·¥å…·ç±»å‹æ¥æ ‡è®°æ›´å¤æ‚çš„ props ç±»å‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="kr">type</span> <span class="p">{</span> <span class="nx">PropType</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">Book</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">author</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">year</span>: <span class="kt">number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineComponent</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">book</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// æä¾›ç›¸å¯¹ `Object` æ›´ç¡®å®šçš„ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kr">type</span><span class="o">:</span> <span class="nb">Object</span> <span class="kr">as</span> <span class="nx">PropType</span><span class="p">&lt;</span><span class="nt">Book</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">required</span>: <span class="kt">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¹Ÿå¯ä»¥æ ‡è®°å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">callback</span>: <span class="kt">Function</span> <span class="kr">as</span> <span class="nx">PropType</span><span class="o">&lt;</span><span class="p">(</span><span class="nx">id</span>: <span class="kt">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">mounted() {</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">book</span><span class="p">.</span><span class="nx">title</span> <span class="c1">// string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">book</span><span class="p">.</span><span class="nx">year</span> <span class="c1">// number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// TS Error: argument of type &#39;string&#39; is not
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// assignable to parameter of type &#39;number&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">callback</span><span class="o">?</span><span class="p">.(</span><span class="s1">&#39;123&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    
<nav class="paginav">
  <a class="prev" href="https://chance7bin.github.io/posts/note/%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3%E5%8F%8Aspringboot%E9%9B%86%E6%88%90/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>é›ªèŠ±ç®—æ³•è¯¦è§£åŠspringbooté›†æˆ</span>
  </a>
  <a class="next" href="https://chance7bin.github.io/posts/note/vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Vueé¡¹ç›®æ­å»º</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://chance7bin.github.io/">Binb&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
