<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ç»“æ„å‹æ¨¡å¼ | Binb&#39;s Blog</title>
<meta name="keywords" content="è®¾è®¡æ¨¡å¼">
<meta name="description" content="é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter é€‚é…å™¨æ¨¡å¼(Adapter)ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapteræ¨¡å¼ä½¿å¾—åŸ">
<meta name="author" content="chance7bin">
<link rel="canonical" href="https://chance7bin.github.io/posts/basic/pattern/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.be81eec981a615a87a88f121642d7eebde74d033438693944db2fd6b827284ff.css" integrity="" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity=""
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="apple-touch-icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="mask-icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="ç»“æ„å‹æ¨¡å¼" />
<meta property="og:description" content="é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter é€‚é…å™¨æ¨¡å¼(Adapter)ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapteræ¨¡å¼ä½¿å¾—åŸ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chance7bin.github.io/posts/basic/pattern/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-09-14T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ç»“æ„å‹æ¨¡å¼"/>
<meta name="twitter:description" content="é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter é€‚é…å™¨æ¨¡å¼(Adapter)ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapteræ¨¡å¼ä½¿å¾—åŸ"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“š æ–‡ç« ",
      "item": "https://chance7bin.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“• è®¡ç®—æœºåŸºç¡€",
      "item": "https://chance7bin.github.io/posts/basic/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "è®¾è®¡æ¨¡å¼",
      "item": "https://chance7bin.github.io/posts/basic/pattern/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "ç»“æ„å‹æ¨¡å¼",
      "item": "https://chance7bin.github.io/posts/basic/pattern/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç»“æ„å‹æ¨¡å¼",
  "name": "ç»“æ„å‹æ¨¡å¼",
  "description": "é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter é€‚é…å™¨æ¨¡å¼(Adapter)ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapteræ¨¡å¼ä½¿å¾—åŸ",
  "keywords": [
    "è®¾è®¡æ¨¡å¼"
  ],
  "articleBody": "é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter é€‚é…å™¨æ¨¡å¼(Adapter)ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapteræ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚\nåœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿçš„æ•°æ®å’Œè¡Œä¸ºéƒ½æ­£ç¡®ï¼Œä½†æ¥å£ä¸ç¬¦æ—¶ï¼Œåº”è¯¥è€ƒè™‘ç”¨é€‚é…å™¨ï¼Œç›®çš„æ˜¯ä½¿æ§åˆ¶èŒƒå›´ä¹‹å¤–çš„ä¸€ä¸ªåŸæœ‰å¯¹è±¡ä¸æŸä¸ªæ¥å£åŒ¹é…ã€‚é€‚é…å™¨æ¨¡å¼ä¸»è¦åº”ç”¨äºå¸Œæœ›å¤ç”¨ä¸€äº›ç°å­˜çš„ç±»ï¼Œä½†æ˜¯æ¥å£åˆä¸å¤ç”¨ç¯å¢ƒè¦æ±‚ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ¯”å¦‚åœ¨éœ€è¦å¯¹æ—©æœŸä»£ç å¤ç”¨ä¸€äº›åŠŸèƒ½ç­‰åº”ç”¨ä¸Šå¾ˆæœ‰å®é™…ä»·å€¼ã€‚\nåœ¨GoF çš„è®¾è®¡æ¨¡å¼ä¸­ï¼Œå¯¹é€‚é…å™¨æ¨¡å¼è®²äº†ä¸¤ç§ç±»å‹ï¼Œç±»é€‚é…å™¨æ¨¡å¼å’Œå¯¹è±¡é€‚é…å™¨æ¨¡å¼ï¼Œç”±äºç±»é€‚é…å™¨æ¨¡å¼é€šè¿‡å¤šé‡ç»§æ‰¿å¯¹ä¸€ä¸ªæ¥å£ä¸å¦ä¸€ä¸ªæ¥å£è¿›è¡ŒåŒ¹é…ï¼Œè€ŒC#ã€VB.NETã€JAVAç­‰è¯­è¨€éƒ½ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼ˆC++æ”¯æŒ)ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦è®²çš„æ˜¯å¯¹è±¡é€‚é…å™¨ã€‚\nç»“æ„å›¾ ä½•æ—¶ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ åœ¨æƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»ï¼Œä½†å¦‚æœå®ƒçš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„æ–¹æ³•å’Œä½ çš„è¦æ±‚ä¸ç›¸åŒæ—¶ï¼Œå°±åº”è¯¥è€ƒè™‘ç”¨é€‚é…å™¨æ¨¡å¼ã€‚\nä¸¤ä¸ªç±»æ‰€åšçš„äº‹æƒ…ç›¸åŒæˆ–ç›¸ä¼¼ï¼Œä½†æ˜¯å…·æœ‰ä¸åŒçš„æ¥å£æ—¶è¦ä½¿ç”¨å®ƒã€‚è€Œä¸”ç”±äºç±»éƒ½å…±äº«åŒä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—å®¢æˆ·ä»£ç å¯ä»¥ç»Ÿä¸€è°ƒç”¨åŒä¸€æ¥å£ï¼Œè¿™æ ·æ›´ç®€å•ã€æ›´ç›´æ¥ã€æ›´ç´§å‡‘ã€‚\nå…¬å¸å†…éƒ¨ï¼Œç±»å’Œæ–¹æ³•çš„å‘½ååº”è¯¥æœ‰è§„èŒƒï¼Œæœ€å¥½å‰æœŸå°±è®¾è®¡å¥½ï¼Œç„¶åå¦‚æœçœŸçš„æ¥å£ä¸ç›¸åŒæ—¶ï¼Œé¦–å…ˆä¸åº”è¯¥è€ƒè™‘ç”¨é€‚é…å™¨ï¼Œè€Œæ˜¯åº”è¯¥è€ƒè™‘é€šè¿‡é‡æ„ç»Ÿä¸€æ¥å£ã€‚\nè¦åœ¨åŒæ–¹éƒ½ä¸å¤ªå®¹æ˜“ä¿®æ”¹çš„æ—¶å€™å†ä½¿ç”¨é€‚é…å™¨æ¨¡å¼é€‚é…ï¼Œè€Œä¸æ˜¯ä¸€æœ‰ä¸åŒæ—¶å°±ä½¿ç”¨å®ƒã€‚\nè®¾è®¡ä¹‹åˆå°±éœ€è¦è€ƒè™‘ç”¨é€‚é…å™¨æ¨¡å¼çš„æ—¶å€™ï¼šæ¯”å¦‚å…¬å¸è®¾è®¡ä¸€ç³»ç»Ÿæ—¶è€ƒè™‘ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€å‘ç»„ä»¶ï¼Œè€Œè¿™ä¸ªç»„ä»¶çš„æ¥å£ä¸è‡ªå·±çš„ç³»ç»Ÿæ¥å£æ˜¯ä¸ç›¸åŒçš„ï¼Œè€Œæˆ‘ä»¬ä¹Ÿå®Œå…¨æ²¡æœ‰å¿…è¦ä¸ºäº†è¿åˆå®ƒè€Œæ”¹åŠ¨è‡ªå·±çš„æ¥å£ï¼Œæ­¤æ—¶å°½ç®¡æ˜¯åœ¨å¼€å‘çš„è®¾è®¡é˜¶æ®µï¼Œä¹Ÿæ˜¯å¯ä»¥è€ƒè™‘ç”¨é€‚é…å™¨æ¨¡å¼æ¥è§£å†³æ¥å£ä¸åŒçš„é—®é¢˜ã€‚\nä»£ç å®ç° Player\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class Player { String name; public Player() { } public Player(String name) { this.name = name; } void attack(){ System.out.println(name + \" å†²å•Š\"); }; void defend(){ System.out.println(name + \" é˜²å•Š\"); }; } ConcretePlayer\n1 2 3 4 5 6 public class ST extends Player{ public ST(String name) { super(name); } } 1 2 3 4 5 6 public class CB extends Player{ public CB(String name) { super(name); } } need adaper class\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public class YAO{ private String name; public void setName(String name) { this.name = name; } public void jingong() { System.out.println(\"yao å†²å•Š\"); } public void fangshou() { System.out.println(\"yao é˜²å•Š\"); } } Adapter\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 public class Adapter extends Player{ private YAO yao = new YAO(); public Adapter(String name) { yao.setName(name); } @Override void attack() { yao.jingong(); } @Override void defend() { yao.fangshou(); } } client\n1 2 3 4 5 6 7 8 public static void main(String[] args) { Player st = new ST(\"st\"); st.attack(); Player cb = new CB(\"cb\"); cb.attack(); Player yao = new Adapter(\"yao\"); yao.defend(); } é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨ **DataAdapterç”¨ä½œDataSetå’Œæ•°æ®æºä¹‹é—´çš„é€‚é…å™¨ä»¥ä¾¿æ£€ç´¢å’Œä¿å­˜æ•°æ®ã€‚DataAdapteré€šè¿‡æ˜ å°„FilIï¼ˆè¿™æ›´æ”¹äº†DataSetä¸­çš„æ•°æ®ä»¥ä¾¿ä¸æ•°æ®æºä¸­çš„æ•°æ®ç›¸åŒ¹é…ï¼‰å’ŒUpdateï¼ˆè¿™æ›´æ”¹äº†æ•°æ®æºä¸­çš„æ•°æ®ä»¥ä¾¿ä¸DataSetä¸­çš„æ•°æ®ç›¸åŒ¹é…ï¼‰æ¥æä¾›è¿™ä¸€é€‚é…å™¨ã€‚**ç”±äºæ•°æ®æºå¯èƒ½æ˜¯æ¥è‡ªSQL Serverï¼Œå¯èƒ½æ¥è‡ªOracleï¼Œä¹Ÿå¯èƒ½æ¥è‡ªAccessã€DB2ï¼Œè¿™äº›æ•°æ®åœ¨ç»„ç»‡ä¸Šå¯èƒ½æœ‰ä¸åŒä¹‹å¤„ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ç»Ÿä¸€çš„DataSetï¼ˆå®è´¨æ˜¯XML æ•°æ®ï¼‰ï¼Œæ­¤æ—¶ç”¨DataAdapterå°±æ˜¯éå¸¸å¥½çš„æ‰‹æ®µï¼Œæˆ‘ä»¬ä¸å¿…å…³æ³¨ä¸åŒæ•°æ®åº“çš„æ•°æ®ç»†èŠ‚,å°±å¯ä»¥çµæ´»çš„ä½¿ç”¨æ•°æ®ã€‚\næ¡¥æ¥æ¨¡å¼â€”â€”æ‰‹æœºè½¯ä»¶ç»Ÿä¸€ å¾ˆå¤šæƒ…å†µç”¨ç»§æ‰¿ä¼šå¸¦æ¥éº»çƒ¦ã€‚æ¯”å¦‚ï¼Œå¯¹è±¡çš„ç»§æ‰¿å…³ç³»æ˜¯åœ¨ç¼–è¯‘æ—¶å°±å®šä¹‰å¥½äº†ï¼Œæ‰€ä»¥æ— æ³•åœ¨è¿è¡Œæ—¶æ”¹å˜ä»çˆ¶ç±»ç»§æ‰¿çš„å®ç°ã€‚å­ç±»çš„å®ç°ä¸å®ƒçš„çˆ¶ç±»æœ‰éå¸¸ç´§å¯†çš„ä¾èµ–å…³ç³»ï¼Œä»¥è‡³äºçˆ¶ç±»å®ç°ä¸­çš„ä»»ä½•å˜åŒ–å¿…ç„¶ä¼šå¯¼è‡´å­ç±»å‘ç”Ÿå˜åŒ–ã€‚å½“éœ€è¦å¤ç”¨å­ç±»æ—¶ï¼Œå¦‚æœç»§æ‰¿ä¸‹æ¥çš„å®ç°ä¸é€‚åˆè§£å†³æ–°çš„é—®é¢˜åˆ™çˆ¶ç±»å¿…é¡»é‡å†™æˆ–è¢«å…¶ä»–æ›´é€‚åˆçš„ç±»æ›¿æ¢ã€‚è¿™ç§ä¾èµ–å…³ç³»é™åˆ¶äº†çµæ´»æ€§å¹¶æœ€ç»ˆé™åˆ¶äº†å¤ç”¨æ€§ã€‚\nåˆæˆ/èšåˆå¤ç”¨åŸåˆ™ åˆæˆ/èšåˆå¤ç”¨åŸåˆ™ï¼ˆCARPï¼‰ï¼Œå°½é‡ä½¿ç”¨åˆæˆ/èšåˆï¼Œå°½é‡ä¸è¦ä½¿ç”¨ç±»ç»§æ‰¿ã€‚\nåˆæˆï¼ˆCompositionï¼Œä¹Ÿæœ‰ç¿»è¯‘æˆç»„åˆï¼‰å’Œèšåˆï¼ˆAggregationï¼‰éƒ½æ˜¯å…³è”çš„ç‰¹æ®Šç§ç±»ã€‚**èšåˆè¡¨ç¤ºä¸€ç§å¼±çš„â€œæ‹¥æœ‰â€å…³ç³»ï¼Œä½“ç°çš„æ˜¯Aå¯¹è±¡å¯ä»¥åŒ…å«Bå¯¹è±¡ï¼Œä½†Bå¯¹è±¡ä¸æ˜¯Aå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼›åˆæˆåˆ™æ˜¯ä¸€ç§å¼ºçš„â€œæ‹¥æœ‰â€å…³ç³»ï¼Œä½“ç°äº†ä¸¥æ ¼çš„éƒ¨åˆ†å’Œæ•´ä½“çš„å…³ç³»ï¼Œéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·ã€‚**æ¯”æ–¹è¯´ï¼Œå¤§é›æœ‰ä¸¤ä¸ªç¿…è†€ï¼Œç¿…è†€ä¸å¤§é›æ˜¯éƒ¨åˆ†å’Œæ•´ä½“çš„å…³ç³»ï¼Œå¹¶ä¸”å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç›¸åŒçš„ï¼Œäºæ˜¯å¤§é›å’Œç¿…è†€å°±æ˜¯åˆæˆå…³ç³»ã€‚è€Œå¤§é›æ˜¯ç¾¤å±…åŠ¨ç‰©ï¼Œæ‰€ä»¥æ¯åªå¤§é›éƒ½æ˜¯å±äºä¸€ä¸ªé›ç¾¤ï¼Œä¸€ä¸ªé›ç¾¤å¯ä»¥æœ‰å¤šåªå¤§é›ï¼Œæ‰€ä»¥å¤§é›å’Œé›ç¾¤æ˜¯èšåˆå…³ç³»ã€‚\nåˆæˆ/èšåˆå¤ç”¨åŸåˆ™çš„å¥½å¤„æ˜¯ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡çš„åˆæˆ/èšåˆå°†æœ‰åŠ©äºä½ ä¿æŒæ¯ä¸ªç±»è¢«å°è£…ï¼Œå¹¶è¢«é›†ä¸­åœ¨å•ä¸ªä»»åŠ¡ä¸Šã€‚è¿™æ ·ç±»å’Œç±»ç»§æ‰¿å±‚æ¬¡ä¼šä¿æŒè¾ƒå°è§„æ¨¡ï¼Œå¹¶ä¸”ä¸å¤ªå¯èƒ½å¢é•¿ä¸ºä¸å¯æ§åˆ¶çš„åºç„¶å¤§ç‰©ã€‚\næ¡¥æ¥æ¨¡å¼ æ¡¥æ¥æ¨¡å¼(Bridge)ï¼Œå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚\nä»€ä¹ˆå«æŠ½è±¡ä¸å®ƒçš„å®ç°åˆ†ç¦»ï¼Ÿè¿™å¹¶ä¸æ˜¯è¯´ï¼Œè®©æŠ½è±¡ç±»ä¸å…¶æ´¾ç”Ÿç±»åˆ†ç¦»ï¼Œå› ä¸ºè¿™æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚å®ç°æŒ‡çš„æ˜¯æŠ½è±¡ç±»å’Œå®ƒçš„æ´¾ç”Ÿç±»ç”¨æ¥å®ç°è‡ªå·±çš„å¯¹è±¡ã€‚ä¸¾ä¸ªæ —å­ï¼Œâ€œæ‰‹æœºâ€å¯ä»¥æŒ‰ç…§å“ç‰Œæ¥åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§åŠŸèƒ½æ¥åˆ†ç±»ã€‚\nç»“æ„å›¾ ä»£ç å®ç° Abstractionç±»\n1 2 3 4 5 6 7 8 9 public abstract class Phone { Software software; public void setSoftware(Software software) { this.software = software; } abstract void run(); } RefinedAbstractionç±»\n1 2 3 4 5 6 7 public class IOS extends Phone{ @Override void run() { super.software.run(); } } Implementorç±»\n1 2 3 public interface Software { void run(); } ConcreteImplementorAå’Œ ConcreteImplementorBç­‰æ´¾ç”Ÿç±»\n1 2 3 4 5 6 public class Excel implements Software{ @Override public void run() { System.out.println(\"run excel\"); } } 1 2 3 4 5 6 public class Word implements Software{ @Override public void run() { System.out.println(\"run word\"); } } å®¢æˆ·ç«¯å®ç°\n1 2 3 4 5 6 7 public static void main(String[] args) { IOS ios = new IOS(); ios.setSoftware(new Excel()); ios.run(); ios.setSoftware(new Word()); ios.run(); } å®ç°ç³»ç»Ÿå¯èƒ½æœ‰å¤šè§’åº¦åˆ†ç±»ï¼Œæ¯ä¸€ç§åˆ†ç±»éƒ½æœ‰å¯èƒ½å˜åŒ–ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ç§å¤šè§’åº¦åˆ†ç¦»å‡ºæ¥è®©å®ƒä»¬ç‹¬ç«‹å˜åŒ–ï¼Œå‡å°‘å®ƒä»¬ä¹‹é—´çš„è€¦åˆã€‚\nç»„åˆæ¨¡å¼â€”â€”æ€»å…¬å¸-åˆ†å…¬å¸-éƒ¨é—¨ ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰ï¼Œå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆæ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚\nç»“æ„å›¾ ä»£ç å®ç° Comonent\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public abstract class Component { String name; public Component(String name) { this.name = name; } public abstract void add(Component component); public abstract void remove(Component component); public abstract void display(int depth); } Composite\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class ConcreteComponent extends Component { List\u003cComponent\u003e children = new ArrayList\u003c\u003e(); public ConcreteComponent(String name) { super(name); } @Override public void add(Component component) { children.add(component); } @Override public void remove(Component component) { children.remove(component); } @Override public void display(int depth) { System.out.println(String.join(\"\", Collections.nCopies(depth,\"-\")) + name); for (Component child : children) { child.display(depth + 2); } } } Leaf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Leaf extends Component{ public Leaf(String name) { super(name); } @Override public void add(Component component) { } @Override public void remove(Component component) { } @Override public void display(int depth) { System.out.println(String.join(\"\", Collections.nCopies(depth,\"-\")) + name); } } Client\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 public static void main(String[] args) { ConcreteComponent a = new ConcreteComponent(\"a\"); ConcreteComponent aa = new ConcreteComponent(\"aa\"); Leaf ab = new Leaf(\"ab\"); a.add(aa); a.add(ab); ConcreteComponent ac = new ConcreteComponent(\"ac\"); a.add(ac); Leaf aca = new Leaf(\"aca\"); ac.add(aca); Leaf aaa = new Leaf(\"aaa\"); aa.add(aaa); a.display(1); } åº”ç”¨åœºæ™¯ å½“å‘ç°éœ€æ±‚ä¸­æ˜¯ä½“ç°éƒ¨åˆ†ä¸æ•´ä½“å±‚æ¬¡çš„ç»“æ„æ—¶ï¼Œä»¥åŠå¸Œæœ›ç”¨æˆ·å¯ä»¥å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç»Ÿä¸€åœ°ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡æ—¶ï¼Œå°±åº”è¯¥è€ƒè™‘ç”¨ç»„åˆæ¨¡å¼äº†ã€‚\nè‡ªå®šä¹‰æ§ä»¶ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸€äº›åŸºæœ¬çš„æ§ä»¶ç»„åˆèµ·æ¥ï¼Œé€šè¿‡ç¼–ç¨‹å†™æˆä¸€ä¸ªå®šåˆ¶çš„æ§ä»¶ï¼Œæ¯”å¦‚ç”¨ä¸¤ä¸ªæ–‡æœ¬æ¡†å’Œä¸€ä¸ªæŒ‰é’®å°±å¯ä»¥å†™ä¸€ä¸‹è‡ªå®šä¹‰çš„ç™»å½•æ¡†æ§ä»¶ï¼Œå®é™…ä¸Šï¼Œæ‰€æœ‰çš„Webæ§ä»¶çš„åŸºç±»éƒ½æ˜¯System.Web.Ul.Controlï¼Œè€ŒControlåŸºç±»ä¸­å°±æœ‰Addå’ŒRemoveæ–¹æ³•ï¼Œè¿™å°±æ˜¯å…¸å‹çš„ç»„åˆæ¨¡å¼çš„åº”ç”¨ã€‚\nç»„åˆæ¨¡å¼å®šä¹‰äº†åŒ…å«Leafï¼ˆäººåŠ›èµ„æºéƒ¨å’Œè´¢åŠ¡éƒ¨ï¼‰è¿™äº›åŸºæœ¬å¯¹è±¡å’ŒConcreteComponentï¼ˆåˆ†å…¬å¸ã€åŠäº‹å¤„ï¼‰ç­‰ç»„åˆå¯¹è±¡çš„ç±»å±‚æ¬¡ç»“æ„ã€‚åŸºæœ¬å¯¹è±¡å¯ä»¥è¢«ç»„åˆæˆæ›´å¤æ‚çš„ç»„åˆå¯¹è±¡ï¼Œè€Œè¿™ä¸ªç»„åˆå¯¹è±¡åˆå¯ä»¥è¢«ç»„åˆï¼Œè¿™æ ·ä¸æ–­åœ°é€’å½’ä¸‹å»ï¼Œå®¢æˆ·ä»£ç ä¸­ï¼Œä»»ä½•ç”¨åˆ°åŸºæœ¬å¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ç»„åˆå¯¹è±¡äº†ã€‚\nç”¨æˆ·ä¸ç”¨å…³å¿ƒåˆ°åº•æ˜¯å¤„ç†ä¸€ä¸ªå¶èŠ‚ç‚¹è¿˜æ˜¯å¤„ç†ä¸€ä¸ªç»„åˆç»„ä»¶ï¼Œä¹Ÿå°±ç”¨ä¸ç€ä¸ºå®šä¹‰ç»„åˆè€Œå†™ä¸€äº›é€‰æ‹©åˆ¤æ–­è¯­å¥äº†ã€‚\nç»„åˆæ¨¡å¼è®©å®¢æˆ·å¯ä»¥ä¸€è‡´åœ°ä½¿ç”¨ç»„åˆç»“æ„å’Œå•ä¸ªå¯¹è±¡ã€‚\nè£…é¥°æ¨¡å¼â€”â€”ç©¿æ­ è£…é¥°æ¨¡å¼ï¼ˆDecorator)ï¼ŒåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚\nç»“æ„å›¾ è£…é¥°æ¨¡å¼æ˜¯åˆ©ç”¨SetComponentæ¥å¯¹å¯¹è±¡è¿›è¡ŒåŒ…è£…çš„ã€‚è¿™æ ·æ¯ä¸ªè£…é¥°å¯¹è±¡çš„å®ç°å°±å’Œå¦‚ä½•ä½¿ç”¨è¿™ä¸ªå¯¹è±¡åˆ†ç¦»å¼€äº†ï¼Œæ¯ä¸ªè£…é¥°å¯¹è±¡åªå…³å¿ƒè‡ªå·±çš„åŠŸèƒ½ï¼Œä¸éœ€è¦å…³å¿ƒå¦‚ä½•è¢«æ·»åŠ åˆ°å¯¹è±¡é“¾å½“ä¸­\nå¦‚æœåªæœ‰ä¸€ä¸ªConcreteComponentç±»è€Œæ²¡æœ‰æŠ½è±¡çš„Componentç±»ï¼Œé‚£ä¹ˆ Decoratorç±»å¯ä»¥æ˜¯ConcreteComponent çš„ä¸€ä¸ªå­ç±»ã€‚åŒæ ·é“ç†ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªConcreteDecoratorç±»ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„Decoratorç±»ï¼Œè€Œå¯ä»¥æŠŠ Decoratorå’ŒConcreteDecoratorçš„è´£ä»»åˆå¹¶æˆä¸€ä¸ªç±»ã€‚\nè£…é¥°æ¨¡å¼ä»£ç å®ç° â€œPersonâ€ç±»ï¼ˆConcreteComponentï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public class Person { private String name; public Person() { } public Person(String name) { this.name = name; } void show(){ System.out.println(name + \"ç©¿è¡£æœ\"); }; } æœé¥°ç±»ï¼ˆDecoratorï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Decorator extends Person{ private Person component; public void setDecorator(Person component) { this.component = component; } @Override void show() { if (component != null) component.show(); } } å…·ä½“æœé¥°ç±»ï¼ˆConcreteDecoratorï¼‰\n1 2 3 4 5 6 7 public class Clothes extends Decorator{ @Override void show() { System.out.println(\"è¡£æœ\"); super.show(); } } 1 2 3 4 5 6 7 public class Pants extends Decorator{ @Override void show() { System.out.println(\"è£¤å­\"); super.show(); } } 1 2 3 4 5 6 7 public class Shoe extends Decorator{ @Override void show() { System.out.println(\"é‹å­\"); super.show(); } } ä¸»å‡½æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class DecoratorTest { public static void main(String[] args) { Person person = new Person(\"bin\"); Clothes clothes = new Clothes(); Pants pants = new Pants(); Shoe shoe = new Shoe(); clothes.setDecorator(person); pants.setDecorator(clothes); shoe.setDecorator(pants); shoe.show(); } } æ‰“å°è¾“å‡º\nè£…é¥°æ¨¡å¼æ˜¯ä¸ºå·²æœ‰åŠŸèƒ½åŠ¨æ€åœ°æ·»åŠ æ›´å¤šåŠŸèƒ½çš„ä¸€ç§æ–¹å¼ã€‚\nä½†åˆ°åº•ä»€ä¹ˆæ—¶å€™ç”¨å®ƒå‘¢ï¼Ÿ\nèµ·åˆçš„è®¾è®¡ä¸­ï¼Œå½“ç³»ç»Ÿéœ€è¦æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œæ˜¯å‘æ—§çš„ç±»ä¸­æ·»åŠ æ–°çš„ä»£ç ã€‚è¿™äº›æ–°åŠ çš„ä»£ç é€šå¸¸è£…é¥°äº†åŸæœ‰ç±»çš„æ ¸å¿ƒèŒè´£æˆ–ä¸»è¦è¡Œä¸ºï¼Œä½†è¿™ç§åšæ³•çš„é—®é¢˜åœ¨äºï¼Œå®ƒä»¬åœ¨ä¸»ç±»ä¸­åŠ å…¥äº†æ–°çš„å­—æ®µï¼Œæ–°çš„æ–¹æ³•å’Œæ–°çš„é€»è¾‘ï¼Œä»è€Œå¢åŠ äº†ä¸»ç±»çš„å¤æ‚åº¦ï¼Œè€Œè¿™äº›æ–°åŠ å…¥çš„ä¸œè¥¿ä»…ä»…æ˜¯ä¸ºäº†æ»¡è¶³ä¸€äº›åªåœ¨æŸç§ç‰¹å®šæƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œçš„ç‰¹æ®Šè¡Œä¸ºçš„éœ€è¦ã€‚è€Œè£…é¥°æ¨¡å¼å´æä¾›äº†ä¸€ä¸ªéå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒæŠŠæ¯ä¸ªè¦è£…é¥°çš„åŠŸèƒ½æ”¾åœ¨å•ç‹¬çš„ç±»ä¸­ï¼Œå¹¶è®©è¿™ä¸ªç±»åŒ…è£…å®ƒæ‰€è¦è£…é¥°çš„å¯¹è±¡ï¼Œå› æ­¤ï¼Œå½“éœ€è¦æ‰§è¡Œç‰¹æ®Šè¡Œä¸ºæ—¶ï¼Œå®¢æˆ·ä»£ç å°±å¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦æœ‰é€‰æ‹©åœ°ã€æŒ‰é¡ºåºåœ°ä½¿ç”¨è£…é¥°åŠŸèƒ½åŒ…è£…å¯¹è±¡äº†ã€‚\nè£…é¥°æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æŠŠç±»ä¸­çš„è£…é¥°åŠŸèƒ½ä»ç±»ä¸­æ¬ç§»å»é™¤ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–åŸæœ‰çš„ç±»ã€‚è¿™æ ·åšæ›´å¤§çš„å¥½å¤„æ˜¯æœ‰æ•ˆåœ°æŠŠç±»çš„æ ¸å¿ƒèŒè´£å’Œè£…é¥°åŠŸèƒ½åŒºåˆ†å¼€äº†ã€‚è€Œä¸”å¯ä»¥å»é™¤ç›¸å…³ç±»ä¸­é‡å¤çš„è£…é¥°é€»è¾‘ã€‚\nå¤–è§‚æ¨¡å¼â€”â€”ä¹°è‚¡ç¥¨åˆ°ä¹°åŸºé‡‘ å¤–è§‚æ¨¡å¼(Facade)ï¼Œä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œæ­¤æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚\nç»“æ„å›¾ å¤–è§‚æ¨¡å¼å®ç° å¤–è§‚ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 public class Fund { private Stock1 stock1; private Stock2 stock2; private Stock3 stock3; public Fund() { stock1 = new Stock1(); stock2 = new Stock2(); stock3 = new Stock3(); } public void buy(){ stock1.buy(); stock2.buy(); stock3.buy(); } public void sell(){ stock1.sell(); stock2.sell(); stock3.sell(); } } å­ç±»\n1 2 3 4 5 6 7 8 9 public class Stock1 { public void buy(){ System.out.println(\"buy 1\"); } public void sell(){ System.out.println(\"sell 1\"); } } 1 2 3 4 5 6 7 8 9 public class Stock2 { public void buy(){ System.out.println(\"buy 2\"); } public void sell(){ System.out.println(\"sell 2\"); } } 1 2 3 4 5 6 7 8 9 public class Stock3 { public void buy(){ System.out.println(\"buy 3\"); } public void sell(){ System.out.println(\"sell 3\"); } } ä¸»å‡½æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 public class TemplateMethodTest { public static void main(String[] args) { Template person1 = new Person1(); Template person2 = new Person2(); person1.test1(); person1.test2(); person1.test3(); person2.test1(); person2.test2(); person2.test3(); } } ä½•æ—¶ä½¿ç”¨å¤–è§‚æ¨¡å¼ åˆ†ä¸‰ä¸ªé˜¶æ®µã€‚\n**é¦–å…ˆï¼Œåœ¨è®¾è®¡åˆæœŸé˜¶æ®µï¼Œåº”è¯¥è¦æœ‰æ„è¯†çš„å°†ä¸åŒçš„ä¸¤ä¸ªå±‚åˆ†ç¦»ï¼Œ**æ¯”å¦‚ç»å…¸çš„ä¸‰å±‚æ¶æ„ï¼Œå°±éœ€è¦è€ƒè™‘åœ¨æ•°æ®è®¿é—®å±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œè¡¨ç¤ºå±‚çš„å±‚ä¸å±‚ä¹‹é—´å»ºç«‹å¤–è§‚Facadeï¼Œè¿™æ ·å¯ä»¥ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä½¿å¾—è€¦åˆå¤§å¤§é™ä½ã€‚\n**å…¶æ¬¡ï¼Œåœ¨å¼€å‘é˜¶æ®µï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­çš„é‡æ„æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œ**å¤§å¤šæ•°çš„æ¨¡å¼ä½¿ç”¨æ—¶ä¹Ÿéƒ½ä¼šäº§ç”Ÿå¾ˆå¤šå¾ˆå°çš„ç±»ï¼Œè¿™æœ¬æ˜¯å¥½äº‹ï¼Œä½†ä¹Ÿç»™å¤–éƒ¨è°ƒç”¨å®ƒä»¬çš„ç”¨æˆ·ç¨‹åºå¸¦æ¥äº†ä½¿ç”¨ä¸Šçš„å›°éš¾ï¼Œå¢åŠ å¤–è§‚ Facade å¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå‡å°‘å®ƒä»¬ä¹‹é—´çš„ä¾èµ–ã€‚\nç¬¬ä¸‰ï¼Œåœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»éå¸¸éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•äº†ï¼Œä½†å› ä¸ºå®ƒåŒ…å«éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæ–°çš„éœ€æ±‚å¼€å‘å¿…é¡»è¦ä¾èµ–äºå®ƒã€‚æ­¤æ—¶ç”¨å¤–è§‚æ¨¡å¼Facadeä¹Ÿæ˜¯éå¸¸åˆé€‚çš„ã€‚å¯ä»¥ä¸ºæ–°ç³»ç»Ÿå¼€å‘ä¸€ä¸ªå¤–è§‚ Facadeç±»ï¼Œæ¥æä¾›è®¾è®¡ç²—ç³™æˆ–é«˜åº¦å¤æ‚çš„é—ç•™ä»£ç çš„æ¯”è¾ƒæ¸…æ™°ç®€å•çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿä¸Facadeå¯¹è±¡äº¤äº’ï¼ŒFacade ä¸é—ç•™ä»£ç äº¤äº’æ‰€æœ‰å¤æ‚çš„å·¥ä½œã€‚\nå¯¹äºå¤æ‚éš¾ä»¥ç»´æŠ¤çš„è€ç³»ç»Ÿï¼Œç›´æ¥å»æ”¹æˆ–å»æ‰©å±•éƒ½å¯èƒ½äº§ç”Ÿå¾ˆå¤šé—®é¢˜ï¼Œåˆ†ä¸¤ä¸ªå°ç»„ï¼Œä¸€ä¸ªå¼€å‘Facadeä¸è€ç³»ç»Ÿçš„äº¤äº’ï¼Œå¦ä¸€ä¸ªåªè¦äº†è§£Facadeçš„æ¥å£ï¼Œç›´æ¥å¼€å‘æ–°ç³»ç»Ÿè°ƒç”¨è¿™äº›æ¥å£å³å¯ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ã€‚\näº«å…ƒæ¨¡å¼â€”â€”å¤–åŒ… äº«å…ƒæ¨¡å¼ï¼ˆFlyweight)ï¼Œè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚\nç»“æ„å›¾ äº«å…ƒæ¨¡å¼å¯ä»¥é¿å…å¤§é‡éå¸¸ç›¸ä¼¼ç±»çš„å¼€é”€ã€‚åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œæœ‰æ—¶éœ€è¦ç”Ÿæˆå¤§é‡ç»†ç²’åº¦çš„ç±»å®ä¾‹æ¥è¡¨ç¤ºæ•°æ®ã€‚å¦‚æœèƒ½å‘ç°è¿™äº›å®ä¾‹é™¤äº†å‡ ä¸ªå‚æ•°å¤–åŸºæœ¬ä¸Šéƒ½æ˜¯ç›¸åŒçš„ï¼Œæœ‰æ—¶å°±èƒ½å¤Ÿå—å¤§å¹…åº¦åœ°å‡å°‘éœ€è¦å®ä¾‹åŒ–çš„ç±»çš„æ•°é‡ã€‚å¦‚æœèƒ½æŠŠé‚£äº›å‚æ•°ç§»åˆ°ç±»å®ä¾‹çš„å¤–é¢ï¼Œåœ¨æ–¹æ³•è°ƒç”¨æ—¶å°†å®ƒä»¬ä¼ é€’è¿›æ¥ï¼Œå°±å¯ä»¥é€šè¿‡å…±äº«å¤§å¹…åº¦åœ°å‡å°‘å•ä¸ªå®ä¾‹çš„æ•°ç›®ã€‚\näº«å…ƒæ¨¡å¼Flyweightæ‰§è¡Œæ—¶æ‰€éœ€çš„çŠ¶æ€æ˜¯æœ‰å†…éƒ¨çš„ä¹Ÿå¯èƒ½æœ‰å¤–éƒ¨çš„ï¼Œå†…éƒ¨çŠ¶æ€å­˜å‚¨äºConcreteFlyweightå¯¹è±¡ä¹‹ä¸­ï¼Œè€Œå¤–éƒ¨å¯¹è±¡åˆ™åº”è¯¥è€ƒè™‘ç”±å®¢æˆ·ç«¯å¯¹è±¡å­˜å‚¨æˆ–è®¡ç®—ï¼Œå½“è°ƒç”¨Flyweightå¯¹è±¡çš„æ“ä½œæ—¶ï¼Œå°†è¯¥çŠ¶æ€ä¼ é€’ç»™å®ƒã€‚\nä»£ç å®ç° Flyweight\n1 2 3 4 5 6 7 8 9 public abstract class Flyweight { String name; public Flyweight(String name) { this.name = name; } abstract void use(String user); } ConcreteFlyweight\n1 2 3 4 5 6 7 8 9 10 public class ConcreteFlyweight extends Flyweight{ public ConcreteFlyweight(String name) { super(name); } @Override void use(String user) { System.out.println(super.name + \" + \" + user); } } FlyweightFactory\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class FlyweightFactory { HashMap\u003cString,Flyweight\u003e flyweights = new HashMap\u003c\u003e(); public Flyweight getFlyweight(String name){ if (!flyweights.containsKey(name)){ flyweights.put(name,new ConcreteFlyweight(name)); } return flyweights.get(name); } public int count(){ return flyweights.size(); } } Client\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public static void main(String[] args) { FlyweightFactory flyweightFactory = new FlyweightFactory(); Flyweight ali = flyweightFactory.getFlyweight(\"ali\"); Flyweight ali1 = flyweightFactory.getFlyweight(\"ali\"); Flyweight taobao = flyweightFactory.getFlyweight(\"taobao\"); Flyweight taobao1 = flyweightFactory.getFlyweight(\"taobao\"); Flyweight zijie = flyweightFactory.getFlyweight(\"zijie\"); ali.use(\"bin1\"); //ali + bin1 ali1.use(\"bin2\"); //ali + bin2 taobao.use(\"bin3\"); //taobao + bin3 taobao1.use(\"bin4\"); //taobao + bin4 zijie.use(\"bin5\"); //zijie + bin5 System.out.println(flyweightFactory.count()); //3 } ä»£ç†æ¨¡å¼â€”â€”é€èŠ± ä»£ç†æ¨¡å¼(Proxy)ï¼Œä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚\nç»“æ„å›¾ ä»£ç†æ¨¡å¼å®ç° ä»£ç†æ¥å£\n1 2 3 4 5 6 7 public interface Person { void giveFlower(); void giveGift(); void singing(); } ä»£ç†ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class Proxy implements Person{ private Person real; public Proxy(Person real) { this.real = real; } @Override public void giveFlower() { real.giveFlower(); } @Override public void giveGift() { real.giveGift(); } @Override public void singing() { real.singing(); } } è¢«ä»£ç†ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class RealPerson implements Person{ @Override public void giveFlower() { System.out.println(\"é€èŠ±\"); } @Override public void giveGift() { System.out.println(\"é€ç¤¼ç‰©\"); } @Override public void singing() { System.out.println(\"å”±æ­Œ\"); } } ä¸»å‡½æ•°\n1 2 3 4 5 6 7 8 public class ProxyTest { public static void main(String[] args) { Proxy proxy = new Proxy(new RealPerson()); proxy.giveFlower(); proxy.giveGift(); proxy.singing(); } } åº”ç”¨åœºæ™¯ ç¬¬ä¸€ï¼Œ**è¿œç¨‹ä»£ç†ï¼Œä¹Ÿå°±æ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡åœ¨ä¸åŒçš„åœ°å€ç©ºé—´æä¾›å±€éƒ¨ä»£è¡¨ã€‚è¿™æ ·å¯ä»¥éšè—ä¸€ä¸ªå¯¹è±¡å­˜åœ¨äºä¸åŒåœ°å€ç©ºé—´çš„äº‹å®ã€‚**WebServiceåœ¨.NET ä¸­çš„åº”ç”¨ä¸­ï¼Œå½“åœ¨åº”ç”¨ç¨‹åºçš„é¡¹ç›®ä¸­åŠ å…¥ä¸€ä¸ªWebå¼•ç”¨ï¼Œå¼•ç”¨ä¸€ä¸ªWebServiceï¼Œæ­¤æ—¶ä¼šåœ¨é¡¹ç›®ä¸­ç”Ÿæˆä¸€ä¸ªWebReferenceçš„æ–‡ä»¶å¤¹å’Œä¸€äº›æ–‡ä»¶ï¼Œå…¶å®å®ƒä»¬å°±æ˜¯ä»£ç†ï¼Œè¿™å°±ä½¿å¾—å®¢æˆ·ç«¯ç¨‹åºè°ƒç”¨ä»£ç†å°±å¯ä»¥è§£å†³è¿œç¨‹è®¿é—®çš„é—®é¢˜ã€‚\nç¬¬äºŒç§åº”ç”¨æ˜¯**è™šæ‹Ÿä»£ç†ï¼Œæ˜¯æ ¹æ®éœ€è¦åˆ›å»ºå¼€é”€å¾ˆå¤§çš„å¯¹è±¡ã€‚é€šè¿‡å®ƒæ¥å­˜æ”¾å®ä¾‹åŒ–éœ€è¦å¾ˆé•¿æ—¶é—´çš„çœŸå®å¯¹è±¡ã€‚**è¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ€§èƒ½çš„æœ€ä¼˜åŒ–ï¼Œæ¯”å¦‚æ‰“å¼€ä¸€ä¸ªå¾ˆå¤§çš„HTMLç½‘é¡µæ—¶ï¼Œé‡Œé¢å¯èƒ½æœ‰å¾ˆå¤šçš„æ–‡å­—å’Œå›¾ç‰‡ï¼Œä½†è¿˜æ˜¯å¯ä»¥å¾ˆå¿«æ‰“å¼€å®ƒï¼Œæ­¤æ—¶çœ‹åˆ°çš„æ˜¯æ‰€æœ‰çš„æ–‡å­—ï¼Œä½†å›¾ç‰‡å´æ˜¯ä¸€å¼ ä¸€å¼ åœ°ä¸‹è½½åæ‰èƒ½çœ‹åˆ°ã€‚é‚£äº›æœªæ‰“å¼€çš„å›¾ç‰‡æ¡†ï¼Œå°±æ˜¯é€šè¿‡è™šæ‹Ÿä»£ç†æ¥æ›¿ä»£äº†çœŸå®çš„å›¾ç‰‡ï¼Œæ­¤æ—¶ä»£ç†å­˜å‚¨äº†çœŸå®å›¾ç‰‡çš„è·¯å¾„å’Œå°ºå¯¸ã€‚\nç¬¬ä¸‰ç§åº”ç”¨æ˜¯**å®‰å…¨ä»£ç†ï¼Œç”¨æ¥æ§åˆ¶çœŸå®å¯¹è±¡è®¿é—®æ—¶çš„æƒé™ã€‚**ä¸€èˆ¬ç”¨äºå¯¹è±¡åº”è¯¥æœ‰ä¸åŒçš„è®¿é—®æƒé™çš„æ—¶å€™ã€‚\nç¬¬å››ç§æ˜¯**æ™ºèƒ½æŒ‡å¼•ï¼Œæ˜¯æŒ‡å½“è°ƒç”¨çœŸå®çš„å¯¹è±¡æ—¶ï¼Œä»£ç†å¤„ç†å¦å¤–ä¸€äº›äº‹ã€‚**å¦‚è®¡ç®—çœŸå®å¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°ï¼Œè¿™æ ·å½“è¯¥å¯¹è±¡æ²¡æœ‰å¼•ç”¨æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨é‡Šæ”¾å®ƒï¼›æˆ–å½“ç¬¬ä¸€æ¬¡å¼•ç”¨ä¸€ä¸ªæŒä¹…å¯¹è±¡æ—¶ï¼Œå°†å®ƒè£…å…¥å†…å­˜ï¼›æˆ–åœ¨è®¿é—®ä¸€ä¸ªå®é™…å¯¹è±¡å‰ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»é”å®šå®ƒï¼Œä»¥ç¡®ä¿å…¶ä»–å¯¹è±¡ä¸èƒ½æ”¹å˜å®ƒã€‚å®ƒä»¬éƒ½æ˜¯é€šè¿‡ä»£ç†åœ¨è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶é™„åŠ ä¸€äº›å†…åŠ¡å¤„ç†ã€‚\n",
  "wordCount" : "6265",
  "inLanguage": "zh",
  "datePublished": "2021-09-14T00:00:00Z",
  "dateModified": "2021-09-14T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "chance7bin"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chance7bin.github.io/posts/basic/pattern/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Binb's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chance7bin.github.io/" accesskey="h" title="Binb&#39;s Blog (Alt + H)">
                <img src="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg" alt="" aria-label="logo"
                    height="35">Binb&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chance7bin.github.io/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/" title="ğŸ  ä¸»é¡µ">
                    <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/archives/" title="â±ï¸ æ—¶é—´è½´">
                    <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/posts" title="ğŸ“š æ–‡ç« ">
                    <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/tags" title="ğŸ”– æ ‡ç­¾">
                    <span>ğŸ”– æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/chance7bin" title="GitHub">
                    <span>GitHub</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://chance7bin.github.io/">ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/">ğŸ“š æ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/basic/">ğŸ“• è®¡ç®—æœºåŸºç¡€</a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/basic/pattern/">è®¾è®¡æ¨¡å¼</a></div>
    <h1 class="post-title">
      ç»“æ„å‹æ¨¡å¼
    </h1>
    <div class="post-meta">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">


<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2021-09-14
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>6265å­—
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>13åˆ†é’Ÿ
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>chance7bin
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
                <a href="https://chance7bin.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="color: var(--secondary)!important;">è®¾è®¡æ¨¡å¼</a>
            </span>
        </span>
    </span>

    
</span>


      
      
      
      
      
      
      
          
          
          
              
              
              
              
          
      
    </div>
  </header>
   <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e9%80%82%e9%85%8d%e5%99%a8%e6%a8%a1%e5%bc%8f%e7%bf%bb%e8%af%91dataadapter" aria-label="é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter">é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e4%bd%95%e6%97%b6%e4%bd%bf%e7%94%a8%e9%80%82%e9%85%8d%e5%99%a8%e6%a8%a1%e5%bc%8f" aria-label="ä½•æ—¶ä½¿ç”¨é€‚é…å™¨æ¨¡å¼">ä½•æ—¶ä½¿ç”¨é€‚é…å™¨æ¨¡å¼</a></li>
                    <li>
                        <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0" aria-label="ä»£ç å®ç°">ä»£ç å®ç°</a></li>
                    <li>
                        <a href="#%e9%80%82%e9%85%8d%e5%99%a8%e6%a8%a1%e5%bc%8f%e7%9a%84%e5%ba%94%e7%94%a8" aria-label="é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨">é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%a1%a5%e6%8e%a5%e6%a8%a1%e5%bc%8f%e6%89%8b%e6%9c%ba%e8%bd%af%e4%bb%b6%e7%bb%9f%e4%b8%80" aria-label="æ¡¥æ¥æ¨¡å¼â€”â€”æ‰‹æœºè½¯ä»¶ç»Ÿä¸€">æ¡¥æ¥æ¨¡å¼â€”â€”æ‰‹æœºè½¯ä»¶ç»Ÿä¸€</a><ul>
                            
                    <li>
                        <a href="#%e5%90%88%e6%88%90%e8%81%9a%e5%90%88%e5%a4%8d%e7%94%a8%e5%8e%9f%e5%88%99" aria-label="åˆæˆ/èšåˆå¤ç”¨åŸåˆ™">åˆæˆ/èšåˆå¤ç”¨åŸåˆ™</a></li>
                    <li>
                        <a href="#%e6%a1%a5%e6%8e%a5%e6%a8%a1%e5%bc%8f" aria-label="æ¡¥æ¥æ¨¡å¼">æ¡¥æ¥æ¨¡å¼</a></li>
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be-1" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0-1" aria-label="ä»£ç å®ç°">ä»£ç å®ç°</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%bb%84%e5%90%88%e6%a8%a1%e5%bc%8f%e6%80%bb%e5%85%ac%e5%8f%b8-%e5%88%86%e5%85%ac%e5%8f%b8-%e9%83%a8%e9%97%a8" aria-label="ç»„åˆæ¨¡å¼â€”â€”æ€»å…¬å¸-åˆ†å…¬å¸-éƒ¨é—¨">ç»„åˆæ¨¡å¼â€”â€”æ€»å…¬å¸-åˆ†å…¬å¸-éƒ¨é—¨</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be-2" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0-2" aria-label="ä»£ç å®ç°">ä»£ç å®ç°</a></li>
                    <li>
                        <a href="#%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e8%a3%85%e9%a5%b0%e6%a8%a1%e5%bc%8f%e7%a9%bf%e6%90%ad" aria-label="è£…é¥°æ¨¡å¼â€”â€”ç©¿æ­">è£…é¥°æ¨¡å¼â€”â€”ç©¿æ­</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be-3" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e8%a3%85%e9%a5%b0%e6%a8%a1%e5%bc%8f%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0" aria-label="è£…é¥°æ¨¡å¼ä»£ç å®ç°">è£…é¥°æ¨¡å¼ä»£ç å®ç°</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%a4%96%e8%a7%82%e6%a8%a1%e5%bc%8f%e4%b9%b0%e8%82%a1%e7%a5%a8%e5%88%b0%e4%b9%b0%e5%9f%ba%e9%87%91" aria-label="å¤–è§‚æ¨¡å¼â€”â€”ä¹°è‚¡ç¥¨åˆ°ä¹°åŸºé‡‘">å¤–è§‚æ¨¡å¼â€”â€”ä¹°è‚¡ç¥¨åˆ°ä¹°åŸºé‡‘</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be-4" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e5%a4%96%e8%a7%82%e6%a8%a1%e5%bc%8f%e5%ae%9e%e7%8e%b0" aria-label="å¤–è§‚æ¨¡å¼å®ç°">å¤–è§‚æ¨¡å¼å®ç°</a></li>
                    <li>
                        <a href="#%e4%bd%95%e6%97%b6%e4%bd%bf%e7%94%a8%e5%a4%96%e8%a7%82%e6%a8%a1%e5%bc%8f" aria-label="ä½•æ—¶ä½¿ç”¨å¤–è§‚æ¨¡å¼">ä½•æ—¶ä½¿ç”¨å¤–è§‚æ¨¡å¼</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%ba%ab%e5%85%83%e6%a8%a1%e5%bc%8f%e5%a4%96%e5%8c%85" aria-label="äº«å…ƒæ¨¡å¼â€”â€”å¤–åŒ…">äº«å…ƒæ¨¡å¼â€”â€”å¤–åŒ…</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be-5" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0-3" aria-label="ä»£ç å®ç°">ä»£ç å®ç°</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%bb%a3%e7%90%86%e6%a8%a1%e5%bc%8f%e9%80%81%e8%8a%b1" aria-label="ä»£ç†æ¨¡å¼â€”â€”é€èŠ±">ä»£ç†æ¨¡å¼â€”â€”é€èŠ±</a><ul>
                            
                    <li>
                        <a href="#%e7%bb%93%e6%9e%84%e5%9b%be-6" aria-label="ç»“æ„å›¾">ç»“æ„å›¾</a></li>
                    <li>
                        <a href="#%e4%bb%a3%e7%90%86%e6%a8%a1%e5%bc%8f%e5%ae%9e%e7%8e%b0" aria-label="ä»£ç†æ¨¡å¼å®ç°">ä»£ç†æ¨¡å¼å®ç°</a></li>
                    <li>
                        <a href="#%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af-1" aria-label="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><h3 id="é€‚é…å™¨æ¨¡å¼ç¿»è¯‘dataadapter">é€‚é…å™¨æ¨¡å¼â€”â€”ç¿»è¯‘ã€DataAdapter<a hidden class="anchor" aria-hidden="true" href="#é€‚é…å™¨æ¨¡å¼ç¿»è¯‘dataadapter">#</a></h3>
<p><strong>é€‚é…å™¨æ¨¡å¼(Adapter)ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapteræ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚</strong></p>
<p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œä¹Ÿå°±æ˜¯<strong>ç³»ç»Ÿçš„æ•°æ®å’Œè¡Œä¸ºéƒ½æ­£ç¡®ï¼Œä½†æ¥å£ä¸ç¬¦æ—¶ï¼Œåº”è¯¥è€ƒè™‘ç”¨é€‚é…å™¨ï¼Œç›®çš„æ˜¯ä½¿æ§åˆ¶èŒƒå›´ä¹‹å¤–çš„ä¸€ä¸ªåŸæœ‰å¯¹è±¡ä¸æŸä¸ªæ¥å£åŒ¹é…ã€‚é€‚é…å™¨æ¨¡å¼ä¸»è¦åº”ç”¨äºå¸Œæœ›å¤ç”¨ä¸€äº›ç°å­˜çš„ç±»ï¼Œä½†æ˜¯æ¥å£åˆä¸å¤ç”¨ç¯å¢ƒè¦æ±‚ä¸ä¸€è‡´çš„æƒ…å†µ</strong>ï¼Œæ¯”å¦‚åœ¨éœ€è¦å¯¹æ—©æœŸä»£ç å¤ç”¨ä¸€äº›åŠŸèƒ½ç­‰åº”ç”¨ä¸Šå¾ˆæœ‰å®é™…ä»·å€¼ã€‚</p>
<p>åœ¨GoF çš„è®¾è®¡æ¨¡å¼ä¸­ï¼Œå¯¹é€‚é…å™¨æ¨¡å¼è®²äº†ä¸¤ç§ç±»å‹ï¼Œ<strong>ç±»é€‚é…å™¨æ¨¡å¼å’Œå¯¹è±¡é€‚é…å™¨æ¨¡å¼</strong>ï¼Œç”±äºç±»é€‚é…å™¨æ¨¡å¼é€šè¿‡å¤šé‡ç»§æ‰¿å¯¹ä¸€ä¸ªæ¥å£ä¸å¦ä¸€ä¸ªæ¥å£è¿›è¡ŒåŒ¹é…ï¼Œè€ŒC#ã€VB.NETã€JAVAç­‰è¯­è¨€éƒ½ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼ˆC++æ”¯æŒ)ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦è®²çš„æ˜¯å¯¹è±¡é€‚é…å™¨ã€‚</p>
<h4 id="ç»“æ„å›¾">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335029.png" alt="image-20210821110312532"  />
</p>
<h4 id="ä½•æ—¶ä½¿ç”¨é€‚é…å™¨æ¨¡å¼">ä½•æ—¶ä½¿ç”¨é€‚é…å™¨æ¨¡å¼<a hidden class="anchor" aria-hidden="true" href="#ä½•æ—¶ä½¿ç”¨é€‚é…å™¨æ¨¡å¼">#</a></h4>
<p><strong>åœ¨æƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»ï¼Œä½†å¦‚æœå®ƒçš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„æ–¹æ³•å’Œä½ çš„è¦æ±‚ä¸ç›¸åŒæ—¶ï¼Œå°±åº”è¯¥è€ƒè™‘ç”¨é€‚é…å™¨æ¨¡å¼ã€‚</strong></p>
<p><strong>ä¸¤ä¸ªç±»æ‰€åšçš„äº‹æƒ…ç›¸åŒæˆ–ç›¸ä¼¼ï¼Œä½†æ˜¯å…·æœ‰ä¸åŒçš„æ¥å£æ—¶è¦ä½¿ç”¨å®ƒã€‚<strong>è€Œä¸”ç”±äºç±»éƒ½å…±äº«åŒä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—</strong>å®¢æˆ·ä»£ç å¯ä»¥ç»Ÿä¸€è°ƒç”¨åŒä¸€æ¥å£</strong>ï¼Œè¿™æ ·æ›´ç®€å•ã€æ›´ç›´æ¥ã€æ›´ç´§å‡‘ã€‚</p>
<p>å…¬å¸å†…éƒ¨ï¼Œç±»å’Œæ–¹æ³•çš„å‘½ååº”è¯¥æœ‰è§„èŒƒï¼Œæœ€å¥½å‰æœŸå°±è®¾è®¡å¥½ï¼Œç„¶åå¦‚æœçœŸçš„æ¥å£ä¸ç›¸åŒæ—¶ï¼Œé¦–å…ˆä¸åº”è¯¥è€ƒè™‘ç”¨é€‚é…å™¨ï¼Œè€Œæ˜¯åº”è¯¥è€ƒè™‘é€šè¿‡é‡æ„ç»Ÿä¸€æ¥å£ã€‚</p>
<p><strong>è¦åœ¨åŒæ–¹éƒ½ä¸å¤ªå®¹æ˜“ä¿®æ”¹çš„æ—¶å€™å†ä½¿ç”¨é€‚é…å™¨æ¨¡å¼é€‚é…</strong>ï¼Œè€Œä¸æ˜¯ä¸€æœ‰ä¸åŒæ—¶å°±ä½¿ç”¨å®ƒã€‚</p>
<p>è®¾è®¡ä¹‹åˆå°±éœ€è¦è€ƒè™‘ç”¨é€‚é…å™¨æ¨¡å¼çš„æ—¶å€™ï¼šæ¯”å¦‚å…¬å¸è®¾è®¡ä¸€ç³»ç»Ÿæ—¶è€ƒè™‘ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€å‘ç»„ä»¶ï¼Œè€Œè¿™ä¸ªç»„ä»¶çš„æ¥å£ä¸è‡ªå·±çš„ç³»ç»Ÿæ¥å£æ˜¯ä¸ç›¸åŒçš„ï¼Œè€Œæˆ‘ä»¬ä¹Ÿå®Œå…¨æ²¡æœ‰å¿…è¦ä¸ºäº†è¿åˆå®ƒè€Œæ”¹åŠ¨è‡ªå·±çš„æ¥å£ï¼Œæ­¤æ—¶å°½ç®¡æ˜¯åœ¨å¼€å‘çš„è®¾è®¡é˜¶æ®µï¼Œä¹Ÿæ˜¯å¯ä»¥è€ƒè™‘ç”¨é€‚é…å™¨æ¨¡å¼æ¥è§£å†³æ¥å£ä¸åŒçš„é—®é¢˜ã€‚</p>
<h4 id="ä»£ç å®ç°">ä»£ç å®ç°<a hidden class="anchor" aria-hidden="true" href="#ä»£ç å®ç°">#</a></h4>
<p><strong>Player</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Player</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Player</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Player</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">attack</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">&#34; å†²å•Š&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">};</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">defend</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">&#34; é˜²å•Š&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">};</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ConcretePlayer</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ST</span> <span class="kd">extends</span> <span class="n">Player</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ST</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CB</span> <span class="kd">extends</span> <span class="n">Player</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">CB</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>need adaper class</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">YAO</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">jingong</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;yao å†²å•Š&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fangshou</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;yao é˜²å•Š&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Adapter</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Adapter</span> <span class="kd">extends</span> <span class="n">Player</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">YAO</span> <span class="n">yao</span> <span class="o">=</span> <span class="k">new</span> <span class="n">YAO</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Adapter</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">       <span class="n">yao</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">attack</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">yao</span><span class="o">.</span><span class="na">jingong</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">defend</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">yao</span><span class="o">.</span><span class="na">fangshou</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>client</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Player</span> <span class="n">st</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ST</span><span class="o">(</span><span class="s">&#34;st&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">st</span><span class="o">.</span><span class="na">attack</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">Player</span> <span class="n">cb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CB</span><span class="o">(</span><span class="s">&#34;cb&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">cb</span><span class="o">.</span><span class="na">attack</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">Player</span> <span class="n">yao</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Adapter</span><span class="o">(</span><span class="s">&#34;yao&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">yao</span><span class="o">.</span><span class="na">defend</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨">é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨<a hidden class="anchor" aria-hidden="true" href="#é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨">#</a></h4>
<p>**DataAdapterç”¨ä½œDataSetå’Œæ•°æ®æºä¹‹é—´çš„é€‚é…å™¨ä»¥ä¾¿æ£€ç´¢å’Œä¿å­˜æ•°æ®ã€‚DataAdapteré€šè¿‡æ˜ å°„FilIï¼ˆè¿™æ›´æ”¹äº†DataSetä¸­çš„æ•°æ®ä»¥ä¾¿ä¸æ•°æ®æºä¸­çš„æ•°æ®ç›¸åŒ¹é…ï¼‰å’ŒUpdateï¼ˆè¿™æ›´æ”¹äº†æ•°æ®æºä¸­çš„æ•°æ®ä»¥ä¾¿ä¸DataSetä¸­çš„æ•°æ®ç›¸åŒ¹é…ï¼‰æ¥æä¾›è¿™ä¸€é€‚é…å™¨ã€‚**ç”±äºæ•°æ®æºå¯èƒ½æ˜¯æ¥è‡ªSQL Serverï¼Œå¯èƒ½æ¥è‡ªOracleï¼Œä¹Ÿå¯èƒ½æ¥è‡ªAccessã€DB2ï¼Œè¿™äº›æ•°æ®åœ¨ç»„ç»‡ä¸Šå¯èƒ½æœ‰ä¸åŒä¹‹å¤„ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å¾—åˆ°ç»Ÿä¸€çš„DataSetï¼ˆ<strong>å®è´¨æ˜¯XML æ•°æ®</strong>ï¼‰ï¼Œæ­¤æ—¶ç”¨DataAdapterå°±æ˜¯éå¸¸å¥½çš„æ‰‹æ®µï¼Œæˆ‘ä»¬ä¸å¿…å…³æ³¨ä¸åŒæ•°æ®åº“çš„æ•°æ®ç»†èŠ‚,å°±å¯ä»¥çµæ´»çš„ä½¿ç”¨æ•°æ®ã€‚</p>
<h3 id="æ¡¥æ¥æ¨¡å¼æ‰‹æœºè½¯ä»¶ç»Ÿä¸€">æ¡¥æ¥æ¨¡å¼â€”â€”æ‰‹æœºè½¯ä»¶ç»Ÿä¸€<a hidden class="anchor" aria-hidden="true" href="#æ¡¥æ¥æ¨¡å¼æ‰‹æœºè½¯ä»¶ç»Ÿä¸€">#</a></h3>
<p>å¾ˆå¤šæƒ…å†µç”¨ç»§æ‰¿ä¼šå¸¦æ¥éº»çƒ¦ã€‚æ¯”å¦‚ï¼Œ<strong>å¯¹è±¡çš„ç»§æ‰¿å…³ç³»æ˜¯åœ¨ç¼–è¯‘æ—¶å°±å®šä¹‰å¥½äº†ï¼Œæ‰€ä»¥æ— æ³•åœ¨è¿è¡Œæ—¶æ”¹å˜ä»çˆ¶ç±»ç»§æ‰¿çš„å®ç°ã€‚å­ç±»çš„å®ç°ä¸å®ƒçš„çˆ¶ç±»æœ‰éå¸¸ç´§å¯†çš„ä¾èµ–å…³ç³»ï¼Œä»¥è‡³äºçˆ¶ç±»å®ç°ä¸­çš„ä»»ä½•å˜åŒ–å¿…ç„¶ä¼šå¯¼è‡´å­ç±»å‘ç”Ÿå˜åŒ–ã€‚å½“éœ€è¦å¤ç”¨å­ç±»æ—¶ï¼Œå¦‚æœç»§æ‰¿ä¸‹æ¥çš„å®ç°ä¸é€‚åˆè§£å†³æ–°çš„é—®é¢˜åˆ™çˆ¶ç±»å¿…é¡»é‡å†™æˆ–è¢«å…¶ä»–æ›´é€‚åˆçš„ç±»æ›¿æ¢ã€‚è¿™ç§ä¾èµ–å…³ç³»é™åˆ¶äº†çµæ´»æ€§å¹¶æœ€ç»ˆé™åˆ¶äº†å¤ç”¨æ€§</strong>ã€‚</p>
<h4 id="åˆæˆèšåˆå¤ç”¨åŸåˆ™">åˆæˆ/èšåˆå¤ç”¨åŸåˆ™<a hidden class="anchor" aria-hidden="true" href="#åˆæˆèšåˆå¤ç”¨åŸåˆ™">#</a></h4>
<p>åˆæˆ/èšåˆå¤ç”¨åŸåˆ™ï¼ˆCARPï¼‰ï¼Œå°½é‡ä½¿ç”¨åˆæˆ/èšåˆï¼Œå°½é‡ä¸è¦ä½¿ç”¨ç±»ç»§æ‰¿ã€‚</p>
<p>åˆæˆï¼ˆCompositionï¼Œä¹Ÿæœ‰ç¿»è¯‘æˆç»„åˆï¼‰å’Œèšåˆï¼ˆAggregationï¼‰éƒ½æ˜¯å…³è”çš„ç‰¹æ®Šç§ç±»ã€‚**èšåˆè¡¨ç¤ºä¸€ç§å¼±çš„â€œæ‹¥æœ‰â€å…³ç³»ï¼Œä½“ç°çš„æ˜¯Aå¯¹è±¡å¯ä»¥åŒ…å«Bå¯¹è±¡ï¼Œä½†Bå¯¹è±¡ä¸æ˜¯Aå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼›åˆæˆåˆ™æ˜¯ä¸€ç§å¼ºçš„â€œæ‹¥æœ‰â€å…³ç³»ï¼Œä½“ç°äº†ä¸¥æ ¼çš„éƒ¨åˆ†å’Œæ•´ä½“çš„å…³ç³»ï¼Œéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·ã€‚**æ¯”æ–¹è¯´ï¼Œå¤§é›æœ‰ä¸¤ä¸ªç¿…è†€ï¼Œç¿…è†€ä¸å¤§é›æ˜¯éƒ¨åˆ†å’Œæ•´ä½“çš„å…³ç³»ï¼Œå¹¶ä¸”å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç›¸åŒçš„ï¼Œäºæ˜¯å¤§é›å’Œç¿…è†€å°±æ˜¯åˆæˆå…³ç³»ã€‚è€Œå¤§é›æ˜¯ç¾¤å±…åŠ¨ç‰©ï¼Œæ‰€ä»¥æ¯åªå¤§é›éƒ½æ˜¯å±äºä¸€ä¸ªé›ç¾¤ï¼Œä¸€ä¸ªé›ç¾¤å¯ä»¥æœ‰å¤šåªå¤§é›ï¼Œæ‰€ä»¥å¤§é›å’Œé›ç¾¤æ˜¯èšåˆå…³ç³»ã€‚</p>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335013.png" alt="image-20210910201643658"  />
</p>
<p>åˆæˆ/èšåˆå¤ç”¨åŸåˆ™çš„å¥½å¤„æ˜¯ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡çš„åˆæˆ/èšåˆå°†æœ‰åŠ©äºä½ ä¿æŒæ¯ä¸ªç±»è¢«å°è£…ï¼Œå¹¶è¢«é›†ä¸­åœ¨å•ä¸ªä»»åŠ¡ä¸Šã€‚è¿™æ ·ç±»å’Œç±»ç»§æ‰¿å±‚æ¬¡ä¼šä¿æŒè¾ƒå°è§„æ¨¡ï¼Œå¹¶ä¸”ä¸å¤ªå¯èƒ½å¢é•¿ä¸ºä¸å¯æ§åˆ¶çš„åºç„¶å¤§ç‰©ã€‚</p>
<h4 id="æ¡¥æ¥æ¨¡å¼">æ¡¥æ¥æ¨¡å¼<a hidden class="anchor" aria-hidden="true" href="#æ¡¥æ¥æ¨¡å¼">#</a></h4>
<p><strong>æ¡¥æ¥æ¨¡å¼(Bridge)ï¼Œå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</strong></p>
<p>ä»€ä¹ˆå«æŠ½è±¡ä¸å®ƒçš„å®ç°åˆ†ç¦»ï¼Ÿè¿™å¹¶ä¸æ˜¯è¯´ï¼Œè®©æŠ½è±¡ç±»ä¸å…¶æ´¾ç”Ÿç±»åˆ†ç¦»ï¼Œå› ä¸ºè¿™æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚å®ç°æŒ‡çš„æ˜¯æŠ½è±¡ç±»å’Œå®ƒçš„æ´¾ç”Ÿç±»ç”¨æ¥å®ç°è‡ªå·±çš„å¯¹è±¡ã€‚ä¸¾ä¸ªæ —å­ï¼Œâ€œæ‰‹æœºâ€å¯ä»¥æŒ‰ç…§å“ç‰Œæ¥åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§åŠŸèƒ½æ¥åˆ†ç±»ã€‚</p>
<h4 id="ç»“æ„å›¾-1">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾-1">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335024.png" alt="image-20210910202048891"  />
</p>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335018.png" alt="image-20210910202222096"  />
</p>
<h4 id="ä»£ç å®ç°-1">ä»£ç å®ç°<a hidden class="anchor" aria-hidden="true" href="#ä»£ç å®ç°-1">#</a></h4>
<p><strong>Abstractionç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Phone</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Software</span> <span class="n">software</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSoftware</span><span class="o">(</span><span class="n">Software</span> <span class="n">software</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">software</span> <span class="o">=</span> <span class="n">software</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>RefinedAbstractionç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IOS</span> <span class="kd">extends</span> <span class="n">Phone</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">.</span><span class="na">software</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Implementorç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Software</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">run</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ConcreteImplementorAå’Œ ConcreteImplementorBç­‰æ´¾ç”Ÿç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Excel</span> <span class="kd">implements</span> <span class="n">Software</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;run excel&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Word</span> <span class="kd">implements</span> <span class="n">Software</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;run word&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å®¢æˆ·ç«¯å®ç°</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">IOS</span> <span class="n">ios</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IOS</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">ios</span><span class="o">.</span><span class="na">setSoftware</span><span class="o">(</span><span class="k">new</span> <span class="n">Excel</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">ios</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">ios</span><span class="o">.</span><span class="na">setSoftware</span><span class="o">(</span><span class="k">new</span> <span class="n">Word</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">ios</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å®ç°ç³»ç»Ÿå¯èƒ½æœ‰å¤šè§’åº¦åˆ†ç±»ï¼Œæ¯ä¸€ç§åˆ†ç±»éƒ½æœ‰å¯èƒ½å˜åŒ–ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ç§å¤šè§’åº¦åˆ†ç¦»å‡ºæ¥è®©å®ƒä»¬ç‹¬ç«‹å˜åŒ–ï¼Œå‡å°‘å®ƒä»¬ä¹‹é—´çš„è€¦åˆã€‚</strong></p>
<h3 id="ç»„åˆæ¨¡å¼æ€»å…¬å¸-åˆ†å…¬å¸-éƒ¨é—¨">ç»„åˆæ¨¡å¼â€”â€”æ€»å…¬å¸-åˆ†å…¬å¸-éƒ¨é—¨<a hidden class="anchor" aria-hidden="true" href="#ç»„åˆæ¨¡å¼æ€»å…¬å¸-åˆ†å…¬å¸-éƒ¨é—¨">#</a></h3>
<p><strong>ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰ï¼Œå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆæ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</strong></p>
<h4 id="ç»“æ„å›¾-2">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾-2">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335295.png" alt="image-20210910143655894"  />
</p>
<h4 id="ä»£ç å®ç°-2">ä»£ç å®ç°<a hidden class="anchor" aria-hidden="true" href="#ä»£ç å®ç°-2">#</a></h4>
<p><strong>Comonent</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Component</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Component</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">remove</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">display</span><span class="o">(</span><span class="kt">int</span> <span class="n">depth</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Composite</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConcreteComponent</span> <span class="kd">extends</span> <span class="n">Component</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span> <span class="n">children</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ConcreteComponent</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">component</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">remove</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">children</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">component</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">display</span><span class="o">(</span><span class="kt">int</span> <span class="n">depth</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="s">&#34;&#34;</span><span class="o">,</span> <span class="n">Collections</span><span class="o">.</span><span class="na">nCopies</span><span class="o">(</span><span class="n">depth</span><span class="o">,</span><span class="s">&#34;-&#34;</span><span class="o">))</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="o">(</span><span class="n">Component</span> <span class="n">child</span> <span class="o">:</span> <span class="n">children</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">child</span><span class="o">.</span><span class="na">display</span><span class="o">(</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">2</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Leaf</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Leaf</span> <span class="kd">extends</span> <span class="n">Component</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Leaf</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">remove</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">display</span><span class="o">(</span><span class="kt">int</span> <span class="n">depth</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="s">&#34;&#34;</span><span class="o">,</span> <span class="n">Collections</span><span class="o">.</span><span class="na">nCopies</span><span class="o">(</span><span class="n">depth</span><span class="o">,</span><span class="s">&#34;-&#34;</span><span class="o">))</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Client</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ConcreteComponent</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConcreteComponent</span><span class="o">(</span><span class="s">&#34;a&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">ConcreteComponent</span> <span class="n">aa</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConcreteComponent</span><span class="o">(</span><span class="s">&#34;aa&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Leaf</span> <span class="n">ab</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Leaf</span><span class="o">(</span><span class="s">&#34;ab&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">a</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">aa</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">a</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">ab</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">ConcreteComponent</span> <span class="n">ac</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ConcreteComponent</span><span class="o">(</span><span class="s">&#34;ac&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">a</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">ac</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Leaf</span> <span class="n">aca</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Leaf</span><span class="o">(</span><span class="s">&#34;aca&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">ac</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">aca</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">Leaf</span> <span class="n">aaa</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Leaf</span><span class="o">(</span><span class="s">&#34;aaa&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">aa</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">aaa</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">a</span><span class="o">.</span><span class="na">display</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯<a hidden class="anchor" aria-hidden="true" href="#åº”ç”¨åœºæ™¯">#</a></h4>
<p><strong>å½“å‘ç°éœ€æ±‚ä¸­æ˜¯ä½“ç°éƒ¨åˆ†ä¸æ•´ä½“å±‚æ¬¡çš„ç»“æ„æ—¶ï¼Œä»¥åŠå¸Œæœ›ç”¨æˆ·å¯ä»¥å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç»Ÿä¸€åœ°ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡æ—¶ï¼Œå°±åº”è¯¥è€ƒè™‘ç”¨ç»„åˆæ¨¡å¼äº†ã€‚</strong></p>
<p>è‡ªå®šä¹‰æ§ä»¶ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸€äº›åŸºæœ¬çš„æ§ä»¶ç»„åˆèµ·æ¥ï¼Œé€šè¿‡ç¼–ç¨‹å†™æˆä¸€ä¸ªå®šåˆ¶çš„æ§ä»¶ï¼Œæ¯”å¦‚ç”¨ä¸¤ä¸ªæ–‡æœ¬æ¡†å’Œä¸€ä¸ªæŒ‰é’®å°±å¯ä»¥å†™ä¸€ä¸‹è‡ªå®šä¹‰çš„ç™»å½•æ¡†æ§ä»¶ï¼Œå®é™…ä¸Šï¼Œæ‰€æœ‰çš„Webæ§ä»¶çš„åŸºç±»éƒ½æ˜¯System.Web.Ul.Controlï¼Œè€ŒControlåŸºç±»ä¸­å°±æœ‰Addå’ŒRemoveæ–¹æ³•ï¼Œè¿™å°±æ˜¯å…¸å‹çš„ç»„åˆæ¨¡å¼çš„åº”ç”¨ã€‚</p>
<p><strong>ç»„åˆæ¨¡å¼å®šä¹‰äº†åŒ…å«Leaf</strong>ï¼ˆäººåŠ›èµ„æºéƒ¨å’Œè´¢åŠ¡éƒ¨ï¼‰è¿™äº›<strong>åŸºæœ¬å¯¹è±¡</strong>å’Œ<strong>ConcreteComponent</strong>ï¼ˆåˆ†å…¬å¸ã€åŠäº‹å¤„ï¼‰ç­‰<strong>ç»„åˆå¯¹è±¡</strong>çš„ç±»å±‚æ¬¡ç»“æ„ã€‚<strong>åŸºæœ¬å¯¹è±¡å¯ä»¥è¢«ç»„åˆæˆæ›´å¤æ‚çš„ç»„åˆå¯¹è±¡ï¼Œè€Œè¿™ä¸ªç»„åˆå¯¹è±¡åˆå¯ä»¥è¢«ç»„åˆï¼Œè¿™æ ·ä¸æ–­åœ°é€’å½’ä¸‹å»ï¼Œå®¢æˆ·ä»£ç ä¸­ï¼Œä»»ä½•ç”¨åˆ°åŸºæœ¬å¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ç»„åˆå¯¹è±¡äº†ã€‚</strong></p>
<p>ç”¨æˆ·ä¸ç”¨å…³å¿ƒåˆ°åº•æ˜¯å¤„ç†ä¸€ä¸ªå¶èŠ‚ç‚¹è¿˜æ˜¯å¤„ç†ä¸€ä¸ªç»„åˆç»„ä»¶ï¼Œä¹Ÿå°±ç”¨ä¸ç€ä¸ºå®šä¹‰ç»„åˆè€Œå†™ä¸€äº›é€‰æ‹©åˆ¤æ–­è¯­å¥äº†ã€‚</p>
<p>ç»„åˆæ¨¡å¼è®©å®¢æˆ·å¯ä»¥ä¸€è‡´åœ°ä½¿ç”¨ç»„åˆç»“æ„å’Œå•ä¸ªå¯¹è±¡ã€‚</p>
<h3 id="è£…é¥°æ¨¡å¼ç©¿æ­">è£…é¥°æ¨¡å¼â€”â€”ç©¿æ­<a hidden class="anchor" aria-hidden="true" href="#è£…é¥°æ¨¡å¼ç©¿æ­">#</a></h3>
<p><strong>è£…é¥°æ¨¡å¼ï¼ˆDecorator)ï¼ŒåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚</strong></p>
<h4 id="ç»“æ„å›¾-3">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾-3">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335355.png" alt="image-20210818194144797"  />
</p>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335370.png" alt="image-20210818194711656"  />
</p>
<p>è£…é¥°æ¨¡å¼æ˜¯åˆ©ç”¨SetComponentæ¥å¯¹å¯¹è±¡è¿›è¡ŒåŒ…è£…çš„ã€‚è¿™æ ·æ¯ä¸ªè£…é¥°å¯¹è±¡çš„å®ç°å°±å’Œå¦‚ä½•ä½¿ç”¨è¿™ä¸ªå¯¹è±¡åˆ†ç¦»å¼€äº†ï¼Œæ¯ä¸ªè£…é¥°å¯¹è±¡åªå…³å¿ƒè‡ªå·±çš„åŠŸèƒ½ï¼Œä¸éœ€è¦å…³å¿ƒå¦‚ä½•è¢«æ·»åŠ åˆ°å¯¹è±¡é“¾å½“ä¸­</p>
<p>å¦‚æœåªæœ‰ä¸€ä¸ªConcreteComponentç±»è€Œæ²¡æœ‰æŠ½è±¡çš„Componentç±»ï¼Œé‚£ä¹ˆ Decoratorç±»å¯ä»¥æ˜¯ConcreteComponent çš„ä¸€ä¸ªå­ç±»ã€‚åŒæ ·é“ç†ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªConcreteDecoratorç±»ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„Decoratorç±»ï¼Œè€Œå¯ä»¥æŠŠ Decoratorå’ŒConcreteDecoratorçš„è´£ä»»åˆå¹¶æˆä¸€ä¸ªç±»ã€‚</p>
<h4 id="è£…é¥°æ¨¡å¼ä»£ç å®ç°">è£…é¥°æ¨¡å¼ä»£ç å®ç°<a hidden class="anchor" aria-hidden="true" href="#è£…é¥°æ¨¡å¼ä»£ç å®ç°">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335365.png" alt="image-20210818195326617"  />
</p>
<p><strong>â€œPersonâ€ç±»ï¼ˆConcreteComponentï¼‰</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">show</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">&#34;ç©¿è¡£æœ&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">};</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æœé¥°ç±»ï¼ˆDecoratorï¼‰</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Decorator</span> <span class="kd">extends</span> <span class="n">Person</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Person</span> <span class="n">component</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDecorator</span><span class="o">(</span><span class="n">Person</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">component</span> <span class="o">=</span> <span class="n">component</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">component</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">component</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å…·ä½“æœé¥°ç±»ï¼ˆConcreteDecoratorï¼‰</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Clothes</span> <span class="kd">extends</span> <span class="n">Decorator</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è¡£æœ&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Pants</span> <span class="kd">extends</span> <span class="n">Decorator</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è£¤å­&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Shoe</span> <span class="kd">extends</span> <span class="n">Decorator</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;é‹å­&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ä¸»å‡½æ•°</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DecoratorTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&#34;bin&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Clothes</span> <span class="n">clothes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Clothes</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">Pants</span> <span class="n">pants</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Pants</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">Shoe</span> <span class="n">shoe</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Shoe</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">clothes</span><span class="o">.</span><span class="na">setDecorator</span><span class="o">(</span><span class="n">person</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">pants</span><span class="o">.</span><span class="na">setDecorator</span><span class="o">(</span><span class="n">clothes</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">shoe</span><span class="o">.</span><span class="na">setDecorator</span><span class="o">(</span><span class="n">pants</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">shoe</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ‰“å°è¾“å‡º</strong></p>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282335370.png" alt="image-20210818202031974"  />
</p>
<p>è£…é¥°æ¨¡å¼æ˜¯ä¸ºå·²æœ‰åŠŸèƒ½åŠ¨æ€åœ°æ·»åŠ æ›´å¤šåŠŸèƒ½çš„ä¸€ç§æ–¹å¼ã€‚</p>
<p>ä½†åˆ°åº•ä»€ä¹ˆæ—¶å€™ç”¨å®ƒå‘¢ï¼Ÿ</p>
<p>èµ·åˆçš„è®¾è®¡ä¸­ï¼Œå½“ç³»ç»Ÿéœ€è¦æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œæ˜¯å‘æ—§çš„ç±»ä¸­æ·»åŠ æ–°çš„ä»£ç ã€‚è¿™äº›æ–°åŠ çš„ä»£ç é€šå¸¸è£…é¥°äº†åŸæœ‰ç±»çš„æ ¸å¿ƒèŒè´£æˆ–ä¸»è¦è¡Œä¸ºï¼Œä½†è¿™ç§åšæ³•çš„é—®é¢˜åœ¨äºï¼Œå®ƒä»¬åœ¨ä¸»ç±»ä¸­åŠ å…¥äº†æ–°çš„å­—æ®µï¼Œæ–°çš„æ–¹æ³•å’Œæ–°çš„é€»è¾‘ï¼Œä»è€Œå¢åŠ äº†ä¸»ç±»çš„å¤æ‚åº¦ï¼Œè€Œè¿™äº›æ–°åŠ å…¥çš„ä¸œè¥¿ä»…ä»…æ˜¯ä¸ºäº†æ»¡è¶³ä¸€äº›åªåœ¨æŸç§ç‰¹å®šæƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œçš„ç‰¹æ®Šè¡Œä¸ºçš„éœ€è¦ã€‚è€Œè£…é¥°æ¨¡å¼å´æä¾›äº†ä¸€ä¸ªéå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒæŠŠæ¯ä¸ªè¦è£…é¥°çš„åŠŸèƒ½æ”¾åœ¨å•ç‹¬çš„ç±»ä¸­ï¼Œå¹¶è®©è¿™ä¸ªç±»åŒ…è£…å®ƒæ‰€è¦è£…é¥°çš„å¯¹è±¡ï¼Œå› æ­¤ï¼Œå½“éœ€è¦æ‰§è¡Œç‰¹æ®Šè¡Œä¸ºæ—¶ï¼Œå®¢æˆ·ä»£ç å°±å¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦æœ‰é€‰æ‹©åœ°ã€æŒ‰é¡ºåºåœ°ä½¿ç”¨è£…é¥°åŠŸèƒ½åŒ…è£…å¯¹è±¡äº†ã€‚</p>
<p>è£…é¥°æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æŠŠç±»ä¸­çš„è£…é¥°åŠŸèƒ½ä»ç±»ä¸­æ¬ç§»å»é™¤ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–åŸæœ‰çš„ç±»ã€‚è¿™æ ·åšæ›´å¤§çš„å¥½å¤„æ˜¯æœ‰æ•ˆåœ°æŠŠç±»çš„æ ¸å¿ƒèŒè´£å’Œè£…é¥°åŠŸèƒ½åŒºåˆ†å¼€äº†ã€‚è€Œä¸”å¯ä»¥å»é™¤ç›¸å…³ç±»ä¸­é‡å¤çš„è£…é¥°é€»è¾‘ã€‚</p>
<h3 id="å¤–è§‚æ¨¡å¼ä¹°è‚¡ç¥¨åˆ°ä¹°åŸºé‡‘">å¤–è§‚æ¨¡å¼â€”â€”ä¹°è‚¡ç¥¨åˆ°ä¹°åŸºé‡‘<a hidden class="anchor" aria-hidden="true" href="#å¤–è§‚æ¨¡å¼ä¹°è‚¡ç¥¨åˆ°ä¹°åŸºé‡‘">#</a></h3>
<p><strong>å¤–è§‚æ¨¡å¼(Facade)ï¼Œä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œæ­¤æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚</strong></p>
<h4 id="ç»“æ„å›¾-4">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾-4">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282336231.png" alt="image-20210819164110414"  />
</p>
<h4 id="å¤–è§‚æ¨¡å¼å®ç°">å¤–è§‚æ¨¡å¼å®ç°<a hidden class="anchor" aria-hidden="true" href="#å¤–è§‚æ¨¡å¼å®ç°">#</a></h4>
<p><strong>å¤–è§‚ç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Fund</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Stock1</span> <span class="n">stock1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Stock2</span> <span class="n">stock2</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Stock3</span> <span class="n">stock3</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Fund</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock1</span>  <span class="o">=</span> <span class="k">new</span> <span class="n">Stock1</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock2</span>  <span class="o">=</span> <span class="k">new</span> <span class="n">Stock2</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock3</span>  <span class="o">=</span> <span class="k">new</span> <span class="n">Stock3</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">buy</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock1</span><span class="o">.</span><span class="na">buy</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock2</span><span class="o">.</span><span class="na">buy</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock3</span><span class="o">.</span><span class="na">buy</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sell</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock1</span><span class="o">.</span><span class="na">sell</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock2</span><span class="o">.</span><span class="na">sell</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">stock3</span><span class="o">.</span><span class="na">sell</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å­ç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stock1</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">buy</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;buy 1&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sell</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;sell 1&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stock2</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">buy</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;buy 2&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sell</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;sell 2&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stock3</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">buy</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;buy 3&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sell</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;sell 3&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ä¸»å‡½æ•°</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TemplateMethodTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Template</span> <span class="n">person1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person1</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">Template</span> <span class="n">person2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person2</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">person1</span><span class="o">.</span><span class="na">test1</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">person1</span><span class="o">.</span><span class="na">test2</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">person1</span><span class="o">.</span><span class="na">test3</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">person2</span><span class="o">.</span><span class="na">test1</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">person2</span><span class="o">.</span><span class="na">test2</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">person2</span><span class="o">.</span><span class="na">test3</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ä½•æ—¶ä½¿ç”¨å¤–è§‚æ¨¡å¼">ä½•æ—¶ä½¿ç”¨å¤–è§‚æ¨¡å¼<a hidden class="anchor" aria-hidden="true" href="#ä½•æ—¶ä½¿ç”¨å¤–è§‚æ¨¡å¼">#</a></h4>
<p>åˆ†ä¸‰ä¸ªé˜¶æ®µã€‚</p>
<p>**é¦–å…ˆï¼Œåœ¨è®¾è®¡åˆæœŸé˜¶æ®µï¼Œåº”è¯¥è¦æœ‰æ„è¯†çš„å°†ä¸åŒçš„ä¸¤ä¸ªå±‚åˆ†ç¦»ï¼Œ**æ¯”å¦‚ç»å…¸çš„ä¸‰å±‚æ¶æ„ï¼Œå°±éœ€è¦è€ƒè™‘åœ¨æ•°æ®è®¿é—®å±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œè¡¨ç¤ºå±‚çš„å±‚ä¸å±‚ä¹‹é—´å»ºç«‹å¤–è§‚Facadeï¼Œè¿™æ ·å¯ä»¥ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä½¿å¾—è€¦åˆå¤§å¤§é™ä½ã€‚</p>
<p>**å…¶æ¬¡ï¼Œåœ¨å¼€å‘é˜¶æ®µï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­çš„é‡æ„æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œ**å¤§å¤šæ•°çš„æ¨¡å¼ä½¿ç”¨æ—¶ä¹Ÿéƒ½ä¼šäº§ç”Ÿå¾ˆå¤šå¾ˆå°çš„ç±»ï¼Œè¿™æœ¬æ˜¯å¥½äº‹ï¼Œä½†ä¹Ÿç»™å¤–éƒ¨è°ƒç”¨å®ƒä»¬çš„ç”¨æˆ·ç¨‹åºå¸¦æ¥äº†ä½¿ç”¨ä¸Šçš„å›°éš¾ï¼Œ<strong>å¢åŠ å¤–è§‚ Facade å¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå‡å°‘å®ƒä»¬ä¹‹é—´çš„ä¾èµ–ã€‚</strong></p>
<p><strong>ç¬¬ä¸‰ï¼Œåœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»éå¸¸éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•äº†</strong>ï¼Œä½†å› ä¸ºå®ƒåŒ…å«éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæ–°çš„éœ€æ±‚å¼€å‘å¿…é¡»è¦ä¾èµ–äºå®ƒã€‚æ­¤æ—¶ç”¨å¤–è§‚æ¨¡å¼Facadeä¹Ÿæ˜¯éå¸¸åˆé€‚çš„ã€‚å¯ä»¥<strong>ä¸ºæ–°ç³»ç»Ÿå¼€å‘ä¸€ä¸ªå¤–è§‚ Facadeç±»ï¼Œæ¥æä¾›è®¾è®¡ç²—ç³™æˆ–é«˜åº¦å¤æ‚çš„é—ç•™ä»£ç çš„æ¯”è¾ƒæ¸…æ™°ç®€å•çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿä¸Facadeå¯¹è±¡äº¤äº’ï¼ŒFacade ä¸é—ç•™ä»£ç äº¤äº’æ‰€æœ‰å¤æ‚çš„å·¥ä½œã€‚</strong></p>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282336238.png" alt="image-20210819165421229"  />
</p>
<p>å¯¹äºå¤æ‚éš¾ä»¥ç»´æŠ¤çš„è€ç³»ç»Ÿï¼Œç›´æ¥å»æ”¹æˆ–å»æ‰©å±•éƒ½å¯èƒ½äº§ç”Ÿå¾ˆå¤šé—®é¢˜ï¼Œåˆ†ä¸¤ä¸ªå°ç»„ï¼Œä¸€ä¸ªå¼€å‘Facadeä¸è€ç³»ç»Ÿçš„äº¤äº’ï¼Œå¦ä¸€ä¸ªåªè¦äº†è§£Facadeçš„æ¥å£ï¼Œç›´æ¥å¼€å‘æ–°ç³»ç»Ÿè°ƒç”¨è¿™äº›æ¥å£å³å¯ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>
<h3 id="äº«å…ƒæ¨¡å¼å¤–åŒ…">äº«å…ƒæ¨¡å¼â€”â€”å¤–åŒ…<a hidden class="anchor" aria-hidden="true" href="#äº«å…ƒæ¨¡å¼å¤–åŒ…">#</a></h3>
<p><strong>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight)ï¼Œè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</strong></p>
<h4 id="ç»“æ„å›¾-5">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾-5">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282336051.png" alt="image-20210913202009120"  />
</p>
<p><strong>äº«å…ƒæ¨¡å¼å¯ä»¥é¿å…å¤§é‡éå¸¸ç›¸ä¼¼ç±»çš„å¼€é”€ã€‚åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œæœ‰æ—¶éœ€è¦ç”Ÿæˆå¤§é‡ç»†ç²’åº¦çš„ç±»å®ä¾‹æ¥è¡¨ç¤ºæ•°æ®ã€‚å¦‚æœèƒ½å‘ç°è¿™äº›å®ä¾‹é™¤äº†å‡ ä¸ªå‚æ•°å¤–åŸºæœ¬ä¸Šéƒ½æ˜¯ç›¸åŒçš„ï¼Œæœ‰æ—¶å°±èƒ½å¤Ÿå—å¤§å¹…åº¦åœ°å‡å°‘éœ€è¦å®ä¾‹åŒ–çš„ç±»çš„æ•°é‡ã€‚å¦‚æœèƒ½æŠŠé‚£äº›å‚æ•°ç§»åˆ°ç±»å®ä¾‹çš„å¤–é¢ï¼Œåœ¨æ–¹æ³•è°ƒç”¨æ—¶å°†å®ƒä»¬ä¼ é€’è¿›æ¥ï¼Œå°±å¯ä»¥é€šè¿‡å…±äº«å¤§å¹…åº¦åœ°å‡å°‘å•ä¸ªå®ä¾‹çš„æ•°ç›®ã€‚</strong></p>
<p>äº«å…ƒæ¨¡å¼Flyweightæ‰§è¡Œæ—¶æ‰€éœ€çš„çŠ¶æ€æ˜¯æœ‰å†…éƒ¨çš„ä¹Ÿå¯èƒ½æœ‰å¤–éƒ¨çš„ï¼Œå†…éƒ¨çŠ¶æ€å­˜å‚¨äºConcreteFlyweightå¯¹è±¡ä¹‹ä¸­ï¼Œè€Œå¤–éƒ¨å¯¹è±¡åˆ™åº”è¯¥è€ƒè™‘ç”±å®¢æˆ·ç«¯å¯¹è±¡å­˜å‚¨æˆ–è®¡ç®—ï¼Œå½“è°ƒç”¨Flyweightå¯¹è±¡çš„æ“ä½œæ—¶ï¼Œå°†è¯¥çŠ¶æ€ä¼ é€’ç»™å®ƒã€‚</p>
<h4 id="ä»£ç å®ç°-3">ä»£ç å®ç°<a hidden class="anchor" aria-hidden="true" href="#ä»£ç å®ç°-3">#</a></h4>
<p><strong>Flyweight</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Flyweight</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Flyweight</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">use</span><span class="o">(</span><span class="n">String</span> <span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ConcreteFlyweight</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConcreteFlyweight</span> <span class="kd">extends</span> <span class="n">Flyweight</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ConcreteFlyweight</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">use</span><span class="o">(</span><span class="n">String</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="kd">super</span><span class="o">.</span><span class="na">name</span> <span class="o">+</span> <span class="s">&#34; + &#34;</span> <span class="o">+</span> <span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>FlyweightFactory</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FlyweightFactory</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Flyweight</span><span class="o">&gt;</span> <span class="n">flyweights</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Flyweight</span> <span class="nf">getFlyweight</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(!</span><span class="n">flyweights</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">name</span><span class="o">)){</span>
</span></span><span class="line"><span class="cl">            <span class="n">flyweights</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="k">new</span> <span class="n">ConcreteFlyweight</span><span class="o">(</span><span class="n">name</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">flyweights</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">count</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">flyweights</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Client</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">FlyweightFactory</span> <span class="n">flyweightFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FlyweightFactory</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">Flyweight</span> <span class="n">ali</span> <span class="o">=</span> <span class="n">flyweightFactory</span><span class="o">.</span><span class="na">getFlyweight</span><span class="o">(</span><span class="s">&#34;ali&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Flyweight</span> <span class="n">ali1</span> <span class="o">=</span> <span class="n">flyweightFactory</span><span class="o">.</span><span class="na">getFlyweight</span><span class="o">(</span><span class="s">&#34;ali&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Flyweight</span> <span class="n">taobao</span> <span class="o">=</span> <span class="n">flyweightFactory</span><span class="o">.</span><span class="na">getFlyweight</span><span class="o">(</span><span class="s">&#34;taobao&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Flyweight</span> <span class="n">taobao1</span> <span class="o">=</span> <span class="n">flyweightFactory</span><span class="o">.</span><span class="na">getFlyweight</span><span class="o">(</span><span class="s">&#34;taobao&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Flyweight</span> <span class="n">zijie</span> <span class="o">=</span> <span class="n">flyweightFactory</span><span class="o">.</span><span class="na">getFlyweight</span><span class="o">(</span><span class="s">&#34;zijie&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">ali</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="s">&#34;bin1&#34;</span><span class="o">);</span> <span class="c1">//ali + bin1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">ali1</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="s">&#34;bin2&#34;</span><span class="o">);</span> <span class="c1">//ali + bin2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">taobao</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="s">&#34;bin3&#34;</span><span class="o">);</span> <span class="c1">//taobao + bin3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">taobao1</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="s">&#34;bin4&#34;</span><span class="o">);</span> <span class="c1">//taobao + bin4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">zijie</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="s">&#34;bin5&#34;</span><span class="o">);</span> <span class="c1">//zijie + bin5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">flyweightFactory</span><span class="o">.</span><span class="na">count</span><span class="o">());</span> <span class="c1">//3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä»£ç†æ¨¡å¼é€èŠ±">ä»£ç†æ¨¡å¼â€”â€”é€èŠ±<a hidden class="anchor" aria-hidden="true" href="#ä»£ç†æ¨¡å¼é€èŠ±">#</a></h3>
<p><strong>ä»£ç†æ¨¡å¼(Proxy)ï¼Œä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</strong></p>
<h4 id="ç»“æ„å›¾-6">ç»“æ„å›¾<a hidden class="anchor" aria-hidden="true" href="#ç»“æ„å›¾-6">#</a></h4>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202307282336775.png" alt="image-20210819095551401"  />
</p>
<h4 id="ä»£ç†æ¨¡å¼å®ç°">ä»£ç†æ¨¡å¼å®ç°<a hidden class="anchor" aria-hidden="true" href="#ä»£ç†æ¨¡å¼å®ç°">#</a></h4>
<p><strong>ä»£ç†æ¥å£</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Person</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">giveFlower</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">giveGift</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="nf">singing</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ä»£ç†ç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Proxy</span> <span class="kd">implements</span> <span class="n">Person</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Person</span> <span class="n">real</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">Proxy</span><span class="o">(</span><span class="n">Person</span> <span class="n">real</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">real</span> <span class="o">=</span> <span class="n">real</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">giveFlower</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">real</span><span class="o">.</span><span class="na">giveFlower</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">giveGift</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">real</span><span class="o">.</span><span class="na">giveGift</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">singing</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">real</span><span class="o">.</span><span class="na">singing</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>è¢«ä»£ç†ç±»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RealPerson</span> <span class="kd">implements</span> <span class="n">Person</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">giveFlower</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;é€èŠ±&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">giveGift</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;é€ç¤¼ç‰©&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">singing</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å”±æ­Œ&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ä¸»å‡½æ•°</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProxyTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Proxy</span> <span class="n">proxy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Proxy</span><span class="o">(</span><span class="k">new</span> <span class="n">RealPerson</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="n">proxy</span><span class="o">.</span><span class="na">giveFlower</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">proxy</span><span class="o">.</span><span class="na">giveGift</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">proxy</span><span class="o">.</span><span class="na">singing</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="åº”ç”¨åœºæ™¯-1">åº”ç”¨åœºæ™¯<a hidden class="anchor" aria-hidden="true" href="#åº”ç”¨åœºæ™¯-1">#</a></h4>
<p>ç¬¬ä¸€ï¼Œ**è¿œç¨‹ä»£ç†ï¼Œä¹Ÿå°±æ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡åœ¨ä¸åŒçš„åœ°å€ç©ºé—´æä¾›å±€éƒ¨ä»£è¡¨ã€‚è¿™æ ·å¯ä»¥éšè—ä¸€ä¸ªå¯¹è±¡å­˜åœ¨äºä¸åŒåœ°å€ç©ºé—´çš„äº‹å®ã€‚**WebServiceåœ¨.NET ä¸­çš„åº”ç”¨ä¸­ï¼Œå½“åœ¨åº”ç”¨ç¨‹åºçš„é¡¹ç›®ä¸­åŠ å…¥ä¸€ä¸ªWebå¼•ç”¨ï¼Œå¼•ç”¨ä¸€ä¸ªWebServiceï¼Œæ­¤æ—¶ä¼šåœ¨é¡¹ç›®ä¸­ç”Ÿæˆä¸€ä¸ªWebReferenceçš„æ–‡ä»¶å¤¹å’Œä¸€äº›æ–‡ä»¶ï¼Œå…¶å®å®ƒä»¬å°±æ˜¯ä»£ç†ï¼Œè¿™å°±ä½¿å¾—å®¢æˆ·ç«¯ç¨‹åºè°ƒç”¨ä»£ç†å°±å¯ä»¥è§£å†³è¿œç¨‹è®¿é—®çš„é—®é¢˜ã€‚</p>
<p>ç¬¬äºŒç§åº”ç”¨æ˜¯**è™šæ‹Ÿä»£ç†ï¼Œæ˜¯æ ¹æ®éœ€è¦åˆ›å»ºå¼€é”€å¾ˆå¤§çš„å¯¹è±¡ã€‚é€šè¿‡å®ƒæ¥å­˜æ”¾å®ä¾‹åŒ–éœ€è¦å¾ˆé•¿æ—¶é—´çš„çœŸå®å¯¹è±¡ã€‚**è¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ€§èƒ½çš„æœ€ä¼˜åŒ–ï¼Œæ¯”å¦‚æ‰“å¼€ä¸€ä¸ªå¾ˆå¤§çš„HTMLç½‘é¡µæ—¶ï¼Œé‡Œé¢å¯èƒ½æœ‰å¾ˆå¤šçš„æ–‡å­—å’Œå›¾ç‰‡ï¼Œä½†è¿˜æ˜¯å¯ä»¥å¾ˆå¿«æ‰“å¼€å®ƒï¼Œæ­¤æ—¶çœ‹åˆ°çš„æ˜¯æ‰€æœ‰çš„æ–‡å­—ï¼Œä½†å›¾ç‰‡å´æ˜¯ä¸€å¼ ä¸€å¼ åœ°ä¸‹è½½åæ‰èƒ½çœ‹åˆ°ã€‚é‚£äº›æœªæ‰“å¼€çš„å›¾ç‰‡æ¡†ï¼Œå°±æ˜¯é€šè¿‡è™šæ‹Ÿä»£ç†æ¥æ›¿ä»£äº†çœŸå®çš„å›¾ç‰‡ï¼Œæ­¤æ—¶ä»£ç†å­˜å‚¨äº†çœŸå®å›¾ç‰‡çš„è·¯å¾„å’Œå°ºå¯¸ã€‚</p>
<p>ç¬¬ä¸‰ç§åº”ç”¨æ˜¯**å®‰å…¨ä»£ç†ï¼Œç”¨æ¥æ§åˆ¶çœŸå®å¯¹è±¡è®¿é—®æ—¶çš„æƒé™ã€‚**ä¸€èˆ¬ç”¨äºå¯¹è±¡åº”è¯¥æœ‰ä¸åŒçš„è®¿é—®æƒé™çš„æ—¶å€™ã€‚</p>
<p>ç¬¬å››ç§æ˜¯**æ™ºèƒ½æŒ‡å¼•ï¼Œæ˜¯æŒ‡å½“è°ƒç”¨çœŸå®çš„å¯¹è±¡æ—¶ï¼Œä»£ç†å¤„ç†å¦å¤–ä¸€äº›äº‹ã€‚**å¦‚è®¡ç®—çœŸå®å¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°ï¼Œè¿™æ ·å½“è¯¥å¯¹è±¡æ²¡æœ‰å¼•ç”¨æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨é‡Šæ”¾å®ƒï¼›æˆ–å½“ç¬¬ä¸€æ¬¡å¼•ç”¨ä¸€ä¸ªæŒä¹…å¯¹è±¡æ—¶ï¼Œå°†å®ƒè£…å…¥å†…å­˜ï¼›æˆ–åœ¨è®¿é—®ä¸€ä¸ªå®é™…å¯¹è±¡å‰ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»é”å®šå®ƒï¼Œä»¥ç¡®ä¿å…¶ä»–å¯¹è±¡ä¸èƒ½æ”¹å˜å®ƒã€‚å®ƒä»¬éƒ½æ˜¯é€šè¿‡ä»£ç†åœ¨è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶é™„åŠ ä¸€äº›å†…åŠ¡å¤„ç†ã€‚</p>


  </div>

  <footer class="post-footer">
    
<nav class="paginav">
  <a class="prev" href="https://chance7bin.github.io/posts/basic/pattern/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>åˆ›å»ºå‹æ¨¡å¼</span>
  </a>
  <a class="next" href="https://chance7bin.github.io/posts/basic/pattern/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>è¡Œä¸ºæ¨¡å¼</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://chance7bin.github.io/">Binb&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
