<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº | Binb&#39;s Blog</title>
<meta name="keywords" content="æ±‡ç¼–">
<meta name="description" content="4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹ 4.2 æºç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 assume cs: codesg codesg segment mov ax,0123H mov bx,0456H add ax,bx add ax,ax mov ax ,4c00H int 21H codesg ends end ä¼ªæŒ‡ä»¤ åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤">
<meta name="author" content="chance7bin">
<link rel="canonical" href="https://chance7bin.github.io/posts/basic/asm/%E7%AC%AC4%E7%AB%A0-%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.be81eec981a615a87a88f121642d7eebde74d033438693944db2fd6b827284ff.css" integrity="" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity=""
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="apple-touch-icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<link rel="mask-icon" href="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº" />
<meta property="og:description" content="4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹ 4.2 æºç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 assume cs: codesg codesg segment mov ax,0123H mov bx,0456H add ax,bx add ax,ax mov ax ,4c00H int 21H codesg ends end ä¼ªæŒ‡ä»¤ åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chance7bin.github.io/posts/basic/asm/%E7%AC%AC4%E7%AB%A0-%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-04-13T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº"/>
<meta name="twitter:description" content="4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹ 4.2 æºç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 assume cs: codesg codesg segment mov ax,0123H mov bx,0456H add ax,bx add ax,ax mov ax ,4c00H int 21H codesg ends end ä¼ªæŒ‡ä»¤ åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“š æ–‡ç« ",
      "item": "https://chance7bin.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“• è®¡ç®—æœºåŸºç¡€",
      "item": "https://chance7bin.github.io/posts/basic/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "æ±‡ç¼–è¯­è¨€",
      "item": "https://chance7bin.github.io/posts/basic/asm/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº",
      "item": "https://chance7bin.github.io/posts/basic/asm/%E7%AC%AC4%E7%AB%A0-%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº",
  "name": "ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº",
  "description": "4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹ 4.2 æºç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 assume cs: codesg codesg segment mov ax,0123H mov bx,0456H add ax,bx add ax,ax mov ax ,4c00H int 21H codesg ends end ä¼ªæŒ‡ä»¤ åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤",
  "keywords": [
    "æ±‡ç¼–"
  ],
  "articleBody": "4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹ 4.2 æºç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 assume cs: codesg codesg segment mov ax,0123H mov bx,0456H add ax,bx add ax,ax mov ax ,4c00H int 21H codesg ends end ä¼ªæŒ‡ä»¤ åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤ç§æŒ‡ä»¤ï¼Œä¸€ç§æ˜¯æ±‡ç¼–æŒ‡ä»¤ï¼Œä¸€ç§æ˜¯ä¼ªæŒ‡ä»¤ã€‚æ±‡ç¼–æŒ‡ä»¤æ˜¯æœ‰å¯¹åº”çš„æœºå™¨ç çš„æŒ‡ä»¤ï¼Œå¯ä»¥è¢«ç¼–è¯‘ä¸ºæœºå™¨æŒ‡ä»¤ï¼Œæœ€ç»ˆä¸ºCPUæ‰€æ‰§è¡Œã€‚è€Œä¼ªæŒ‡ä»¤æ²¡æœ‰å¯¹åº”çš„æœºå™¨æŒ‡ä»¤ï¼Œæœ€ç»ˆä¸è¢«CPUæ‰€æ‰§è¡Œã€‚ä¼ªæŒ‡ä»¤æ˜¯ç”±ç¼–è¯‘å™¨æ¥æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œç¼–è¯‘å™¨æ ¹æ®ä¼ªæŒ‡ä»¤æ¥è¿›è¡Œç›¸å…³çš„ç¼–è¯‘å·¥ä½œã€‚\nç¨‹åºä¸­å‡ºç°äº†3ç§ä¼ªæŒ‡ä»¤\nï¼ˆ1ï¼‰segmentå’Œends\nsegmentå’Œendsæ˜¯ä¸€å¯¹æˆå¯¹ä½¿ç”¨çš„ä¼ªæŒ‡ä»¤ï¼Œè¿™æ˜¯åœ¨å†™å¯è¢«ç¼–è¯‘å™¨ç¼–è¯‘çš„æ±‡ç¼–ç¨‹åºæ—¶ï¼Œå¿…é¡»è¦ç”¨åˆ°çš„ä¸€å¯¹ä¼ªæŒ‡\nsegmentå’Œendsçš„åŠŸèƒ½æ˜¯å®šä¹‰ä¸€ä¸ªæ®µsegmentè¯´æ˜ä¸€ä¸ªæ®µå¼€å§‹ï¼Œendsè¯´æ˜ä¸€ä¸ªæ®µç»“æŸã€‚ä¸€ä¸ªæ®µå¿…é¡»æœ‰ä¸€ä¸ªåç§°æ¥æ ‡è¯†\nï¼ˆ2ï¼‰end\nendæ˜¯ä¸€ä¸ªæ±‡ç¼–ç¨‹åºçš„ç»“æŸæ ‡è®°ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ±‡ç¼–ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç¢°åˆ°äº†ä¼ªæŒ‡ä»¤endï¼Œå°±ç»“æŸå¯¹æºç¨‹åºçš„ç¼–è¯‘ã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬å†™ç¨‹åºçš„æ—¶å€™ï¼Œå¦‚æœç¨‹åºå†™å®Œäº†ï¼Œè¦åœ¨ç»“å°¾å¤„åŠ ä¸Šä¼ªæŒ‡ä»¤endã€‚å¦åˆ™ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘ç¨‹åºæ—¶ï¼Œæ— æ³•çŸ¥é“ç¨‹åºåœ¨ä½•å¤„ç»“æŸã€‚\nï¼ˆ3) assume\nè¿™æ¡ä¼ªæŒ‡ä»¤çš„å«ä¹‰ä¸ºâ€œå‡è®¾â€ã€‚å®ƒå‡è®¾æŸä¸€æ®µå¯„å­˜å™¨å’Œç¨‹åºä¸­çš„æŸä¸€ä¸ªç”¨segmentâ€¦endså®šä¹‰çš„æ®µç›¸å…³è”ã€‚é€šè¿‡ assumeè¯´æ˜è¿™ç§å…³è”ï¼Œåœ¨éœ€è¦çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘ç¨‹åºå¯ä»¥å°†æ®µå¯„å­˜å™¨å’ŒæŸä¸€ä¸ªå…·ä½“çš„æ®µç›¸è”ç³»ã€‚\næ¯”å¦‚ï¼Œåœ¨ç¨‹åºä¸­ï¼Œç”¨codesg segment â€¦ codesg endså®šä¹‰äº†ä¸€ä¸ªåä¸ºcodsegçš„æ®µï¼Œåœ¨è¿™ä¸ªæ®µä¸­å­˜æ”¾ä»£ç ï¼Œæ‰€ä»¥è¿™ä¸ªæ®µæ˜¯ä¸€ä¸ªä»£ç æ®µã€‚åœ¨ç¨‹åºçš„å¼€å¤´ï¼Œç”¨assume cs:codesg å°†ç”¨ä½œä»£ç æ®µçš„æ®µcodesgå’ŒCPUä¸­çš„æ®µå¯„å­˜å™¨csè”ç³»èµ·æ¥ã€‚\næ³¨æ„ï¼Œä»¥åå¯ä»¥å°†æºç¨‹åºæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ç§°ä¸ºæºç¨‹åºï¼Œå°†æºç¨‹åºä¸­æœ€ç»ˆç”±è®¡ç®—æœºæ‰§è¡Œã€å¤„ç†çš„æŒ‡ä»¤æˆ–æ•°æ®ï¼Œç§°ä¸ºç¨‹åºã€‚\nç¨‹åºè¿”å› ä¸€ä¸ªç¨‹åºP2åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œåˆ™å¿…é¡»æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºP1ï¼Œå°†P2ä»å¯æ‰§è¡Œæ–‡ä»¶ä¸­åŠ è½½å…¥å†…å­˜åï¼Œå°†CPUçš„æ§åˆ¶æƒäº¤ç»™P2ï¼ŒP2æ‰èƒ½å¾—ä»¥è¿è¡Œã€‚P2å¼€å§‹è¿è¡Œåï¼ŒP1æš‚åœè¿è¡Œã€‚è€Œå½“P2è¿è¡Œå®Œæ¯•åï¼Œåº”è¯¥å°†CPUçš„æ§åˆ¶æƒäº¤è¿˜ç»™ä½¿å®ƒå¾—ä»¥è¿è¡Œçš„ç¨‹åºP1ï¼Œæ­¤åï¼ŒP1ç»§ç»­è¿è¡Œã€‚\nç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªç¨‹åºç»“æŸåï¼Œå°† CPUçš„æ§åˆ¶æƒäº¤è¿˜ç»™ä½¿å®ƒå¾—ä»¥è¿è¡Œçš„ç¨‹åºï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªè¿‡ç¨‹ä¸ºï¼šç¨‹åºè¿”å›ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•è¿”å›å‘¢ï¼Ÿåº”è¯¥åœ¨ç¨‹åºçš„æœ«å°¾æ·»åŠ è¿”å›çš„ç¨‹åºæ®µã€‚\næˆ‘ä»¬å›è¿‡å¤´æ¥ï¼Œçœ‹ä¸€ä¸‹ç¨‹åºä¸­çš„ä¸¤æ¡æŒ‡ä»¤ï¼š\n1 2 mov ax ,4c00H int 21H è¿™ä¸¤æ¡æŒ‡ä»¤æ‰€å®ç°çš„åŠŸèƒ½å°±æ˜¯ç¨‹åºè¿”å›ã€‚\nDOS æºç¨‹åºçš„ç¼–è¾‘ã€ç¼–è¯‘ã€è¿æ¥ã€æ‰§è¡Œ ç¼–è¾‘ 1 C:\\\u003eedit ç¼–è¯‘ masm\n1 C:\\masm\u003emasm c:\\1; åœ¨åé¢åŠ åˆ†å·è‡ªåŠ¨å¿½ç•¥ä¸­é—´æ–‡ä»¶çš„ç”Ÿæˆ\nè¿æ¥ link\n1 C:\\masm\u003elink 1; æ‰§è¡Œ 1 C:\\masm\u003e1 4.8 è°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç¨‹åºè£…è½½è¿›å…¥å†…å­˜å¹¶ä½¿å®ƒè¿è¡Œï¼Ÿ ï¼ˆ1ï¼‰åœ¨ DOSä¸­ç›´æ¥æ‰§è¡Œ1.exeæ—¶ï¼Œæ˜¯æ­£åœ¨è¿è¡Œçš„commandï¼Œå°†1.exeä¸­çš„ç¨‹åºåŠ è½½å…¥å†…å­˜;\nï¼ˆ2ï¼‰commandè®¾ç½®CPU çš„CS:IPæŒ‡å‘ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤(å³ç¨‹åºçš„å…¥å£)ï¼Œä»è€Œä½¿ç¨‹åºå¾—ä»¥è¿è¡Œ;\nï¼ˆ3ï¼‰ç¨‹åºè¿è¡Œç»“æŸåï¼Œè¿”å›åˆ°command ä¸­ï¼ŒCPUç»§ç»­è¿è¡Œcommandã€‚\n4.9 ç¨‹åºæ‰§è¡Œè¿‡ç¨‹çš„è·Ÿè¸ª ä¸ºäº†è§‚å¯Ÿç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨Debugã€‚Debug å¯ä»¥å°†ç¨‹åºåŠ è½½å…¥å†…å­˜ï¼Œè®¾ç½®CS:IPæŒ‡å‘ç¨‹åºçš„å…¥å£ï¼Œä½† Debug å¹¶ä¸æ”¾å¼ƒå¯¹CPUçš„æ§åˆ¶ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Debugçš„ç›¸å…³å‘½ä»¤æ¥å•æ­¥æ‰§è¡Œç¨‹åºï¼ŒæŸ¥çœ‹æ¯ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œç»“æœã€‚\nåœ¨ DOSç³»ç»Ÿä¸­.EXEæ–‡ä»¶ä¸­çš„ç¨‹åºçš„åŠ è½½è¿‡ç¨‹ ï¼ˆ1ï¼‰ç¨‹åºåŠ è½½åï¼Œdsä¸­å­˜æ”¾ç€ç¨‹åºæ‰€åœ¨å†…å­˜åŒºçš„æ®µåœ°å€ï¼Œè¿™ä¸ªå†…å­˜åŒºçš„åç§»åœ°å€ä¸º0ï¼Œåˆ™ç¨‹åºæ‰€åœ¨çš„å†…å­˜åŒºçš„åœ°å€ä¸ºds:0ï¼›\nï¼ˆ2ï¼‰è¿™ä¸ªå†…å­˜åŒºçš„å‰256ä¸ªå­—èŠ‚ä¸­å­˜æ”¾çš„æ˜¯PSPï¼ŒDOSç”¨æ¥å’Œç¨‹åºè¿›è¡Œé€šä¿¡ã€‚ä»256å­—èŠ‚å¤„å‘åçš„ç©ºé—´å­˜æ”¾çš„æ˜¯ç¨‹åºã€‚\næ‰€ä»¥ï¼Œä»dsä¸­å¯ä»¥å¾—åˆ°PSPçš„æ®µåœ°å€SAï¼ŒPSPçš„åç§»åœ°å€ä¸º0ï¼Œåˆ™ç‰©ç†åœ°å€ä¸ºSAÃ—16+0ã€‚\nå› ä¸ºPSPå 256(100H)å­—èŠ‚ï¼Œæ‰€ä»¥ç¨‹åºçš„ç‰©ç†åœ°å€æ˜¯ï¼šSAÃ—16+0+256=SAÃ—16+16Ã—16+0=(SA+16)Ã—16+0\nå¯ç”¨æ®µåœ°å€å’Œåç§»åœ°å€è¡¨ç¤ºä¸ºï¼šSA+10H:0ã€‚\nå›¾4.19ä¸­DS çš„å€¼ï¼ŒDS=129Eï¼Œåˆ™PSPçš„åœ°å€ä¸º129E:0ï¼Œç¨‹åºçš„åœ°å€ä¸º12AE:0(å³129E+10:0)ã€‚\n==åˆ°äº†int 21ï¼Œè¦ç”¨På‘½ä»¤æ‰§è¡Œ==\nint 21æ‰§è¡Œåï¼Œæ˜¾ç¤ºå‡ºâ€œProgram terminated normallyâ€ï¼Œè¿”å›åˆ° Debugä¸­ã€‚è¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸã€‚\nä½¿ç”¨Qå‘½ä»¤é€€å‡ºDebugï¼Œå°†è¿”å›åˆ°command ä¸­ï¼Œå› ä¸º Debugæ˜¯ç”±commandåŠ è½½è¿è¡Œçš„ã€‚åœ¨ DOSä¸­ç”¨â€œdebug 1.exeâ€è¿è¡ŒDebugå¯¹1.exeè¿›è¡Œè·Ÿè¸ªæ—¶ï¼Œç¨‹åºåŠ è½½çš„é¡ºåºæ˜¯ï¼šcommandåŠ è½½Debugï¼ŒDebugåŠ è½½1.exeã€‚è¿”å›çš„é¡ºåºæ˜¯ï¼šä» 1.exe ä¸­çš„ç¨‹åºè¿”å›åˆ°Debugï¼Œä»Debugè¿”å›åˆ°commandã€‚\n==å®éªŒ== 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 assume cs:codesg codesg segment mov ax,2000H mov ss,ax mov sp,0 add sp,10 pop ax pop bx push ax push bx pop ax pop bx mov ax,4c00H int 21H codesg ends end 2000:0 - 2000:f è¿™ä¸€è¡Œ\nåœ¨æ‰§è¡Œpopæ—¶ï¼Œçº¢æ¡†å†…å®¹å³ç§»\nåœ¨æ‰§è¡Œpushæ—¶ï¼Œçº¢æ¡†å†…å®¹å·¦ç§» ==ä¸ºä»€ä¹ˆï¼Ÿ==\n",
  "wordCount" : "1954",
  "inLanguage": "zh",
  "datePublished": "2022-04-13T00:00:00Z",
  "dateModified": "2022-04-13T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "chance7bin"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chance7bin.github.io/posts/basic/asm/%E7%AC%AC4%E7%AB%A0-%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Binb's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chance7bin.github.io/" accesskey="h" title="Binb&#39;s Blog (Alt + H)">
                <img src="https://chance7bin.github.io/img/%E7%BE%8E%E9%98%9F.jpg" alt="" aria-label="logo"
                    height="35">Binb&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chance7bin.github.io/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/" title="ğŸ  ä¸»é¡µ">
                    <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/archives/" title="â±ï¸ æ—¶é—´è½´">
                    <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/posts" title="ğŸ“š æ–‡ç« ">
                    <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://chance7bin.github.io/tags" title="ğŸ”– æ ‡ç­¾">
                    <span>ğŸ”– æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/chance7bin" title="GitHub">
                    <span>GitHub</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://chance7bin.github.io/">ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/">ğŸ“š æ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/basic/">ğŸ“• è®¡ç®—æœºåŸºç¡€</a>&nbsp;Â»&nbsp;<a href="https://chance7bin.github.io/posts/basic/asm/">æ±‡ç¼–è¯­è¨€</a></div>
    <h1 class="post-title">
      ç¬¬4ç«  ç¬¬ä¸€ä¸ªç¨‹åº
    </h1>
    <div class="post-meta">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">


<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2022-04-13
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>1954å­—
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>4åˆ†é’Ÿ
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>chance7bin
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
                <a href="https://chance7bin.github.io/tags/%E6%B1%87%E7%BC%96/" style="color: var(--secondary)!important;">æ±‡ç¼–</a>
            </span>
        </span>
    </span>

    
</span>


      
      
      
      
      
      
      
          
          
          
              
              
              
              
          
      
    </div>
  </header>
   <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#41-%e4%b8%80%e4%b8%aa%e6%ba%90%e7%a8%8b%e5%ba%8f%e4%bb%8e%e5%86%99%e5%87%ba%e5%88%b0%e6%89%a7%e8%a1%8c%e7%9a%84%e8%bf%87%e7%a8%8b" aria-label="4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹">4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹</a></li>
                    <li>
                        <a href="#42-%e6%ba%90%e7%a8%8b%e5%ba%8f" aria-label="4.2 æºç¨‹åº">4.2 æºç¨‹åº</a><ul>
                            
                    <li>
                        <a href="#%e4%bc%aa%e6%8c%87%e4%bb%a4" aria-label="ä¼ªæŒ‡ä»¤">ä¼ªæŒ‡ä»¤</a></li>
                    <li>
                        <a href="#%e7%a8%8b%e5%ba%8f%e8%bf%94%e5%9b%9e" aria-label="ç¨‹åºè¿”å›">ç¨‹åºè¿”å›</a></li></ul>
                    </li>
                    <li>
                        <a href="#dos-%e6%ba%90%e7%a8%8b%e5%ba%8f%e7%9a%84%e7%bc%96%e8%be%91%e7%bc%96%e8%af%91%e8%bf%9e%e6%8e%a5%e6%89%a7%e8%a1%8c" aria-label="DOS æºç¨‹åºçš„ç¼–è¾‘ã€ç¼–è¯‘ã€è¿æ¥ã€æ‰§è¡Œ">DOS æºç¨‹åºçš„ç¼–è¾‘ã€ç¼–è¯‘ã€è¿æ¥ã€æ‰§è¡Œ</a><ul>
                            
                    <li>
                        <a href="#%e7%bc%96%e8%be%91" aria-label="ç¼–è¾‘">ç¼–è¾‘</a></li>
                    <li>
                        <a href="#%e7%bc%96%e8%af%91" aria-label="ç¼–è¯‘">ç¼–è¯‘</a></li>
                    <li>
                        <a href="#%e8%bf%9e%e6%8e%a5" aria-label="è¿æ¥">è¿æ¥</a></li>
                    <li>
                        <a href="#%e6%89%a7%e8%a1%8c" aria-label="æ‰§è¡Œ">æ‰§è¡Œ</a></li></ul>
                    </li>
                    <li>
                        <a href="#48-%e8%b0%81%e5%b0%86%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6%e4%b8%ad%e7%9a%84%e7%a8%8b%e5%ba%8f%e8%a3%85%e8%bd%bd%e8%bf%9b%e5%85%a5%e5%86%85%e5%ad%98%e5%b9%b6%e4%bd%bf%e5%ae%83%e8%bf%90%e8%a1%8c" aria-label="4.8 è°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç¨‹åºè£…è½½è¿›å…¥å†…å­˜å¹¶ä½¿å®ƒè¿è¡Œï¼Ÿ">4.8 è°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç¨‹åºè£…è½½è¿›å…¥å†…å­˜å¹¶ä½¿å®ƒè¿è¡Œï¼Ÿ</a></li>
                    <li>
                        <a href="#49-%e7%a8%8b%e5%ba%8f%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b%e7%9a%84%e8%b7%9f%e8%b8%aa" aria-label="4.9 ç¨‹åºæ‰§è¡Œè¿‡ç¨‹çš„è·Ÿè¸ª">4.9 ç¨‹åºæ‰§è¡Œè¿‡ç¨‹çš„è·Ÿè¸ª</a><ul>
                            
                    <li>
                        <a href="#%e5%9c%a8-dos%e7%b3%bb%e7%bb%9f%e4%b8%adexe%e6%96%87%e4%bb%b6%e4%b8%ad%e7%9a%84%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%8a%a0%e8%bd%bd%e8%bf%87%e7%a8%8b" aria-label="åœ¨ DOSç³»ç»Ÿä¸­.EXEæ–‡ä»¶ä¸­çš„ç¨‹åºçš„åŠ è½½è¿‡ç¨‹">åœ¨ DOSç³»ç»Ÿä¸­.EXEæ–‡ä»¶ä¸­çš„ç¨‹åºçš„åŠ è½½è¿‡ç¨‹</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%ae%9e%e9%aa%8c" aria-label="==å®éªŒ==">==å®éªŒ==</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><h3 id="41-ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹">4.1 ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹<a hidden class="anchor" aria-hidden="true" href="#41-ä¸€ä¸ªæºç¨‹åºä»å†™å‡ºåˆ°æ‰§è¡Œçš„è¿‡ç¨‹">#</a></h3>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244574.png" alt="image-20211201110414049" style="zoom:80%;" /> 
<h3 id="42-æºç¨‹åº">4.2 æºç¨‹åº<a hidden class="anchor" aria-hidden="true" href="#42-æºç¨‹åº">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">assume cs: codesg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">codesg segment
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    mov ax,0123H
</span></span><span class="line"><span class="cl">    mov bx,0456H
</span></span><span class="line"><span class="cl">    add ax,bx
</span></span><span class="line"><span class="cl">    add ax,ax
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    mov ax ,4c00H
</span></span><span class="line"><span class="cl">    int 21H
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">codesg ends
</span></span><span class="line"><span class="cl">end
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ä¼ªæŒ‡ä»¤">ä¼ªæŒ‡ä»¤<a hidden class="anchor" aria-hidden="true" href="#ä¼ªæŒ‡ä»¤">#</a></h4>
<p>åœ¨æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤ç§æŒ‡ä»¤ï¼Œä¸€ç§æ˜¯æ±‡ç¼–æŒ‡ä»¤ï¼Œä¸€ç§æ˜¯ä¼ªæŒ‡ä»¤ã€‚æ±‡ç¼–æŒ‡ä»¤æ˜¯æœ‰å¯¹åº”çš„æœºå™¨ç çš„æŒ‡ä»¤ï¼Œå¯ä»¥è¢«ç¼–è¯‘ä¸ºæœºå™¨æŒ‡ä»¤ï¼Œæœ€ç»ˆä¸ºCPUæ‰€æ‰§è¡Œã€‚è€Œä¼ªæŒ‡ä»¤æ²¡æœ‰å¯¹åº”çš„æœºå™¨æŒ‡ä»¤ï¼Œæœ€ç»ˆä¸è¢«CPUæ‰€æ‰§è¡Œã€‚ä¼ªæŒ‡ä»¤æ˜¯ç”±ç¼–è¯‘å™¨æ¥æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œç¼–è¯‘å™¨æ ¹æ®ä¼ªæŒ‡ä»¤æ¥è¿›è¡Œç›¸å…³çš„ç¼–è¯‘å·¥ä½œã€‚</p>
<p>ç¨‹åºä¸­å‡ºç°äº†3ç§ä¼ªæŒ‡ä»¤</p>
<p>ï¼ˆ1ï¼‰segmentå’Œends</p>
<p>segmentå’Œendsæ˜¯ä¸€å¯¹æˆå¯¹ä½¿ç”¨çš„ä¼ªæŒ‡ä»¤ï¼Œè¿™æ˜¯åœ¨å†™å¯è¢«ç¼–è¯‘å™¨ç¼–è¯‘çš„æ±‡ç¼–ç¨‹åºæ—¶ï¼Œå¿…é¡»è¦ç”¨åˆ°çš„ä¸€å¯¹ä¼ªæŒ‡</p>
<p>segmentå’Œendsçš„åŠŸèƒ½æ˜¯å®šä¹‰ä¸€ä¸ªæ®µsegmentè¯´æ˜ä¸€ä¸ªæ®µå¼€å§‹ï¼Œendsè¯´æ˜ä¸€ä¸ªæ®µç»“æŸã€‚ä¸€ä¸ªæ®µå¿…é¡»æœ‰ä¸€ä¸ªåç§°æ¥æ ‡è¯†</p>
<p>ï¼ˆ2ï¼‰end</p>
<p>endæ˜¯ä¸€ä¸ªæ±‡ç¼–ç¨‹åºçš„ç»“æŸæ ‡è®°ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ±‡ç¼–ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç¢°åˆ°äº†ä¼ªæŒ‡ä»¤endï¼Œå°±ç»“æŸå¯¹æºç¨‹åºçš„ç¼–è¯‘ã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬å†™ç¨‹åºçš„æ—¶å€™ï¼Œå¦‚æœç¨‹åºå†™å®Œäº†ï¼Œè¦åœ¨ç»“å°¾å¤„åŠ ä¸Šä¼ªæŒ‡ä»¤endã€‚å¦åˆ™ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘ç¨‹åºæ—¶ï¼Œæ— æ³•çŸ¥é“ç¨‹åºåœ¨ä½•å¤„ç»“æŸã€‚</p>
<p>ï¼ˆ3) assume</p>
<p>è¿™æ¡ä¼ªæŒ‡ä»¤çš„å«ä¹‰ä¸ºâ€œå‡è®¾â€ã€‚å®ƒå‡è®¾æŸä¸€æ®µå¯„å­˜å™¨å’Œç¨‹åºä¸­çš„æŸä¸€ä¸ªç”¨segment&hellip;endså®šä¹‰çš„æ®µç›¸å…³è”ã€‚é€šè¿‡ assumeè¯´æ˜è¿™ç§å…³è”ï¼Œåœ¨éœ€è¦çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘ç¨‹åºå¯ä»¥å°†æ®µå¯„å­˜å™¨å’ŒæŸä¸€ä¸ªå…·ä½“çš„æ®µç›¸è”ç³»ã€‚</p>
<p>æ¯”å¦‚ï¼Œåœ¨ç¨‹åºä¸­ï¼Œç”¨codesg segment &hellip; codesg endså®šä¹‰äº†ä¸€ä¸ªåä¸ºcodsegçš„æ®µï¼Œåœ¨è¿™ä¸ªæ®µä¸­å­˜æ”¾ä»£ç ï¼Œæ‰€ä»¥è¿™ä¸ªæ®µæ˜¯ä¸€ä¸ªä»£ç æ®µã€‚åœ¨ç¨‹åºçš„å¼€å¤´ï¼Œç”¨assume cs:codesg å°†ç”¨ä½œä»£ç æ®µçš„æ®µcodesgå’ŒCPUä¸­çš„æ®µå¯„å­˜å™¨csè”ç³»èµ·æ¥ã€‚</p>
<p>æ³¨æ„ï¼Œä»¥åå¯ä»¥å°†æºç¨‹åºæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ç§°ä¸ºæºç¨‹åºï¼Œå°†æºç¨‹åºä¸­æœ€ç»ˆç”±è®¡ç®—æœºæ‰§è¡Œã€å¤„ç†çš„æŒ‡ä»¤æˆ–æ•°æ®ï¼Œç§°ä¸ºç¨‹åºã€‚</p>
<h4 id="ç¨‹åºè¿”å›">ç¨‹åºè¿”å›<a hidden class="anchor" aria-hidden="true" href="#ç¨‹åºè¿”å›">#</a></h4>
<p>ä¸€ä¸ªç¨‹åºP2åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œåˆ™å¿…é¡»æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºP1ï¼Œå°†P2ä»å¯æ‰§è¡Œæ–‡ä»¶ä¸­åŠ è½½å…¥å†…å­˜åï¼Œå°†CPUçš„æ§åˆ¶æƒäº¤ç»™P2ï¼ŒP2æ‰èƒ½å¾—ä»¥è¿è¡Œã€‚P2å¼€å§‹è¿è¡Œåï¼ŒP1æš‚åœè¿è¡Œã€‚è€Œå½“P2è¿è¡Œå®Œæ¯•åï¼Œåº”è¯¥å°†CPUçš„æ§åˆ¶æƒäº¤è¿˜ç»™ä½¿å®ƒå¾—ä»¥è¿è¡Œçš„ç¨‹åºP1ï¼Œæ­¤åï¼ŒP1ç»§ç»­è¿è¡Œã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªç¨‹åºç»“æŸåï¼Œå°† CPUçš„æ§åˆ¶æƒäº¤è¿˜ç»™ä½¿å®ƒå¾—ä»¥è¿è¡Œçš„ç¨‹åºï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªè¿‡ç¨‹ä¸ºï¼š<strong>ç¨‹åºè¿”å›</strong>ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•è¿”å›å‘¢ï¼Ÿåº”è¯¥åœ¨ç¨‹åºçš„æœ«å°¾æ·»åŠ è¿”å›çš„ç¨‹åºæ®µã€‚</p>
<p>æˆ‘ä»¬å›è¿‡å¤´æ¥ï¼Œçœ‹ä¸€ä¸‹ç¨‹åºä¸­çš„ä¸¤æ¡æŒ‡ä»¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mov ax ,4c00H
</span></span><span class="line"><span class="cl">int 21H
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸¤æ¡æŒ‡ä»¤æ‰€å®ç°çš„åŠŸèƒ½å°±æ˜¯ç¨‹åºè¿”å›ã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244594.png" alt="image-20211201111613700" style="zoom:80%;" /> 
<h3 id="dos-æºç¨‹åºçš„ç¼–è¾‘ç¼–è¯‘è¿æ¥æ‰§è¡Œ">DOS æºç¨‹åºçš„ç¼–è¾‘ã€ç¼–è¯‘ã€è¿æ¥ã€æ‰§è¡Œ<a hidden class="anchor" aria-hidden="true" href="#dos-æºç¨‹åºçš„ç¼–è¾‘ç¼–è¯‘è¿æ¥æ‰§è¡Œ">#</a></h3>
<h4 id="ç¼–è¾‘">ç¼–è¾‘<a hidden class="anchor" aria-hidden="true" href="#ç¼–è¾‘">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">C:\&gt;edit
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ç¼–è¯‘">ç¼–è¯‘<a hidden class="anchor" aria-hidden="true" href="#ç¼–è¯‘">#</a></h4>
<p>masm</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">C:\masm&gt;masm c:\1;
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨åé¢åŠ åˆ†å·è‡ªåŠ¨å¿½ç•¥ä¸­é—´æ–‡ä»¶çš„ç”Ÿæˆ</p>
<h4 id="è¿æ¥">è¿æ¥<a hidden class="anchor" aria-hidden="true" href="#è¿æ¥">#</a></h4>
<p>link</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">C:\masm&gt;link 1;
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ‰§è¡Œ">æ‰§è¡Œ<a hidden class="anchor" aria-hidden="true" href="#æ‰§è¡Œ">#</a></h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">C:\masm&gt;1
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="48-è°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç¨‹åºè£…è½½è¿›å…¥å†…å­˜å¹¶ä½¿å®ƒè¿è¡Œ">4.8 è°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç¨‹åºè£…è½½è¿›å…¥å†…å­˜å¹¶ä½¿å®ƒè¿è¡Œï¼Ÿ<a hidden class="anchor" aria-hidden="true" href="#48-è°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç¨‹åºè£…è½½è¿›å…¥å†…å­˜å¹¶ä½¿å®ƒè¿è¡Œ">#</a></h3>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244603.png" alt="image-20211201140731220"  />
</p>
<p>ï¼ˆ1ï¼‰åœ¨ DOSä¸­ç›´æ¥æ‰§è¡Œ1.exeæ—¶ï¼Œæ˜¯æ­£åœ¨è¿è¡Œçš„commandï¼Œå°†1.exeä¸­çš„ç¨‹åºåŠ è½½å…¥å†…å­˜;</p>
<p>ï¼ˆ2ï¼‰commandè®¾ç½®CPU çš„CS:IPæŒ‡å‘ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤(å³ç¨‹åºçš„å…¥å£)ï¼Œä»è€Œä½¿ç¨‹åºå¾—ä»¥è¿è¡Œ;</p>
<p>ï¼ˆ3ï¼‰ç¨‹åºè¿è¡Œç»“æŸåï¼Œè¿”å›åˆ°command ä¸­ï¼ŒCPUç»§ç»­è¿è¡Œcommandã€‚</p>
<p><img loading="lazy" src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244599.png" alt="image-20211201140834972"  />
</p>
<h3 id="49-ç¨‹åºæ‰§è¡Œè¿‡ç¨‹çš„è·Ÿè¸ª">4.9 ç¨‹åºæ‰§è¡Œè¿‡ç¨‹çš„è·Ÿè¸ª<a hidden class="anchor" aria-hidden="true" href="#49-ç¨‹åºæ‰§è¡Œè¿‡ç¨‹çš„è·Ÿè¸ª">#</a></h3>
<p>ä¸ºäº†è§‚å¯Ÿç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨Debugã€‚Debug å¯ä»¥å°†ç¨‹åºåŠ è½½å…¥å†…å­˜ï¼Œè®¾ç½®CS:IPæŒ‡å‘ç¨‹åºçš„å…¥å£ï¼Œä½† Debug å¹¶ä¸æ”¾å¼ƒå¯¹CPUçš„æ§åˆ¶ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Debugçš„ç›¸å…³å‘½ä»¤æ¥å•æ­¥æ‰§è¡Œç¨‹åºï¼ŒæŸ¥çœ‹æ¯ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œç»“æœã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244597.png" alt="image-20211201141235919" style="zoom:80%;" /> 
<h4 id="åœ¨-dosç³»ç»Ÿä¸­exeæ–‡ä»¶ä¸­çš„ç¨‹åºçš„åŠ è½½è¿‡ç¨‹">åœ¨ DOSç³»ç»Ÿä¸­.EXEæ–‡ä»¶ä¸­çš„ç¨‹åºçš„åŠ è½½è¿‡ç¨‹<a hidden class="anchor" aria-hidden="true" href="#åœ¨-dosç³»ç»Ÿä¸­exeæ–‡ä»¶ä¸­çš„ç¨‹åºçš„åŠ è½½è¿‡ç¨‹">#</a></h4>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244621.png" alt="image-20211201141311423" style="zoom:80%;" /> 
<p>ï¼ˆ1ï¼‰ç¨‹åºåŠ è½½åï¼Œdsä¸­å­˜æ”¾ç€ç¨‹åºæ‰€åœ¨å†…å­˜åŒºçš„æ®µåœ°å€ï¼Œè¿™ä¸ªå†…å­˜åŒºçš„åç§»åœ°å€ä¸º0ï¼Œåˆ™ç¨‹åºæ‰€åœ¨çš„å†…å­˜åŒºçš„åœ°å€ä¸ºds:0ï¼›</p>
<p>ï¼ˆ2ï¼‰è¿™ä¸ªå†…å­˜åŒºçš„å‰256ä¸ªå­—èŠ‚ä¸­å­˜æ”¾çš„æ˜¯PSPï¼ŒDOSç”¨æ¥å’Œç¨‹åºè¿›è¡Œé€šä¿¡ã€‚ä»256å­—èŠ‚å¤„å‘åçš„ç©ºé—´å­˜æ”¾çš„æ˜¯ç¨‹åºã€‚</p>
<p>æ‰€ä»¥ï¼Œä»dsä¸­å¯ä»¥å¾—åˆ°PSPçš„æ®µåœ°å€SAï¼ŒPSPçš„åç§»åœ°å€ä¸º0ï¼Œåˆ™ç‰©ç†åœ°å€ä¸ºSAÃ—16+0ã€‚</p>
<p>å› ä¸ºPSPå 256(100H)å­—èŠ‚ï¼Œæ‰€ä»¥ç¨‹åºçš„ç‰©ç†åœ°å€æ˜¯ï¼šSAÃ—16+0+256=SAÃ—16+16Ã—16+0=(SA+16)Ã—16+0</p>
<p>å¯ç”¨æ®µåœ°å€å’Œåç§»åœ°å€è¡¨ç¤ºä¸ºï¼šSA+10H:0ã€‚</p>
<p>å›¾4.19ä¸­DS çš„å€¼ï¼ŒDS=129Eï¼Œåˆ™PSPçš„åœ°å€ä¸º129E:0ï¼Œç¨‹åºçš„åœ°å€ä¸º12AE:0(å³129E+10:0)ã€‚</p>
<p>==åˆ°äº†int 21ï¼Œè¦ç”¨På‘½ä»¤æ‰§è¡Œ==</p>
<p>int 21æ‰§è¡Œåï¼Œæ˜¾ç¤ºå‡ºâ€œProgram terminated normallyâ€ï¼Œè¿”å›åˆ° Debugä¸­ã€‚è¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸã€‚</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244012.png" alt="image-20211201141803738"  /> 
<p>ä½¿ç”¨Qå‘½ä»¤é€€å‡ºDebugï¼Œå°†è¿”å›åˆ°command ä¸­ï¼Œå› ä¸º Debugæ˜¯ç”±commandåŠ è½½è¿è¡Œçš„ã€‚åœ¨ DOSä¸­ç”¨â€œdebug 1.exeâ€è¿è¡ŒDebugå¯¹1.exeè¿›è¡Œè·Ÿè¸ªæ—¶ï¼Œç¨‹åºåŠ è½½çš„é¡ºåºæ˜¯ï¼šcommandåŠ è½½Debugï¼ŒDebugåŠ è½½1.exeã€‚è¿”å›çš„é¡ºåºæ˜¯ï¼šä» 1.exe ä¸­çš„ç¨‹åºè¿”å›åˆ°Debugï¼Œä»Debugè¿”å›åˆ°commandã€‚</p>
<h3 id="å®éªŒ">==å®éªŒ==<a hidden class="anchor" aria-hidden="true" href="#å®éªŒ">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">assume cs:codesg
</span></span><span class="line"><span class="cl">codesg segment
</span></span><span class="line"><span class="cl">	mov ax,2000H
</span></span><span class="line"><span class="cl">	mov ss,ax
</span></span><span class="line"><span class="cl">	mov sp,0
</span></span><span class="line"><span class="cl">	add sp,10
</span></span><span class="line"><span class="cl">	pop ax
</span></span><span class="line"><span class="cl">	pop bx
</span></span><span class="line"><span class="cl">	push ax
</span></span><span class="line"><span class="cl">	push bx
</span></span><span class="line"><span class="cl">	pop ax
</span></span><span class="line"><span class="cl">	pop bx
</span></span><span class="line"><span class="cl">	mov ax,4c00H
</span></span><span class="line"><span class="cl">	int 21H
</span></span><span class="line"><span class="cl">codesg ends
</span></span><span class="line"><span class="cl">end
</span></span></code></pre></td></tr></table>
</div>
</div><p>2000:0 - 2000:f è¿™ä¸€è¡Œ</p>
<p>åœ¨æ‰§è¡Œpopæ—¶ï¼Œçº¢æ¡†å†…å®¹å³ç§»</p>
<p>åœ¨æ‰§è¡Œpushæ—¶ï¼Œçº¢æ¡†å†…å®¹å·¦ç§» ==ä¸ºä»€ä¹ˆï¼Ÿ==</p>
<img src="https://blog-images-1301988137.cos.ap-nanjing.myqcloud.com/blog/2207/202308012244029.png" alt="image-20211201145316101" style="zoom:80%;" /> 


  </div>

  <footer class="post-footer">
    
<nav class="paginav">
  <a class="prev" href="https://chance7bin.github.io/posts/basic/os/%E4%BA%94%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>äº”ã€å­˜å‚¨ç®¡ç†</span>
  </a>
  <a class="next" href="https://chance7bin.github.io/posts/basic/os-lab/%E5%AE%9E%E9%AA%8C6-%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%92%8C%E5%BA%94%E7%94%A8/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>å®éªŒ6 ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://chance7bin.github.io/">Binb&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
